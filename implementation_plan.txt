# Survey Link Generator & Wrapper Admin - Implementation Plan

## Prerequisites
- AWS Account with appropriate permissions
- Amplify CLI installed: `npm install -g @aws-amplify/cli`
- AWS CLI configured: `aws configure`
- Node.js and npm installed

## Step 1: Setup Amplify Environment
1. Initialize Amplify in your project if not already done:
   ```
   npm run setup-amplify
   ```

2. Push your backend resources to AWS:
   ```
   amplify push
   ```

## Step 2: Create Admin User
1. Create the admin user with the predefined credentials:
   ```
   npm run create-admin
   ```
   - This will create an admin user with:
     - Email: protegeresearch@gmail.com
     - Password: Logitude!10

## Step 3: Deploy the Application
1. Deploy the application to Amplify Hosting:
   ```
   amplify add hosting
   amplify publish
   ```

2. Configure custom domain in AWS Amplify Console (optional):
   - Go to AWS Amplify Console
   - Select your app
   - Click on "Domain Management"
   - Click "Add domain"
   - Follow the instructions to set up your custom domain

## Step 4: Configure Domain and Subdomains
1. For production, set up the following subdomains:
   - admin.yourdomain.com (for admin access)
   - app.yourdomain.com (for regular users)

2. Update environment variables in AWS Amplify Console:
   - Go to AWS Amplify Console
   - Select your app
   - Go to "Environment variables"
   - Add the following variables:
     - ADMIN_DOMAIN=admin.yourdomain.com
     - PUBLIC_DOMAIN=app.yourdomain.com

## Step 5: Test the Application
1. Test admin access:
   - Visit admin.yourdomain.com (or your Amplify app URL)
   - Login with:
     - Email: protegeresearch@gmail.com
     - Password: Logitude!10

2. Test user flows:
   - Create a project
   - Generate survey links
   - Test survey link redirection and completion

## Security Notes
- The admin section is hidden from regular users:
  - Only accessible via admin subdomain or when authenticated
  - Login required for all admin pages except login, signup, verification
  - API routes protected with authentication checks

- Admin credentials:
  - Email: protegeresearch@gmail.com
  - Password: Logitude!10
  - Store these securely and change the password after first login

## Maintenance
- Update the admin password regularly
- Keep Amplify packages updated
- Monitor AWS CloudWatch logs for any unusual activity

## Troubleshooting
- If admin user creation fails, check Cognito User Pool settings
- If authentication issues occur, verify the middleware configuration
- If deployment fails, check the Amplify build logs