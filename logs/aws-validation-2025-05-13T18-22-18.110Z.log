2025-05-13T18:22:18.115Z [TITLE] Starting AWS Environment Validation for Amplify Gen 2
2025-05-13T18:22:18.134Z [INFO] Log file: C:\Users\munee\OneDrive\Desktop\Link_Genrator_And_Wrapper_-Admin-\logs\aws-validation-2025-05-13T18-22-18.110Z.log
2025-05-13T18:22:18.139Z [TITLE] Checking AWS credentials...
2025-05-13T18:22:18.150Z [INFO] Running: Validate AWS credentials (aws sts get-caller-identity)
COMMAND: aws sts get-caller-identity
STDOUT:
{
    "UserId": "868948464569",
    "Account": "868948464569",
    "Arn": "arn:aws:iam::868948464569:root"
}

STDERR:


2025-05-13T18:22:27.569Z [SUCCESS] Authenticated as arn:aws:iam::868948464569:root
2025-05-13T18:22:27.570Z [TITLE] Checking AWS region configuration...
2025-05-13T18:22:27.571Z [INFO] Running: Get configured AWS region (aws configure get region)
COMMAND: aws configure get region
STDOUT:
us-east-1

STDERR:


2025-05-13T18:22:29.456Z [SUCCESS] Using AWS region: us-east-1
2025-05-13T18:22:29.458Z [WARNING] AWS region is not explicitly set in cdk.json, CDK will use the default region
2025-05-13T18:22:29.461Z [TITLE] Checking CDK bootstrap status...
2025-05-13T18:22:29.465Z [INFO] Running: Check CDK bootstrap status (aws cloudformation describe-stacks --stack-name CDKToolkit --region us-east-1)
COMMAND: aws cloudformation describe-stacks --stack-name CDKToolkit --region us-east-1
STDOUT:
{
    "Stacks": [
        {
            "StackId": "arn:aws:cloudformation:us-east-1:868948464569:stack/CDKToolkit/28c496b0-24dd-11f0-9ce1-0eaf46a0829f",
            "StackName": "CDKToolkit",
            "Description": "This stack includes resources needed to deploy AWS CDK apps into this environment",
            "Parameters": [
                {
                    "ParameterKey": "FileAssetsBucketKmsKeyId",
                    "ParameterValue": "AWS_MANAGED_KEY"
                },
                {
                    "ParameterKey": "PublicAccessBlockConfiguration",
                    "ParameterValue": "true"
                },
                {
                    "ParameterKey": "UseExamplePermissionsBoundary",
                    "ParameterValue": "false"
                },
                {
                    "ParameterKey": "FileAssetsBucketName",
                    "ParameterValue": ""
                },
                {
                    "ParameterKey": "InputPermissionsBoundary",
                    "ParameterValue": ""
                },
                {
                    "ParameterKey": "BootstrapVariant",
                    "ParameterValue": "AWS CDK: Default Resources"
                },
                {
                    "ParameterKey": "CloudFormationExecutionPolicies",
                    "ParameterValue": ""
                },
                {
                    "ParameterKey": "TrustedAccountsForLookup",
                    "ParameterValue": ""
                },
                {
                    "ParameterKey": "Qualifier",
                    "ParameterValue": "hnb659fds"
                },
                {
                    "ParameterKey": "ContainerAssetsRepositoryName",
                    "ParameterValue": ""
                },
                {
                    "ParameterKey": "TrustedAccounts",
                    "ParameterValue": ""
                }
            ],
            "CreationTime": "2025-04-29T09:34:33.964000+00:00",
            "RollbackConfiguration": {},
            "StackStatus": "CREATE_COMPLETE",
            "DisableRollback": false,
            "NotificationARNs": [],
            "Capabilities": [
                "CAPABILITY_NAMED_IAM"
            ],
            "Outputs": [
                {
                    "OutputKey": "ImageRepositoryName",
                    "OutputValue": "cdk-hnb659fds-container-assets-868948464569-us-east-1",
                    "Description": "The name of the ECR repository which hosts docker image assets"
                },
                {
                    "OutputKey": "BucketName",
                    "OutputValue": "cdk-hnb659fds-assets-868948464569-us-east-1",
                    "Description": "The name of the S3 bucket owned by the CDK toolkit stack"
                },
                {
                    "OutputKey": "BootstrapVersion",
                    "OutputValue": "27",
                    "Description": "The version of the bootstrap resources that are currently mastered in this stack"
                },
                {
                    "OutputKey": "BucketDomainName",
                    "OutputValue": "cdk-hnb659fds-assets-868948464569-us-east-1.s3.us-east-1.amazonaws.com",
                    "Description": "The domain name of the S3 bucket owned by the CDK toolkit stack"
                },
                {
                    "OutputKey": "FileAssetKeyArn",
                    "OutputValue": "AWS_MANAGED_KEY",
                    "Description": "The ARN of the KMS key used to encrypt the asset bucket (deprecated)",
                    "ExportName": "CdkBootstrap-hnb659fds-FileAssetKeyArn"
                }
            ],
            "Tags": [],
            "EnableTerminationProtection": false,
            "DriftInformation": {
                "StackDriftStatus": "NOT_CHECKED"
            }
        }
    ]
}

STDERR:


2025-05-13T18:22:33.589Z [SUCCESS] CDK environment is bootstrapped! âœ“
2025-05-13T18:22:33.590Z [TITLE] Checking S3 bucket permissions...
2025-05-13T18:22:33.591Z [INFO] Running: Get CDK bootstrap bucket name (aws cloudformation describe-stacks --stack-name CDKToolkit --region us-east-1 --query "Stacks[0].Outputs[?OutputKey=='BucketName'].OutputValue" --output text)
COMMAND: aws cloudformation describe-stacks --stack-name CDKToolkit --region us-east-1 --query "Stacks[0].Outputs[?OutputKey=='BucketName'].OutputValue" --output text
STDOUT:
cdk-hnb659fds-assets-868948464569-us-east-1

STDERR:


2025-05-13T18:22:37.551Z [SUCCESS] CDK bootstrap bucket: cdk-hnb659fds-assets-868948464569-us-east-1
2025-05-13T18:22:37.552Z [INFO] Running: Test S3 bucket access (aws s3 ls s3://cdk-hnb659fds-assets-868948464569-us-east-1 --max-items 5)
COMMAND: aws s3 ls s3://cdk-hnb659fds-assets-868948464569-us-east-1 --max-items 5
ERROR:
Command failed: aws s3 ls s3://cdk-hnb659fds-assets-868948464569-us-east-1 --max-items 5

Unknown options: --max-items,5


2025-05-13T18:22:38.992Z [ERROR] Failed to list objects in the S3 bucket. You may not have proper permissions.
