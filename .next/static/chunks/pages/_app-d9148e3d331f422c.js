(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{6361:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});let i={},r={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),i[e]=t,r[t]=e}function o(e){let t="";for(let n=0;n<e.byteLength;n++)t+=i[e[n]];return t}},5169:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var i=n(7582),r=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],s=function(){function e(){this.state=Int32Array.from(o),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>9007199254740991)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%64>=56){for(var i=this.bufferLength;i<64;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<56;i++)t.setUint8(i,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}for(var r=new Uint8Array(32),i=0;i<8;i++)r[4*i]=this.state[i]>>>24&255,r[4*i+1]=this.state[i]>>>16&255,r[4*i+2]=this.state[i]>>>8&255,r[4*i+3]=this.state[i]>>>0&255;return r},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],d=0;d<64;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var p=this.temp[d-2],h=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,f=((p=this.temp[d-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[d]=(h+this.temp[d-7]|0)+(f+this.temp[d-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(l+(r[d]+this.temp[d]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=a,a=s+g|0,s=o,o=i,i=n,n=g+y|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=l},e}(),a=n(8764).lW,u=void 0!==a&&a.from?function(e){return a.from(e,"utf8")}:e=>new TextEncoder().encode(e);function c(e){return e instanceof Uint8Array?e:"string"==typeof e?u(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var l=function(){function e(e){this.secret=e,this.hash=new s,this.reset()}return e.prototype.update=function(e){if(("string"==typeof e?0!==e.length:0!==e.byteLength)&&!this.error)try{this.hash.update(c(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new s,this.secret){this.outer=new s;var e=function(e){var t=c(e);if(t.byteLength>64){var n=new s;n.update(t),t=n.digest()}var i=new Uint8Array(64);return i.set(t),i}(this.secret),t=new Uint8Array(64);t.set(e);for(var n=0;n<64;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(var n=0;n<e.byteLength;n++)e[n]=0}},e}()},9742:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],i=t[1];return(n+i)*3/4-i},t.toByteArray=function(e){var t,n,o=u(e),s=o[0],a=o[1],c=new r((s+a)*3/4-a),l=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o=[],s=0,a=i-r;s<a;s+=16383)o.push(function(e,t,i){for(var r,o=[],s=t;s<i;s+=3)o.push(n[(r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===r?o.push(n[(t=e[i-1])>>2]+n[t<<4&63]+"=="):2===r&&o.push(n[(t=(e[i-2]<<8)+e[i-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var i=n===t?0:4-n%4;return[n,i]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},8764:function(e,t,n){"use strict";var i=n(9742),r=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);var n=0|h(e,t),i=s(n),r=i.write(e,t);return r!==n&&(i=i.slice(0,r)),i}(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(b(e,ArrayBuffer)||e&&b(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(b(e,SharedArrayBuffer)||e&&b(e.buffer,SharedArrayBuffer)))return function(e,t,n){var i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),a.prototype),i}(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return a.from(i,t,n);var r=function(e){if(a.isBuffer(e)){var t,n=0|p(e.length),i=s(n);return 0===i.length||e.copy(i,0,0,n),i}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),s(e<0?0:0|p(e))}function d(e){for(var t=e.length<0?0:0|p(e.length),n=s(t),i=0;i<t;i+=1)n[i]=255&e[i];return n}function p(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||b(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return C(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return T(e).length;default:if(r)return i?-1:C(e).length;t=(""+t).toLowerCase(),r=!0}}function f(e,t,n){var r,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=N[e[o]];return r}(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return function(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}(this,t,n);case"latin1":case"binary":return function(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}(this,t,n);case"base64":return r=t,o=n,0===r&&o===this.length?i.fromByteArray(this):i.fromByteArray(this.slice(r,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}(this,t,n);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function y(e,t,n,i,r){var o;if(0===e.length)return -1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(o=n=+n)!=o&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return -1;n=e.length-1}else if(n<0){if(!r)return -1;n=0}if("string"==typeof t&&(t=a.from(t,i)),a.isBuffer(t))return 0===t.length?-1:m(e,t,n,i,r);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,i,r);throw TypeError("val must be string, number or Buffer")}function m(e,t,n,i,r){var o,s=1,a=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else -1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var d=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){d=!1;break}if(d)return o}return -1}function E(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,s,a,u,c=e[r],l=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:(192&(o=e[r+1]))==128&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[r+1],s=e[r+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}function S(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function I(e,t,n,i,r,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw RangeError('"value" argument is out of bounds');if(n+i>e.length)throw RangeError("Index out of range")}function v(e,t,n,i,r,o){if(n+i>e.length||n<0)throw RangeError("Index out of range")}function w(e,t,n,i,o){return t=+t,n>>>=0,o||v(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function A(e,t,n,i,o){return t=+t,n>>>=0,o||v(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}t.lW=a,t.h2=50,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(b(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),b(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,i=a.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(b(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?E(this,0,e):f.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,n,i,r){if(b(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var o=r-i,s=n-t,u=Math.min(o,s),c=this.slice(i,r),l=e.slice(t,n),d=0;d<u;++d)if(c[d]!==l[d]){o=c[d],s=l[d];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},a.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var r,o,s,a,u,c,l,d,p,h,f,g,y=this.length-t;if((void 0===n||n>y)&&(n=y),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var m=!1;;)switch(i){case"hex":return function(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(a!=a)break;e[n+s]=a}return s}(this,e,t,n);case"utf8":case"utf-8":return u=t,c=n,P(C(e,this.length-u),this,u,c);case"ascii":return l=t,d=n,P(R(e),this,l,d);case"latin1":case"binary":return r=this,o=e,s=t,a=n,P(R(o),r,s,a);case"base64":return p=t,h=n,P(T(e),this,p,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f=t,g=n,P(function(e,t){for(var n,i,r=[],o=0;o<e.length&&!((t-=2)<0);++o)i=(n=e.charCodeAt(o))>>8,r.push(n%256),r.push(i);return r}(e,this.length-f),this,f,g);default:if(m)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),m=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,a.prototype),i},a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},a.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||S(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||S(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){var r=Math.pow(2,8*n)-1;I(this,e,t,n,r,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){var r=Math.pow(2,8*n)-1;I(this,e,t,n,r,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},a.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return w(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return w(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return A(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return A(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,i){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r=i-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,i);else if(this===e&&n<t&&t<i)for(var o=r-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),t);return r},a.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){var r,o=e.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var s=a.isBuffer(e)?e:a.from(e,i),u=s.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<n-t;++r)this[r+t]=s[r%u]}return this};var x=/[^+/0-9A-Za-z-_]/g;function C(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],s=0;s<i;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319||s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function R(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function T(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(x,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length)&&!(r>=e.length);++r)t[r+n]=e[r];return r}function b(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var N=function(){for(var e="0123456789abcdef",t=Array(256),n=0;n<16;++n)for(var i=16*n,r=0;r<16;++r)t[i+r]=e[n]+e[r];return t}()},645:function(e,t){t.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,c=u>>1,l=-7,d=n?r-1:0,p=n?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+e[t+d],d+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,i),o-=c}return(h?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var s,a,u,c=8*o-r-1,l=(1<<c)-1,d=l>>1,p=23===r?5960464477539062e-23:0,h=i?0:o-1,f=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+d>=1?t+=p/u:t+=p*Math.pow(2,1-d),t*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*u-1)*Math.pow(2,r),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;e[n+h]=255&a,h+=f,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[n+h]=255&s,h+=f,s/=256,c-=8);e[n+h-f]|=128*g}},6840:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(5545)}])},7510:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var i=JSON.parse('{"auth":{"user_pool_id":"us-east-1_Gh00T12dW","aws_region":"us-east-1","user_pool_client_id":"5e5a5drp00jd43tr7ph1ceg412","identity_pool_id":"us-east-1:a0b02f73-93a3-4b52-b1cb-eaa306375a33","mfa_methods":["SMS"],"standard_required_attributes":["email"],"username_attributes":["email"],"user_verification_types":["email"],"groups":[],"mfa_configuration":"OPTIONAL","password_policy":{"min_length":8,"require_lowercase":true,"require_numbers":true,"require_symbols":true,"require_uppercase":true},"unauthenticated_identities_enabled":true},"data":{"url":"https://vth6pntotrhvfpxo2gwn3kzqry.appsync-api.us-east-1.amazonaws.com/graphql","aws_region":"us-east-1","api_key":"da2-ee26yqskvzfpjpquwbi53shbvu","default_authorization_type":"AWS_IAM","authorization_types":["API_KEY","AMAZON_COGNITO_USER_POOLS"],"model_introspection":{"version":1,"models":{"Project":{"name":"Project","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"description":{"name":"description","isArray":false,"type":"String","isRequired":false,"attributes":[]},"status":{"name":"status","isArray":false,"type":{"enum":"ProjectStatus"},"isRequired":false,"attributes":[]},"targetCompletions":{"name":"targetCompletions","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"currentCompletions":{"name":"currentCompletions","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"surveyUrl":{"name":"surveyUrl","isArray":false,"type":"String","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"settings":{"name":"settings","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]}},"syncable":true,"pluralName":"Projects","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"Question":{"name":"Question","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"text":{"name":"text","isArray":false,"type":"String","isRequired":true,"attributes":[]},"type":{"name":"type","isArray":false,"type":{"enum":"QuestionType"},"isRequired":false,"attributes":[]},"options":{"name":"options","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"sequence":{"name":"sequence","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"isRequired":{"name":"isRequired","isArray":false,"type":"Boolean","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"Questions","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"SurveyLink":{"name":"SurveyLink","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"uid":{"name":"uid","isArray":false,"type":"String","isRequired":true,"attributes":[]},"status":{"name":"status","isArray":false,"type":{"enum":"SurveyLinkStatus"},"isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"clickedAt":{"name":"clickedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"completedAt":{"name":"completedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"ipAddress":{"name":"ipAddress","isArray":false,"type":"String","isRequired":false,"attributes":[]},"userAgent":{"name":"userAgent","isArray":false,"type":"String","isRequired":false,"attributes":[]},"geoData":{"name":"geoData","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"metadata":{"name":"metadata","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"vendorId":{"name":"vendorId","isArray":false,"type":"ID","isRequired":false,"attributes":[]}},"syncable":true,"pluralName":"SurveyLinks","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]},{"allow":"public","provider":"iam","operations":["read","update"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"Vendor":{"name":"Vendor","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"contactName":{"name":"contactName","isArray":false,"type":"String","isRequired":false,"attributes":[]},"contactEmail":{"name":"contactEmail","isArray":false,"type":"String","isRequired":false,"attributes":[]},"settings":{"name":"settings","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"Vendors","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"ProjectVendor":{"name":"ProjectVendor","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"vendorId":{"name":"vendorId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"quota":{"name":"quota","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"currentCount":{"name":"currentCount","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"ProjectVendors","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}}},"enums":{"ProjectStatus":{"name":"ProjectStatus","values":["ACTIVE","PAUSED","COMPLETED"]},"QuestionType":{"name":"QuestionType","values":["MULTIPLE_CHOICE","TEXT","COUNTRY","SCALE"]},"SurveyLinkStatus":{"name":"SurveyLinkStatus","values":["UNUSED","CLICKED","COMPLETED","DISQUALIFIED","QUOTA_FULL"]}},"nonModels":{}}},"version":"1.3"}');function r(){return i}},9985:function(e,t,n){"use strict";n.d(t,{H:function(){return u},a:function(){return c}});var i=n(5893),r=n(7294),o=n(5551),s=n(287);let a=(0,r.createContext)(void 0);function u(e){let{children:t}=e,[n,u]=(0,r.useState)(!1),[c,l]=(0,r.useState)(!0),[d,p]=(0,r.useState)(null),h=async()=>{try{l(!0);let e=await o.AuthService.isAuthenticated();if(u(e),e){let e=await o.AuthService.getCurrentUser(),t=await o.AuthService.getUserAttributes();p({...e,attributes:t})}else p(null)}catch(e){console.error("Error checking authentication:",e),u(!1),p(null),(0,s.nT)()}finally{l(!1)}};(0,r.useEffect)(()=>{h();let e=setInterval(async()=>{try{await o.AuthService.isAuthenticated()!==n&&h()}catch(e){console.error("Error refreshing authentication status")}},6e5);return()=>clearInterval(e)},[n]);let f=async e=>{let t=await o.AuthService.completeNewPassword(e);return t.isSuccess&&await h(),t},g=async()=>{try{await o.AuthService.refreshAuthState(),await h();{let e=window;void 0===e._authRefreshCount?e._authRefreshCount=1:e._authRefreshCount++,!(e._authRefreshCount>2)||(console.log("Multiple auth refreshes attempted, trying hard reload"),e._authRefreshCount=0,!window.location.pathname.startsWith("/admin")||window.location.pathname.startsWith("/admin/login")||window.location.pathname.startsWith("/admin/signup")||window.location.pathname.startsWith("/admin/verify")||window.location.reload())}}catch(e){console.error("Error refreshing auth state:",e)}},y={isAuthenticated:n,isLoading:c,user:d,login:async(e,t)=>{let n=await o.AuthService.signIn({username:e,password:t});return n.isSuccess&&await h(),n},logout:async()=>{await o.AuthService.signOut(),await h()},signUp:async e=>await o.AuthService.signUp(e),confirmSignUp:o.AuthService.confirmSignUp,completeNewPassword:f,refreshAuthState:g};return(0,i.jsx)(a.Provider,{value:y,children:t})}function c(){let e=(0,r.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5551:function(e,t,n){"use strict";let i,r,o,s,a;n.d(t,{AuthService:function(){return n4}});var u,c,l,d,p,h,f,g,y,m,E,S,I,v,w,A,x,C,R,T,P,b,N,U,_,O,k,M,D,F,L,q,V,B,K,W,G,$,j,z,H,Q,J,Y,Z,X,ee,et,en,ei,er,eo,es,ea,eu,ec,el,ed,ep=n(5165),eh=n(3461),ef=n(5);(u=L||(L={})).EmptySignInUsername="EmptySignInUsername",u.EmptySignInPassword="EmptySignInPassword",u.CustomAuthSignInPassword="CustomAuthSignInPassword",u.EmptySignUpUsername="EmptySignUpUsername",u.EmptySignUpPassword="EmptySignUpPassword",u.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",u.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",u.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",u.EmptyChallengeResponse="EmptyChallengeResponse",u.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",u.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",u.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",u.EmptyResetPasswordUsername="EmptyResetPasswordUsername",u.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",u.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",u.IncorrectMFAMethod="IncorrectMFAMethod",u.EmptyUpdatePassword="EmptyUpdatePassword";let eg={[L.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[L.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[L.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[L.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[L.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[L.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[L.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[L.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[L.EmptySignInPassword]:{message:"password is required to signIn"},[L.EmptySignInUsername]:{message:"username is required to signIn"},[L.EmptySignUpPassword]:{message:"password is required to signUp"},[L.EmptySignUpUsername]:{message:"username is required to signUp"},[L.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[L.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL",recoverySuggestion:"Try to pass SMS, TOTP, or EMAIL as the challengeResponse"},[L.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[L.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[L.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"}};(c=q||(q={})).DEFAULT_MSG="Authentication Error",c.EMPTY_EMAIL="Email cannot be empty",c.EMPTY_PHONE="Phone number cannot be empty",c.EMPTY_USERNAME="Username cannot be empty",c.INVALID_USERNAME="The username should either be a string or one of the sign in types",c.EMPTY_PASSWORD="Password cannot be empty",c.EMPTY_CODE="Confirmation code cannot be empty",c.SIGN_UP_ERROR="Error creating account",c.NO_MFA="No valid MFA method provided",c.INVALID_MFA="Invalid MFA type",c.EMPTY_CHALLENGE="Challenge response cannot be empty",c.NO_USER_SESSION="Failed to get the session because the user is empty",c.NETWORK_ERROR="Network Error",c.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",c.AUTOSIGNIN_ERROR="Please use your credentials to sign in",c.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings",(l=V||(V={})).SignInException="SignInException",l.OAuthSignInError="OAuthSignInException";var ey=n(4686);function em(e,t){let{message:n,recoverySuggestion:i}=eg[t];if(!e)throw new ey.l({name:t,message:n,recoverySuggestion:i})}var eE=n(6605);function eS(e){return Object.entries(e).map(([e,t])=>({Name:e,Value:t}))}var eI=n(305),ev=n(6743);(d=B||(B={})).ConcurrentModificationException="ConcurrentModificationException",d.ForbiddenException="ForbiddenException",d.InternalErrorException="InternalErrorException",d.InvalidParameterException="InvalidParameterException",d.NotAuthorizedException="NotAuthorizedException",d.ResourceNotFoundException="ResourceNotFoundException",d.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",(p=K||(K={})).ForbiddenException="ForbiddenException",p.InternalErrorException="InternalErrorException",p.InvalidParameterException="InvalidParameterException",p.InvalidPasswordException="InvalidPasswordException",p.LimitExceededException="LimitExceededException",p.NotAuthorizedException="NotAuthorizedException",p.PasswordResetRequiredException="PasswordResetRequiredException",p.ResourceNotFoundException="ResourceNotFoundException",p.TooManyRequestsException="TooManyRequestsException",p.UserNotConfirmedException="UserNotConfirmedException",p.UserNotFoundException="UserNotFoundException",(h=W||(W={})).ForbiddenException="ForbiddenException",h.InternalErrorException="InternalErrorException",h.InvalidLambdaResponseException="InvalidLambdaResponseException",h.InvalidParameterException="InvalidParameterException",h.InvalidPasswordException="InvalidPasswordException",h.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",h.NotAuthorizedException="NotAuthorizedException",h.PasswordResetRequiredException="PasswordResetRequiredException",h.ResourceNotFoundException="ResourceNotFoundException",h.TooManyRequestsException="TooManyRequestsException",h.UsernameExistsException="UsernameExistsException",h.UserNotConfirmedException="UserNotConfirmedException",h.UserNotFoundException="UserNotFoundException",(f=G||(G={})).CodeMismatchException="CodeMismatchException",f.ExpiredCodeException="ExpiredCodeException",f.ForbiddenException="ForbiddenException",f.InternalErrorException="InternalErrorException",f.InvalidLambdaResponseException="InvalidLambdaResponseException",f.InvalidParameterException="InvalidParameterException",f.InvalidPasswordException="InvalidPasswordException",f.LimitExceededException="LimitExceededException",f.NotAuthorizedException="NotAuthorizedException",f.ResourceNotFoundException="ResourceNotFoundException",f.TooManyFailedAttemptsException="TooManyFailedAttemptsException",f.TooManyRequestsException="TooManyRequestsException",f.UnexpectedLambdaException="UnexpectedLambdaException",f.UserLambdaValidationException="UserLambdaValidationException",f.UserNotConfirmedException="UserNotConfirmedException",f.UserNotFoundException="UserNotFoundException",(g=$||($={})).AliasExistsException="AliasExistsException",g.CodeMismatchException="CodeMismatchException",g.ExpiredCodeException="ExpiredCodeException",g.ForbiddenException="ForbiddenException",g.InternalErrorException="InternalErrorException",g.InvalidLambdaResponseException="InvalidLambdaResponseException",g.InvalidParameterException="InvalidParameterException",g.LimitExceededException="LimitExceededException",g.NotAuthorizedException="NotAuthorizedException",g.ResourceNotFoundException="ResourceNotFoundException",g.TooManyFailedAttemptsException="TooManyFailedAttemptsException",g.TooManyRequestsException="TooManyRequestsException",g.UnexpectedLambdaException="UnexpectedLambdaException",g.UserLambdaValidationException="UserLambdaValidationException",g.UserNotFoundException="UserNotFoundException",(y=j||(j={})).ForbiddenException="ForbiddenException",y.InternalErrorException="InternalErrorException",y.InvalidParameterException="InvalidParameterException",y.NotAuthorizedException="NotAuthorizedException",y.PasswordResetRequiredException="PasswordResetRequiredException",y.ResourceNotFoundException="ResourceNotFoundException",y.TooManyRequestsException="TooManyRequestsException",y.UserNotConfirmedException="UserNotConfirmedException",y.UserNotFoundException="UserNotFoundException",(m=z||(z={})).ForbiddenException="ForbiddenException",m.InternalErrorException="InternalErrorException",m.InvalidParameterException="InvalidParameterException",m.NotAuthorizedException="NotAuthorizedException",m.PasswordResetRequiredException="PasswordResetRequiredException",m.ResourceNotFoundException="ResourceNotFoundException",m.TooManyRequestsException="TooManyRequestsException",m.UserNotConfirmedException="UserNotConfirmedException",m.UserNotFoundException="UserNotFoundException",(E=H||(H={})).ForbiddenException="ForbiddenException",E.InternalErrorException="InternalErrorException",E.InvalidParameterException="InvalidParameterException",E.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",E.NotAuthorizedException="NotAuthorizedException",E.PasswordResetRequiredException="PasswordResetRequiredException",E.ResourceNotFoundException="ResourceNotFoundException",E.TooManyRequestsException="TooManyRequestsException",E.UserNotConfirmedException="UserNotConfirmedException",E.UserNotFoundException="UserNotFoundException",(S=Q||(Q={})).CodeDeliveryFailureException="CodeDeliveryFailureException",S.ForbiddenException="ForbiddenException",S.InternalErrorException="InternalErrorException",S.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",S.InvalidLambdaResponseException="InvalidLambdaResponseException",S.InvalidParameterException="InvalidParameterException",S.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",S.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",S.LimitExceededException="LimitExceededException",S.NotAuthorizedException="NotAuthorizedException",S.ResourceNotFoundException="ResourceNotFoundException",S.TooManyRequestsException="TooManyRequestsException",S.UnexpectedLambdaException="UnexpectedLambdaException",S.UserLambdaValidationException="UserLambdaValidationException",S.UserNotFoundException="UserNotFoundException",(I=J||(J={})).ForbiddenException="ForbiddenException",I.InternalErrorException="InternalErrorException",I.InvalidParameterException="InvalidParameterException",I.NotAuthorizedException="NotAuthorizedException",I.PasswordResetRequiredException="PasswordResetRequiredException",I.ResourceNotFoundException="ResourceNotFoundException",I.TooManyRequestsException="TooManyRequestsException",I.UserNotConfirmedException="UserNotConfirmedException",I.UserNotFoundException="UserNotFoundException",(v=Y||(Y={})).ExternalServiceException="ExternalServiceException",v.InternalErrorException="InternalErrorException",v.InvalidParameterException="InvalidParameterException",v.LimitExceededException="LimitExceededException",v.NotAuthorizedException="NotAuthorizedException",v.ResourceConflictException="ResourceConflictException",v.ResourceNotFoundException="ResourceNotFoundException",v.TooManyRequestsException="TooManyRequestsException",(w=Z||(Z={})).ExternalServiceException="ExternalServiceException",w.InternalErrorException="InternalErrorException",w.InvalidIdentityPoolConfigurationException="InvalidIdentityPoolConfigurationException",w.InvalidParameterException="InvalidParameterException",w.NotAuthorizedException="NotAuthorizedException",w.ResourceConflictException="ResourceConflictException",w.ResourceNotFoundException="ResourceNotFoundException",w.TooManyRequestsException="TooManyRequestsException",(A=X||(X={})).CodeDeliveryFailureException="CodeDeliveryFailureException",A.ForbiddenException="ForbiddenException",A.InternalErrorException="InternalErrorException",A.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",A.InvalidLambdaResponseException="InvalidLambdaResponseException",A.InvalidParameterException="InvalidParameterException",A.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",A.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",A.LimitExceededException="LimitExceededException",A.NotAuthorizedException="NotAuthorizedException",A.PasswordResetRequiredException="PasswordResetRequiredException",A.ResourceNotFoundException="ResourceNotFoundException",A.TooManyRequestsException="TooManyRequestsException",A.UnexpectedLambdaException="UnexpectedLambdaException",A.UserLambdaValidationException="UserLambdaValidationException",A.UserNotConfirmedException="UserNotConfirmedException",A.UserNotFoundException="UserNotFoundException",(x=ee||(ee={})).ForbiddenException="ForbiddenException",x.InternalErrorException="InternalErrorException",x.InvalidParameterException="InvalidParameterException",x.NotAuthorizedException="NotAuthorizedException",x.PasswordResetRequiredException="PasswordResetRequiredException",x.ResourceNotFoundException="ResourceNotFoundException",x.TooManyRequestsException="TooManyRequestsException",x.UserNotConfirmedException="UserNotConfirmedException",(C=et||(et={})).PasswordResetRequiredException="PasswordResetRequiredException",C.ForbiddenException="ForbiddenException",C.InternalErrorException="InternalErrorException",C.InvalidLambdaResponseException="InvalidLambdaResponseException",C.InvalidParameterException="InvalidParameterException",C.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",C.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",C.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",C.NotAuthorizedException="NotAuthorizedException",C.ResourceNotFoundException="ResourceNotFoundException",C.TooManyRequestsException="TooManyRequestsException",C.UnexpectedLambdaException="UnexpectedLambdaException",C.UserLambdaValidationException="UserLambdaValidationException",C.UserNotConfirmedException="UserNotConfirmedException",C.UserNotFoundException="UserNotFoundException",(R=en||(en={})).CodeDeliveryFailureException="CodeDeliveryFailureException",R.ForbiddenException="ForbiddenException",R.InternalErrorException="InternalErrorException",R.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",R.InvalidLambdaResponseException="InvalidLambdaResponseException",R.InvalidParameterException="InvalidParameterException",R.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",R.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",R.LimitExceededException="LimitExceededException",R.NotAuthorizedException="NotAuthorizedException",R.ResourceNotFoundException="ResourceNotFoundException",R.TooManyRequestsException="TooManyRequestsException",R.UnexpectedLambdaException="UnexpectedLambdaException",R.UserLambdaValidationException="UserLambdaValidationException",R.UserNotFoundException="UserNotFoundException",(T=ei||(ei={})).AliasExistsException="AliasExistsException",T.CodeMismatchException="CodeMismatchException",T.ExpiredCodeException="ExpiredCodeException",T.ForbiddenException="ForbiddenException",T.InternalErrorException="InternalErrorException",T.InvalidLambdaResponseException="InvalidLambdaResponseException",T.InvalidParameterException="InvalidParameterException",T.InvalidPasswordException="InvalidPasswordException",T.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",T.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",T.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",T.MFAMethodNotFoundException="MFAMethodNotFoundException",T.NotAuthorizedException="NotAuthorizedException",T.PasswordResetRequiredException="PasswordResetRequiredException",T.ResourceNotFoundException="ResourceNotFoundException",T.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",T.TooManyRequestsException="TooManyRequestsException",T.UnexpectedLambdaException="UnexpectedLambdaException",T.UserLambdaValidationException="UserLambdaValidationException",T.UserNotConfirmedException="UserNotConfirmedException",T.UserNotFoundException="UserNotFoundException",(P=er||(er={})).ForbiddenException="ForbiddenException",P.InternalErrorException="InternalErrorException",P.InvalidParameterException="InvalidParameterException",P.NotAuthorizedException="NotAuthorizedException",P.PasswordResetRequiredException="PasswordResetRequiredException",P.ResourceNotFoundException="ResourceNotFoundException",P.UserNotConfirmedException="UserNotConfirmedException",P.UserNotFoundException="UserNotFoundException",(b=eo||(eo={})).CodeDeliveryFailureException="CodeDeliveryFailureException",b.InternalErrorException="InternalErrorException",b.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",b.InvalidLambdaResponseException="InvalidLambdaResponseException",b.InvalidParameterException="InvalidParameterException",b.InvalidPasswordException="InvalidPasswordException",b.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",b.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",b.NotAuthorizedException="NotAuthorizedException",b.ResourceNotFoundException="ResourceNotFoundException",b.TooManyRequestsException="TooManyRequestsException",b.UnexpectedLambdaException="UnexpectedLambdaException",b.UserLambdaValidationException="UserLambdaValidationException",b.UsernameExistsException="UsernameExistsException",(N=es||(es={})).AliasExistsException="AliasExistsException",N.CodeDeliveryFailureException="CodeDeliveryFailureException",N.CodeMismatchException="CodeMismatchException",N.ExpiredCodeException="ExpiredCodeException",N.ForbiddenException="ForbiddenException",N.InternalErrorException="InternalErrorException",N.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",N.InvalidLambdaResponseException="InvalidLambdaResponseException",N.InvalidParameterException="InvalidParameterException",N.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",N.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",N.NotAuthorizedException="NotAuthorizedException",N.PasswordResetRequiredException="PasswordResetRequiredException",N.ResourceNotFoundException="ResourceNotFoundException",N.TooManyRequestsException="TooManyRequestsException",N.UnexpectedLambdaException="UnexpectedLambdaException",N.UserLambdaValidationException="UserLambdaValidationException",N.UserNotConfirmedException="UserNotConfirmedException",N.UserNotFoundException="UserNotFoundException",(U=ea||(ea={})).CodeMismatchException="CodeMismatchException",U.EnableSoftwareTokenMFAException="EnableSoftwareTokenMFAException",U.ForbiddenException="ForbiddenException",U.InternalErrorException="InternalErrorException",U.InvalidParameterException="InvalidParameterException",U.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",U.NotAuthorizedException="NotAuthorizedException",U.PasswordResetRequiredException="PasswordResetRequiredException",U.ResourceNotFoundException="ResourceNotFoundException",U.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",U.TooManyRequestsException="TooManyRequestsException",U.UserNotConfirmedException="UserNotConfirmedException",U.UserNotFoundException="UserNotFoundException",(_=eu||(eu={})).AliasExistsException="AliasExistsException",_.CodeMismatchException="CodeMismatchException",_.ExpiredCodeException="ExpiredCodeException",_.ForbiddenException="ForbiddenException",_.InternalErrorException="InternalErrorException",_.InvalidParameterException="InvalidParameterException",_.LimitExceededException="LimitExceededException",_.NotAuthorizedException="NotAuthorizedException",_.PasswordResetRequiredException="PasswordResetRequiredException",_.ResourceNotFoundException="ResourceNotFoundException",_.TooManyRequestsException="TooManyRequestsException",_.UserNotConfirmedException="UserNotConfirmedException",_.UserNotFoundException="UserNotFoundException",(O=ec||(ec={})).ForbiddenException="ForbiddenException",O.InternalErrorException="InternalErrorException",O.InvalidParameterException="InvalidParameterException",O.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",O.NotAuthorizedException="NotAuthorizedException",O.PasswordResetRequiredException="PasswordResetRequiredException",O.ResourceNotFoundException="ResourceNotFoundException",O.TooManyRequestsException="TooManyRequestsException",O.UserNotConfirmedException="UserNotConfirmedException",O.UserNotFoundException="UserNotFoundException",(k=el||(el={})).ForbiddenException="ForbiddenException",k.InternalErrorException="InternalErrorException",k.InvalidParameterException="InvalidParameterException",k.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",k.NotAuthorizedException="NotAuthorizedException",k.PasswordResetRequiredException="PasswordResetRequiredException",k.ResourceNotFoundException="ResourceNotFoundException",k.TooManyRequestsException="TooManyRequestsException",k.UserNotConfirmedException="UserNotConfirmedException",k.UserNotFoundException="UserNotFoundException";var ew=n(9509),eA=n(6398),ex=n(1847);let eC=(e,t)=>(0,ex.Zm)({category:ef.WD.Auth,action:e,...t});var eR=n(6378),eT=n(7099),eP=n(5409),eb=n(4719),eN=n(5059),eU=n(8196);let e_=e=>(0,eT.z)(eP.x,(0,eb.u)("RespondToAuthChallenge"),(0,eN.o)(),{...eU.n,...e}),eO=e=>(0,eT.z)(eP.x,(0,eb.u)("VerifySoftwareToken"),(0,eN.o)(),{...eU.n,...e}),ek=e=>(0,eT.z)(eP.x,(0,eb.u)("AssociateSoftwareToken"),(0,eN.o)(),{...eU.n,...e});var eM=n(3638),eD=n(5967),eF=n(8714);async function eL(e){if(e.AccessToken){let t,n,i;let r=(0,eh.xp)(e.AccessToken),o=1e3*(r.payload.iat||0),s=new Date().getTime();e.RefreshToken&&(n=e.RefreshToken),e.IdToken&&(t=(0,eh.xp)(e.IdToken)),e?.NewDeviceMetadata&&(i=e.NewDeviceMetadata);let a={accessToken:r,idToken:t,refreshToken:n,clockDrift:o>0?o-s:0,deviceMetadata:i,username:e.username};e?.signInDetails&&(a.signInDetails=e.signInDetails),await eF.C.setTokens({tokens:a})}else throw new eD._({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}let eq=async()=>{try{eI.Xb.dispatch("auth",{event:"signedIn",data:await (0,eA.t)()},"Auth",eI.SQ)}catch(e){if(e.name===ew.Jg)throw new ey.l({name:ew.sX,message:"Unable to get user session following successful sign-in.",recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."});throw e}};var eV=n(4685);let eB="CognitoSignInState",eK={username:`${eB}.username`,challengeName:`${eB}.challengeName`,signInSession:`${eB}.signInSession`,expiry:`${eB}.expiry`},eW=e=>Number(e)<=Date.now(),eG=()=>{eH.dispatch({type:"RESET_STATE"})},e$=()=>{for(let e of Object.values(eK))eV.$2.removeItem(e)},ej=()=>({username:void 0,challengeName:void 0,signInSession:void 0}),ez=()=>{let e=eV.$2.getItem(eK.expiry);return!e||eW(e)?(e$(),ej()):{username:eV.$2.getItem(eK.username)??void 0,challengeName:eV.$2.getItem(eK.challengeName)??void 0,signInSession:eV.$2.getItem(eK.signInSession)??void 0}},eH=(s=(M=(e,t)=>{switch(t.type){case"SET_SIGN_IN_SESSION":return eJ({signInSession:t.value}),{...e,signInSession:t.value};case"SET_SIGN_IN_STATE":return eJ(t.value),{...t.value};case"SET_CHALLENGE_NAME":return eJ({challengeName:t.value}),{...e,challengeName:t.value};case"SET_USERNAME":return eJ({username:t.value}),{...e,username:t.value};case"SET_INITIAL_STATE":return ez();case"RESET_STATE":return e$(),ej();default:return e}})(ej(),{type:"SET_INITIAL_STATE"}),{getState:()=>s,dispatch:e=>{s=M(s,e)}});function eQ(e){eH.dispatch({type:"SET_SIGN_IN_STATE",value:e})}let eJ=({challengeName:e,signInSession:t,username:n})=>{n&&eV.$2.setItem(eK.username,n),e&&eV.$2.setItem(eK.challengeName,e),t&&(eV.$2.setItem(eK.signInSession,t),eV.$2.setItem(eK.expiry,String(Date.now()+18e4)))};var eY=n(2199),eZ=n(4982);class eX extends eD._{constructor(e){super(e),this.constructor=eX,Object.setPrototypeOf(this,eX.prototype)}}(D=ed||(ed={})).PasskeyNotSupported="PasskeyNotSupported",D.PasskeyAlreadyExists="PasskeyAlreadyExists",D.InvalidPasskeyRegistrationOptions="InvalidPasskeyRegistrationOptions",D.InvalidPasskeyAuthenticationOptions="InvalidPasskeyAuthenticationOptions",D.RelyingPartyMismatch="RelyingPartyMismatch",D.PasskeyRegistrationFailed="PasskeyRegistrationFailed",D.PasskeyRetrievalFailed="PasskeyRetrievalFailed",D.PasskeyRegistrationCanceled="PasskeyRegistrationCanceled",D.PasskeyAuthenticationCanceled="PasskeyAuthenticationCanceled",D.PasskeyOperationAborted="PasskeyOperationAborted";let e0="Passkeys may not be supported on this device. Ensure your application is running in a secure context (HTTPS) and Web Authentication API is supported.",e1="User may have canceled the ceremony or another interruption has occurred. Check underlying error for details.",e2="Ensure your user pool is configured to support the WEB_AUTHN as an authentication factor.",e6={[ed.PasskeyNotSupported]:{message:"Passkeys may not be supported on this device.",recoverySuggestion:e0},[ed.InvalidPasskeyRegistrationOptions]:{message:"Invalid passkey registration options.",recoverySuggestion:e2},[ed.InvalidPasskeyAuthenticationOptions]:{message:"Invalid passkey authentication options.",recoverySuggestion:e2},[ed.PasskeyRegistrationFailed]:{message:"Device failed to create passkey.",recoverySuggestion:e0},[ed.PasskeyRetrievalFailed]:{message:"Device failed to retrieve passkey.",recoverySuggestion:"Passkeys may not be available on this device. Try an alternative authentication factor like PASSWORD, EMAIL_OTP, or SMS_OTP."},[ed.PasskeyAlreadyExists]:{message:"Passkey already exists in authenticator.",recoverySuggestion:"Proceed with existing passkey or try again after deleting the credential."},[ed.PasskeyRegistrationCanceled]:{message:"Passkey registration ceremony has been canceled.",recoverySuggestion:e1},[ed.PasskeyAuthenticationCanceled]:{message:"Passkey authentication ceremony has been canceled.",recoverySuggestion:e1},[ed.PasskeyOperationAborted]:{message:"Passkey operation has been aborted.",recoverySuggestion:e1},[ed.RelyingPartyMismatch]:{message:"Relying party does not match current domain.",recoverySuggestion:"Ensure relying party identifier matches current domain."}},e5=(0,eY.$)(e6,eX),e4=e=>{if(e instanceof eX)return e;if(e instanceof Error&&"NotAllowedError"===e.name){let{message:t,recoverySuggestion:n}=e6[ed.PasskeyAuthenticationCanceled];return new eX({name:ed.PasskeyAuthenticationCanceled,message:t,recoverySuggestion:n,underlyingError:e})}return e3(e)},e3=e=>{if(e instanceof Error){if("AbortError"===e.name){let{message:t,recoverySuggestion:n}=e6[ed.PasskeyOperationAborted];return new eX({name:ed.PasskeyOperationAborted,message:t,recoverySuggestion:n,underlyingError:e})}if("SecurityError"===e.name){let{message:t,recoverySuggestion:n}=e6[ed.RelyingPartyMismatch];return new eX({name:ed.RelyingPartyMismatch,message:t,recoverySuggestion:n,underlyingError:e})}}return new eX({name:eZ.Z.Unknown,message:"An unknown error has occurred.",underlyingError:e})};var e8=n(2459);let e9=()=>(0,e8.j)()&&window.isSecureContext&&"credentials"in navigator&&"function"==typeof window.PublicKeyCredential;var e7=n(1698);let te=e=>e7.u.convert(new Uint8Array(e),{urlSafe:!0,skipPadding:!0});var tt=n(905);let tn=e=>Uint8Array.from(tt.$.convert(e,{urlSafe:!0}),e=>e.charCodeAt(0)).buffer,ti=e=>{let t=tn(e.challenge),n=(e.allowCredentials||[]).map(e=>({...e,id:tn(e.id)}));return{...e,challenge:t,allowCredentials:n}},tr=e=>{let t={clientDataJSON:te(e.response.clientDataJSON),authenticatorData:te(e.response.authenticatorData),signature:te(e.response.signature)};e.response.userHandle&&(t.userHandle=te(e.response.userHandle));let n={id:e.id,rawId:te(e.rawId),type:e.type,clientExtensionResults:e.getClientExtensionResults(),response:t};return e.authenticatorAttachment&&(n.authenticatorAttachment=e.authenticatorAttachment),n},to=async e=>{try{let t=e9();e5(t,ed.PasskeyNotSupported);let n=ti(e),i=await navigator.credentials.get({publicKey:n});return e5(i&&i instanceof PublicKeyCredential&&i.response instanceof AuthenticatorAssertionResponse,ed.PasskeyRetrievalFailed),tr(i)}catch(e){throw e4(e)}},ts=async()=>{let{userAgentData:e}=navigator;if(!e)return navigator.userAgent;let{platform:t="",platformVersion:n="",model:i="",architecture:r="",fullVersionList:o=[]}=await e.getHighEntropyValues(["platform","platformVersion","architecture","model","fullVersionList"]);return[t,n,r,i,t,o.map(e=>`${e.brand}/${e.version}`).join(";")].filter(e=>e).join(" ")||navigator.userAgent},ta=e=>(0,eT.z)(eP.x,(0,eb.u)("ConfirmDevice"),(0,eN.o)(),{...eU.n,...e}),tu={convert:e=>new TextEncoder().encode(e)};function tc(e,t){null!=e&&this.fromString(e,t)}function tl(){return new tc(null,null)}let td="undefined"!=typeof navigator;td&&"Microsoft Internet Explorer"===navigator.appName?(tc.prototype.am=function(e,t,n,i,r,o){let s=32767&t,a=t>>15;for(;--o>=0;){let t=32767&this[e],o=this[e++]>>15,u=a*t+o*s;r=((t=s*t+((32767&u)<<15)+n[i]+(1073741823&r))>>>30)+(u>>>15)+a*o+(r>>>30),n[i++]=1073741823&t}return r},i=30):td&&"Netscape"!==navigator.appName?(tc.prototype.am=function(e,t,n,i,r,o){for(;--o>=0;){let o=t*this[e++]+n[i]+r;r=Math.floor(o/67108864),n[i++]=67108863&o}return r},i=26):(tc.prototype.am=function(e,t,n,i,r,o){let s=16383&t,a=t>>14;for(;--o>=0;){let t=16383&this[e],o=this[e++]>>14,u=a*t+o*s;r=((t=s*t+((16383&u)<<14)+n[i]+r)>>28)+(u>>14)+a*o,n[i++]=268435455&t}return r},i=28),tc.prototype.DB=i,tc.prototype.DM=(1<<i)-1,tc.prototype.DV=1<<i,tc.prototype.FV=4503599627370496,tc.prototype.F1=52-i,tc.prototype.F2=2*i-52;let tp=[];for(o=0,r=48;o<=9;++o)tp[r++]=o;for(o=10,r=97;o<36;++o)tp[r++]=o;for(o=10,r=65;o<36;++o)tp[r++]=o;function th(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function tf(e){let t=tl();return t.fromInt(e),t}function tg(e){let t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function ty(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}ty.prototype.convert=function(e){let t=tl();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(tc.ZERO)>0&&this.m.subTo(t,t),t},ty.prototype.revert=function(e){let t=tl();return e.copyTo(t),this.reduce(t),t},ty.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(let t=0;t<this.m.t;++t){let n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},ty.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},ty.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},tc.prototype.copyTo=function(e){for(let t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},tc.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},tc.prototype.fromString=function(e,t){let n;if(16===t)n=4;else if(8===t)n=3;else if(2===t)n=1;else if(32===t)n=5;else if(4===t)n=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;let i=e.length,r=!1,o=0;for(;--i>=0;){let t=function(e,t){let n=tp[e.charCodeAt(t)];return null==n?-1:n}(e,i);if(t<0){"-"===e.charAt(i)&&(r=!0);continue}r=!1,0===o?this[this.t++]=t:o+n>this.DB?(this[this.t-1]|=(t&(1<<this.DB-o)-1)<<o,this[this.t++]=t>>this.DB-o):this[this.t-1]|=t<<o,(o+=n)>=this.DB&&(o-=this.DB)}this.clamp(),r&&tc.ZERO.subTo(this,this)},tc.prototype.clamp=function(){let e=this.s&this.DM;for(;this.t>0&&this[this.t-1]==e;)--this.t},tc.prototype.dlShiftTo=function(e,t){let n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},tc.prototype.drShiftTo=function(e,t){for(let n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},tc.prototype.lShiftTo=function(e,t){let n;let i=e%this.DB,r=this.DB-i,o=(1<<r)-1,s=Math.floor(e/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},tc.prototype.rShiftTo=function(e,t){t.s=this.s;let n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}let i=e%this.DB,r=this.DB-i,o=(1<<i)-1;t[0]=this[n]>>i;for(let e=n+1;e<this.t;++e)t[e-n-1]|=(this[e]&o)<<r,t[e-n]=this[e]>>i;i>0&&(t[this.t-n-1]|=(this.s&o)<<r),t.t=this.t-n,t.clamp()},tc.prototype.subTo=function(e,t){let n=0,i=0,r=Math.min(e.t,this.t);for(;n<r;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()},tc.prototype.multiplyTo=function(e,t){let n=this.abs(),i=e.abs(),r=n.t;for(t.t=r+i.t;--r>=0;)t[r]=0;for(r=0;r<i.t;++r)t[r+n.t]=n.am(0,i[r],t,r,0,n.t);t.s=0,t.clamp(),this.s!==e.s&&tc.ZERO.subTo(t,t)},tc.prototype.squareTo=function(e){let t=this.abs(),n=e.t=2*t.t;for(;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){let i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},tc.prototype.divRemTo=function(e,t,n){let i=e.abs();if(i.t<=0)return;let r=this.abs();if(r.t<i.t){null!=t&&t.fromInt(0),null!=n&&this.copyTo(n);return}null===n&&(n=tl());let o=tl(),s=this.s,a=e.s,u=this.DB-tg(i[i.t-1]);u>0?(i.lShiftTo(u,o),r.lShiftTo(u,n)):(i.copyTo(o),r.copyTo(n));let c=o.t,l=o[c-1];if(0===l)return;let d=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),p=this.FV/d,h=(1<<this.F1)/d,f=1<<this.F2,g=n.t,y=g-c,m=null===t?tl():t;for(o.dlShiftTo(y,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),tc.ONE.dlShiftTo(c,m),m.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--y>=0;){let e=n[--g]===l?this.DM:Math.floor(n[g]*p+(n[g-1]+f)*h);if((n[g]+=o.am(0,e,n,y,0,c))<e)for(o.dlShiftTo(y,m),n.subTo(m,n);n[g]<--e;)n.subTo(m,n)}null!==t&&(n.drShiftTo(c,t),s!==a&&tc.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&tc.ZERO.subTo(n,n)},tc.prototype.invDigit=function(){if(this.t<1)return 0;let e=this[0];if((1&e)==0)return 0;let t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},tc.prototype.addTo=function(e,t){let n=0,i=0,r=Math.min(e.t,this.t);for(;n<r;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()},tc.prototype.toString=function(e){let t,n;if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8===e)t=3;else if(2===e)t=1;else if(32===e)t=5;else if(4===e)t=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");let i=(1<<t)-1,r=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(r=!0,o=th(n));s>=0;)a<t?n=(this[s]&(1<<a)-1)<<t-a|this[--s]>>(a+=this.DB-t):(n=this[s]>>(a-=t)&i,a<=0&&(a+=this.DB,--s)),n>0&&(r=!0),r&&(o+=th(n));return r?o:"0"},tc.prototype.negate=function(){let e=tl();return tc.ZERO.subTo(this,e),e},tc.prototype.abs=function(){return this.s<0?this.negate():this},tc.prototype.compareTo=function(e){let t=this.s-e.s;if(0!=t)return t;let n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},tc.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+tg(this[this.t-1]^this.s&this.DM)},tc.prototype.mod=function(e){let t=tl();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(tc.ZERO)>0&&e.subTo(t,t),t},tc.prototype.equals=function(e){return 0===this.compareTo(e)},tc.prototype.add=function(e){let t=tl();return this.addTo(e,t),t},tc.prototype.subtract=function(e){let t=tl();return this.subTo(e,t),t},tc.prototype.multiply=function(e){let t=tl();return this.multiplyTo(e,t),t},tc.prototype.divide=function(e){let t=tl();return this.divRemTo(e,t,null),t},tc.prototype.modPow=function(e,t,n){let i,r,o,s=e.bitLength(),a=tf(1),u=new ty(t);if(s<=0)return a;let c=[],l=3,d=(i=s<18?1:s<48?3:s<144?4:s<768?5:6)-1,p=(1<<i)-1;if(c[1]=u.convert(this),i>1){let e=tl();for(u.sqrTo(c[1],e);l<=p;)c[l]=tl(),u.mulTo(e,c[l-2],c[l]),l+=2}let h=e.t-1,f=!0,g=tl();for(s=tg(e[h])-1;h>=0;){for(s>=d?r=e[h]>>s-d&p:(r=(e[h]&(1<<s+1)-1)<<d-s,h>0&&(r|=e[h-1]>>this.DB+s-d)),l=i;(1&r)==0;)r>>=1,--l;if((s-=l)<0&&(s+=this.DB,--h),f)c[r].copyTo(a),f=!1;else{for(;l>1;)u.sqrTo(a,g),u.sqrTo(g,a),l-=2;l>0?u.sqrTo(a,g):(o=a,a=g,g=o),u.mulTo(g,c[r],a)}for(;h>=0&&(e[h]&1<<s)==0;)u.sqrTo(a,g),o=a,a=g,g=o,--s<0&&(s=this.DB-1,--h)}let y=u.revert(a);return n(null,y),y},tc.ZERO=tf(0),tc.ONE=tf(1);let tm=async({a:e,g:t,k:n,x:i,B:r,N:o,U:s})=>new Promise((a,u)=>{t.modPow(i,o,(t,c)=>{if(t){u(t);return}r.subtract(n.multiply(c)).modPow(e.add(s.multiply(i)),o,(e,t)=>{if(e){u(e);return}a(t.mod(o))})})}),tE={},tS={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),tE[e]=t,tS[t]=e}let tI=e=>{if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){let i=e.slice(n,n+2).toLowerCase();if(i in tS)t[n/2]=tS[i];else throw Error(`Cannot decode unrecognized sequence ${i} as hexadecimal`)}return t};var tv=n(5169);let tw=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=tE[e[n]];return t},tA=e=>{let t=new tv.f;t.update(e);let n=tw(t.digestSync());return Array(64-n.length).join("0")+n},tx=e=>tA(tI(e)),tC=/^[89a-f]/i,tR=e=>{if(!(e instanceof tc))throw Error("Not a BigInteger");let t=0>e.compareTo(tc.ZERO),n=e.abs().toString(16);return n=n.length%2!=0?`0${n}`:n,n=tC.test(n)?`00${n}`:n,t&&(n=new tc(n.split("").map(e=>{let t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join(""),16).add(tc.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2)),n},tT=({A:e,B:t})=>{let n=new tc(tx(tR(e)+tR(t)),16);if(n.equals(tc.ZERO))throw Error("U cannot be zero.");return n},tP=(e,t,n)=>{let i=new tv.f(t);i.update(e);let r=i.digestSync(),o=new tv.f(r);return o.update(n),o.digestSync().slice(0,16)};var tb=n(4477);class tN{constructor(e,t){this.words=[];let n=e;n=this.words=n||[],void 0!==t?this.sigBytes=t:this.sigBytes=4*n.length}random(e){let t=[];for(let n=0;n<e;n+=4)t.push((0,tb.MX)().getRandomValues(new Uint32Array(1))[0]);return new tN(t,e)}toString(){return function(e){let{words:t}=e,{sigBytes:n}=e,i=[];for(let e=0;e<n;e++){let n=t[e>>>2]>>>24-e%4*8&255;i.push((n>>>4).toString(16)),i.push((15&n).toString(16))}return i.join("")}(this)}}let tU=e=>tI(new tN().random(e).toString()),t_=()=>e7.u.convert(tU(40));class tO{constructor({userPoolName:e,a:t,g:n,A:i,N:r}){this.encoder=tu,this.userPoolName=e,this.a=t,this.g=n,this.A=i,this.N=r,this.k=new tc(tx(`${tR(r)}${tR(n)}`),16)}getRandomPassword(){if(!this.randomPassword)throw new ey.l({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new ey.l({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new ey.l({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(e,t){this.randomPassword=t_();let n=tA(`${e}${t}:${this.randomPassword}`),i=tw(tU(16));return this.saltToHashDevices=tR(new tc(i,16)),new Promise((e,t)=>{this.g.modPow(new tc(tx(this.saltToHashDevices+n),16),this.N,(n,i)=>{if(n){t(n);return}this.verifierDevices=tR(i),e()})})}async getPasswordAuthenticationKey({username:e,password:t,serverBValue:n,salt:i}){if(n.mod(this.N).equals(tc.ZERO))throw Error("B cannot be zero.");let r=tT({A:this.A,B:n}),o=tA(`${this.userPoolName}${e}:${t}`),s=new tc(tx(tR(i)+o),16),a=await tm({a:this.a,g:this.g,k:this.k,x:s,B:n,N:this.N,U:r}),u=this.encoder.convert("Caldera Derived Key"),c=this.encoder.convert("\x01"),l=new Uint8Array(u.byteLength+c.byteLength);return l.set(u,0),l.set(c,u.byteLength),tP(tI(tR(a)),tI(tR(r)),l)}}let tk=async({a:e,g:t,N:n})=>new Promise((i,r)=>{t.modPow(e,n,(e,t)=>{if(e){r(e);return}if(t.mod(n).equals(tc.ZERO)){r(Error("Illegal parameter. A mod N cannot be 0."));return}i(t)})}),tM=async e=>{let t=new tc("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),n=new tc("2",16),i=tD(),r=await tk({a:i,g:n,N:t});return new tO({userPoolName:e,a:i,g:n,A:r,N:t})},tD=()=>new tc(tw(tU(128)),16);async function tF({userPoolId:e,userPoolEndpoint:t,newDeviceMetadata:n,accessToken:i}){if(!n)return;let r=e.split("_")[1]||"",o=await tM(r),s=n?.DeviceKey,a=n?.DeviceGroupKey;try{await o.generateHashDevice(a??"",s??"")}catch(e){return}let u={Salt:e7.u.convert(tI(o.getSaltToHashDevices())),PasswordVerifier:e7.u.convert(tI(o.getVerifierDevices()))},c=o.getRandomPassword();try{let r=ta({endpointResolver:(0,eM.e)({endpointOverride:t})});return await r({region:(0,eE.y)(e)},{AccessToken:i,DeviceName:await ts(),DeviceKey:n?.DeviceKey,DeviceSecretVerifierConfig:u}),{deviceKey:s,deviceGroupKey:a,randomPassword:c}}catch(e){return}}async function tL(e){let t=ep.d.getConfig().Auth?.Cognito;(0,eh.FG)(t);let{username:n,signInSession:i,signInDetails:r,challengeName:o}=eH.getState();if("WEB_AUTHN"!==o||!n)throw new ey.l({name:V.SignInException,message:"Unable to proceed due to invalid sign in state."});let{CREDENTIAL_REQUEST_OPTIONS:s}=e;e5(!!s,ed.InvalidPasskeyAuthenticationOptions);let a=await to(JSON.parse(s)),u=e_({endpointResolver:(0,eM.e)({endpointOverride:t.userPoolEndpoint})}),{ChallengeName:c,ChallengeParameters:l,AuthenticationResult:d,Session:p}=await u({region:(0,eE.y)(t.userPoolId),userAgentValue:eC(ef.g4.ConfirmSignIn)},{ChallengeName:"WEB_AUTHN",ChallengeResponses:{USERNAME:n,CREDENTIAL:JSON.stringify(a)},ClientId:t.userPoolClientId,Session:i});if(eQ({signInSession:p,username:n,challengeName:c,signInDetails:r}),d)return await eL({...d,username:n,NewDeviceMetadata:await tF({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:d.NewDeviceMetadata,accessToken:d.AccessToken}),signInDetails:r}),eH.dispatch({type:"RESET_STATE"}),await eq(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};if("WEB_AUTHN"===c)throw new ey.l({name:V.SignInException,message:"Sequential WEB_AUTHN challenges returned from underlying service cannot be handled."});return{challengeName:c,challengeParameters:l}}var tq=n(2562);let tV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],tK=()=>{let e=new Date,t=tB[e.getUTCDay()],n=tV[e.getUTCMonth()],i=e.getUTCDate(),r=e.getUTCHours();r<10&&(r=`0${r}`);let o=e.getUTCMinutes();o<10&&(o=`0${o}`);let s=e.getUTCSeconds();s<10&&(s=`0${s}`);let a=e.getUTCFullYear();return`${t} ${n} ${i} ${r}:${o}:${s} UTC ${a}`},tW=({userPoolName:e,username:t,challengeParameters:n,dateNow:i,hkdf:r})=>{let o=tu.convert(e),s=tu.convert(t),a=tG(n.SECRET_BLOCK),u=tu.convert(i),c=new Uint8Array(o.byteLength+s.byteLength+a.byteLength+u.byteLength);c.set(o,0),c.set(s,o.byteLength),c.set(a,o.byteLength+s.byteLength),c.set(u,o.byteLength+s.byteLength+a.byteLength);let l=new tv.f(r);l.update(c);let d=l.digestSync();return e7.u.convert(d)},tG=e=>{let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),i=tt.$.convert(n),r=new Uint8Array(i.length);for(let e=0;e<i.length;++e)r[e]=i.charCodeAt(e);return r};var t$=n(6566);async function tj({username:e,config:t,clientMetadata:n,session:i,tokenOrchestrator:r}){let{userPoolId:o,userPoolEndpoint:s}=t,a=t.userPoolClientId,u=await r?.getDeviceMetadata(e);(0,t$.tr)(u);let c=await tM(u.deviceGroupKey),l={USERNAME:e,SRP_A:c.A.toString(16),DEVICE_KEY:u.deviceKey},d=e_({endpointResolver:(0,eM.e)({endpointOverride:s})}),{ChallengeParameters:p,Session:h}=await d({region:(0,eE.y)(o)},{ChallengeName:"DEVICE_SRP_AUTH",ClientId:a,ChallengeResponses:l,ClientMetadata:n,Session:i});return tz(e,p,n,h,c,t,r)}async function tz(e,t,n,i,r,{userPoolId:o,userPoolClientId:s,userPoolEndpoint:a},u){let c=await u?.getDeviceMetadata(e);(0,t$.tr)(c);let l=new tc(t?.SRP_B,16),d=new tc(t?.SALT,16),{deviceKey:p}=c,{deviceGroupKey:h}=c,f=await r.getPasswordAuthenticationKey({username:c.deviceKey,password:c.randomPassword,serverBValue:l,salt:d}),g=tK(),y={USERNAME:t?.USERNAME??e,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:g,PASSWORD_CLAIM_SIGNATURE:tW({username:p,userPoolName:h,challengeParameters:t,dateNow:g,hkdf:f}),DEVICE_KEY:p},m=(0,tq.u)({username:e,userPoolId:o,userPoolClientId:s});return e_({endpointResolver:(0,eM.e)({endpointOverride:a})})({region:(0,eE.y)(o)},{ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:s,ChallengeResponses:y,Session:i,ClientMetadata:n,UserContextData:m})}async function tH(e,t,n,i,r,o,s){let{userPoolId:a,userPoolClientId:u,userPoolEndpoint:c}=o,l=a?.split("_")[1]||"",d=new tc(t?.SRP_B,16),p=new tc(t?.SALT,16),h=t?.USER_ID_FOR_SRP;if(!h)throw new ey.l({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});let f=await r.getPasswordAuthenticationKey({username:h,password:e,serverBValue:d,salt:p}),g=tK(),y={USERNAME:h,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:g,PASSWORD_CLAIM_SIGNATURE:tW({username:h,userPoolName:l,challengeParameters:t,dateNow:g,hkdf:f})},m=await s.getDeviceMetadata(h);m&&m.deviceKey&&(y.DEVICE_KEY=m.deviceKey);let E=(0,tq.u)({username:h,userPoolId:a,userPoolClientId:u}),S=e_({endpointResolver:(0,eM.e)({endpointOverride:c})}),I=await S({region:(0,eE.y)(a)},{ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:y,ClientMetadata:n,Session:i,ClientId:u,UserContextData:E});return"DEVICE_SRP_AUTH"===I.ChallengeName?tj({username:h,config:o,clientMetadata:n,session:I.Session,tokenOrchestrator:s}):I}async function tQ(e,t,n,i){try{return await e(...t)}catch(r){if(r instanceof ey.l&&"ResourceNotFoundException"===r.name&&r.message.includes("Device does not exist."))return await i.clearDeviceMetadata(n),e(...t);throw r}}function tJ(e){let{dispatch:t}=eH;t({type:"SET_USERNAME",value:e})}async function tY({username:e,password:t,clientMetadata:n,config:i,tokenOrchestrator:r,authFlow:o,preferredChallenge:s}){let{userPoolId:a,userPoolClientId:u,userPoolEndpoint:c}=i,l=a?.split("_")[1]||"",d=await tM(l),p={USERNAME:e,SRP_A:d.A.toString(16)};"USER_AUTH"===o&&s&&(p.PREFERRED_CHALLENGE=s);let h=(0,tq.u)({username:e,userPoolId:a,userPoolClientId:u}),f=(0,eR.N)({endpointResolver:(0,eM.e)({endpointOverride:c})}),g=await f({region:(0,eE.y)(a),userAgentValue:eC(ef.g4.SignIn)},{AuthFlow:o,AuthParameters:p,ClientMetadata:n,ClientId:u,UserContextData:h}),{ChallengeParameters:y,Session:m}=g,E=y?.USERNAME??e;return(tJ(E),"PASSWORD_VERIFIER"===g.ChallengeName)?tQ(tH,[t,y,n,m,d,i,r],E,r):g}async function tZ({username:e,session:t,selectedChallenge:n,config:i,clientMetadata:r}){return e_({endpointResolver:(0,eM.e)({endpointOverride:i.userPoolEndpoint})})({region:(0,eE.y)(i.userPoolId),userAgentValue:eC(ef.g4.ConfirmSignIn)},{ChallengeName:"SELECT_CHALLENGE",ChallengeResponses:{USERNAME:e,ANSWER:n},ClientId:i.userPoolClientId,Session:t,ClientMetadata:r})}async function tX(e,t,n,i,r){let{userPoolId:o,userPoolClientId:s,userPoolEndpoint:a}=i,u=(0,tq.u)({username:e,userPoolId:o,userPoolClientId:s}),c=e_({endpointResolver:(0,eM.e)({endpointOverride:a})}),l=await c({region:(0,eE.y)(o),userAgentValue:eC(ef.g4.ConfirmSignIn)},{ChallengeName:"SELECT_CHALLENGE",ChallengeResponses:{ANSWER:"PASSWORD",USERNAME:e,PASSWORD:t},ClientId:s,ClientMetadata:n,Session:r,UserContextData:u});return tJ(l.ChallengeParameters?.USERNAME??e),l}async function t0(e,t,n,i,r,o){let{userPoolId:s,userPoolClientId:a,userPoolEndpoint:u}=i,c=s.split("_")[1]||"",l=await tM(c),d={ANSWER:"PASSWORD_SRP",USERNAME:e,SRP_A:l.A.toString(16)},p=(0,tq.u)({username:e,userPoolId:s,userPoolClientId:a}),h=e_({endpointResolver:(0,eM.e)({endpointOverride:u})}),f=await h({region:(0,eE.y)(s),userAgentValue:eC(ef.g4.ConfirmSignIn)},{ChallengeName:"SELECT_CHALLENGE",ChallengeResponses:d,ClientId:a,ClientMetadata:n,Session:r,UserContextData:p}),g=f.ChallengeParameters?.USERNAME??e;return(tJ(g),"PASSWORD_VERIFIER"===f.ChallengeName)?tQ(tH,[t,f.ChallengeParameters,n,f.Session,l,i,o],g,o):f}let t1="userAttributes.";async function t2({challengeResponse:e,clientMetadata:t,session:n,username:i,config:r,tokenOrchestrator:o}){let{userPoolId:s,userPoolClientId:a,userPoolEndpoint:u}=r,c={USERNAME:i,ANSWER:e},l=await o?.getDeviceMetadata(i);l&&l.deviceKey&&(c.DEVICE_KEY=l.deviceKey);let d=(0,tq.u)({username:i,userPoolId:s,userPoolClientId:a}),p=e_({endpointResolver:(0,eM.e)({endpointOverride:u})}),h=await p({region:(0,eE.y)(s),userAgentValue:eC(ef.g4.ConfirmSignIn)},{ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:c,Session:n,ClientMetadata:t,ClientId:a,UserContextData:d});return"DEVICE_SRP_AUTH"===h.ChallengeName?tj({username:i,config:r,clientMetadata:t,session:h.Session,tokenOrchestrator:o}):h}async function t6({challengeResponse:e,username:t,clientMetadata:n,session:i,deviceName:r,config:o}){let{userPoolId:s,userPoolClientId:a,userPoolEndpoint:u}=o;if("EMAIL"===e)return{ChallengeName:"MFA_SETUP",Session:i,ChallengeParameters:{MFAS_CAN_SETUP:'["EMAIL_OTP"]'},$metadata:{}};if("TOTP"===e)return{ChallengeName:"MFA_SETUP",Session:i,ChallengeParameters:{MFAS_CAN_SETUP:'["SOFTWARE_TOKEN_MFA"]'},$metadata:{}};let c={USERNAME:t};if(/^\d+$/.test(e)){let t=eO({endpointResolver:(0,eM.e)({endpointOverride:u})}),{Session:o}=await t({region:(0,eE.y)(s),userAgentValue:eC(ef.g4.ConfirmSignIn)},{UserCode:e,Session:i,FriendlyDeviceName:r});return eH.dispatch({type:"SET_SIGN_IN_SESSION",value:o}),e_({endpointResolver:(0,eM.e)({endpointOverride:u})})({region:(0,eE.y)(s),userAgentValue:eC(ef.g4.ConfirmSignIn)},{ChallengeName:"MFA_SETUP",ChallengeResponses:c,Session:o,ClientMetadata:n,ClientId:a})}if(e.includes("@"))return c.EMAIL=e,e_({endpointResolver:(0,eM.e)({endpointOverride:u})})({region:(0,eE.y)(s),userAgentValue:eC(ef.g4.ConfirmSignIn)},{ChallengeName:"MFA_SETUP",ChallengeResponses:c,Session:i,ClientMetadata:n,ClientId:a});throw new ey.l({name:V.SignInException,message:`Cannot proceed with MFA setup using challengeResponse: ${e}`,recoverySuggestion:'Try passing "EMAIL", "TOTP", a valid email, or OTP code as the challengeResponse.'})}async function t5({challengeResponse:e,username:t,clientMetadata:n,session:i,config:r}){let o;let{userPoolId:s,userPoolClientId:a,userPoolEndpoint:u}=r;em("TOTP"===e||"SMS"===e||"EMAIL"===e,L.IncorrectMFAMethod);let c={USERNAME:t,ANSWER:(o="SMS_MFA","TOTP"===e&&(o="SOFTWARE_TOKEN_MFA"),"EMAIL"===e&&(o="EMAIL_OTP"),o)},l=(0,tq.u)({username:t,userPoolId:s,userPoolClientId:a});return e_({endpointResolver:(0,eM.e)({endpointOverride:u})})({region:(0,eE.y)(s),userAgentValue:eC(ef.g4.ConfirmSignIn)},{ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:c,Session:i,ClientMetadata:n,ClientId:a,UserContextData:l})}async function t4({challengeResponse:e,clientMetadata:t,session:n,username:i,requiredAttributes:r,config:o}){let{userPoolId:s,userPoolClientId:a,userPoolEndpoint:u}=o,c={...function(e){if(!e)return{};let t={};return Object.entries(e).forEach(([e,n])=>{n&&(t[`${t1}${e}`]=n)}),t}(r),NEW_PASSWORD:e,USERNAME:i},l=(0,tq.u)({username:i,userPoolId:s,userPoolClientId:a});return e_({endpointResolver:(0,eM.e)({endpointOverride:u})})({region:(0,eE.y)(s),userAgentValue:eC(ef.g4.ConfirmSignIn)},{ChallengeName:"NEW_PASSWORD_REQUIRED",ChallengeResponses:c,ClientMetadata:t,Session:n,ClientId:a,UserContextData:l})}async function t3(e,t,n,i,r){let{userPoolClientId:o,userPoolId:s,userPoolEndpoint:a}=i,u={USERNAME:e,PASSWORD:t},c=await r.getDeviceMetadata(e);c&&c.deviceKey&&(u.DEVICE_KEY=c.deviceKey);let l=(0,tq.u)({username:e,userPoolId:s,userPoolClientId:o}),d=(0,eR.N)({endpointResolver:(0,eM.e)({endpointOverride:a})}),p=await d({region:(0,eE.y)(s),userAgentValue:eC(ef.g4.SignIn)},{AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:u,ClientMetadata:n,ClientId:o,UserContextData:l}),h=p.ChallengeParameters?.USERNAME??p.ChallengeParameters?.USER_ID_FOR_SRP??e;return(tJ(h),"DEVICE_SRP_AUTH"===p.ChallengeName)?tj({username:h,config:i,clientMetadata:n,session:p.Session,tokenOrchestrator:r}):p}async function t8(e,t,n,i,r){return tY({username:e,password:t,clientMetadata:n,config:i,tokenOrchestrator:r,authFlow:"USER_SRP_AUTH"})}async function t9(e,t,n,i){let{userPoolClientId:r,userPoolId:o,userPoolEndpoint:s}=n,a={USERNAME:e},u=await i.getDeviceMetadata(e);u&&u.deviceKey&&(a.DEVICE_KEY=u.deviceKey);let c=(0,tq.u)({username:e,userPoolId:o,userPoolClientId:r}),l=(0,eR.N)({endpointResolver:(0,eM.e)({endpointOverride:s})}),d=await l({region:(0,eE.y)(o),userAgentValue:eC(ef.g4.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:a,ClientMetadata:t,ClientId:r,UserContextData:c}),p=d.ChallengeParameters?.USERNAME??e;return(tJ(p),"DEVICE_SRP_AUTH"===d.ChallengeName)?tj({username:p,config:n,clientMetadata:t,session:d.Session,tokenOrchestrator:i}):d}async function t7(e,t,n,i,r){(0,eh.FG)(i);let{userPoolId:o,userPoolClientId:s,userPoolEndpoint:a}=i,u=o?.split("_")[1]||"",c=await tM(u),l={USERNAME:e,SRP_A:c.A.toString(16),CHALLENGE_NAME:"SRP_A"},d=(0,tq.u)({username:e,userPoolId:o,userPoolClientId:s}),p=(0,eR.N)({endpointResolver:(0,eM.e)({endpointOverride:a})}),{ChallengeParameters:h,Session:f}=await p({region:(0,eE.y)(o),userAgentValue:eC(ef.g4.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:l,ClientMetadata:n,ClientId:s,UserContextData:d}),g=h?.USERNAME??e;return tJ(g),tQ(tH,[t,h,n,f,c,i,r],g,r)}async function ne(e){var t;let{challengeName:n,challengeParameters:i,availableChallenges:r}=e,o=ep.d.getConfig().Auth?.Cognito;switch((0,eh.FG)(o),n){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:i}};case"MFA_SETUP":{let{signInSession:e,username:t}=eH.getState(),n=nr(no(i.MFAS_CAN_SETUP))||[],r=n.filter(e=>"EMAIL"===e||"TOTP"===e),s=r.includes("TOTP"),a=r.includes("EMAIL");if(s&&a)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SETUP_SELECTION",allowedMFATypes:r}};if(a)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_EMAIL_SETUP"}};if(s){let n=ek({endpointResolver:(0,eM.e)({endpointOverride:o.userPoolEndpoint})}),{Session:i,SecretCode:r}=await n({region:(0,eE.y)(o.userPoolId)},{Session:e});return eH.dispatch({type:"SET_SIGN_IN_SESSION",value:i}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:{sharedSecret:r,getSetupUri:(e,n)=>{let i=`otpauth://totp/${e}:${n??t}?secret=${r}&issuer=${e}`;return new ev.a(i)}}}}}throw new ey.l({name:V.SignInException,message:`Cannot initiate MFA setup from available types: ${n}`})}case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:(t=i.requiredAttributes)?JSON.parse(t).map(e=>e.includes(t1)?e.replace(t1,""):e):[]}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:nr(no(i.MFAS_CAN_CHOOSE))}};case"SMS_OTP":case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:i.CODE_DELIVERY_DELIVERY_MEDIUM,destination:i.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}};case"EMAIL_OTP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_EMAIL_CODE",codeDeliveryDetails:{deliveryMedium:i.CODE_DELIVERY_DELIVERY_MEDIUM,destination:i.CODE_DELIVERY_DESTINATION}}};case"WEB_AUTHN":{let e=await tL(i);if("isSignedIn"in e&&"nextStep"in e)return e;return ne(e)}case"PASSWORD":case"PASSWORD_SRP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_PASSWORD"}};case"SELECT_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_FIRST_FACTOR_SELECTION",availableChallenges:r}}}throw new ey.l({name:V.SignInException,message:`An error occurred during the sign in process. ${n} challengeName returned by the underlying service was not addressed.`})}function nt(e){return e===et.PasswordResetRequiredException?{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}}:e===et.UserNotConfirmedException?{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}:void 0}async function nn(e,t,n,i,r,o,s,a){let u=a?.userAttributes,c=a?.friendlyDeviceName;switch(t){case"WEB_AUTHN":case"SELECT_CHALLENGE":if("PASSWORD_SRP"===i||"PASSWORD"===i)return{ChallengeName:i,Session:n,$metadata:{}};return tZ({username:e,session:n,selectedChallenge:i,config:r,clientMetadata:s});case"SELECT_MFA_TYPE":return t5({challengeResponse:i,clientMetadata:s,session:n,username:e,config:r});case"MFA_SETUP":return t6({challengeResponse:i,clientMetadata:s,session:n,username:e,deviceName:c,config:r});case"NEW_PASSWORD_REQUIRED":return t4({challengeResponse:i,clientMetadata:s,session:n,username:e,requiredAttributes:u,config:r});case"CUSTOM_CHALLENGE":return tQ(t2,[{challengeResponse:i,clientMetadata:s,session:n,username:e,config:r,tokenOrchestrator:o}],e,o);case"SMS_MFA":case"SOFTWARE_TOKEN_MFA":case"SMS_OTP":case"EMAIL_OTP":return nu({challengeName:t,challengeResponse:i,clientMetadata:s,session:n,username:e,config:r});case"PASSWORD":return tX(e,i,s,r,n);case"PASSWORD_SRP":return t0(e,i,s,r,n,o)}throw new ey.l({name:V.SignInException,message:`An error occurred during the sign in process.
		${t} challengeName returned by the underlying service was not addressed.`})}function ni(e){return"SMS_MFA"===e?"SMS":"SOFTWARE_TOKEN_MFA"===e?"TOTP":"EMAIL_OTP"===e?"EMAIL":void 0}function nr(e){if(e)return e.map(ni).filter(Boolean)}function no(e){return e?JSON.parse(e):[]}async function ns(){let e;try{e=await (0,eA.t)()}catch(e){}if(e&&e.userId&&e.username)throw new ey.l({name:ew.EU,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}function na(e){return eH.getState().username??e}async function nu({challengeName:e,challengeResponse:t,clientMetadata:n,session:i,username:r,config:o}){let{userPoolId:s,userPoolClientId:a,userPoolEndpoint:u}=o,c={USERNAME:r};"EMAIL_OTP"===e&&(c.EMAIL_OTP_CODE=t),"SMS_MFA"===e&&(c.SMS_MFA_CODE=t),"SMS_OTP"===e&&(c.SMS_OTP_CODE=t),"SOFTWARE_TOKEN_MFA"===e&&(c.SOFTWARE_TOKEN_MFA_CODE=t);let l=(0,tq.u)({username:r,userPoolId:s,userPoolClientId:a});return e_({endpointResolver:(0,eM.e)({endpointOverride:u})})({region:(0,eE.y)(s),userAgentValue:eC(ef.g4.ConfirmSignIn)},{ChallengeName:e,ChallengeResponses:c,Session:i,ClientMetadata:n,ClientId:a,UserContextData:l})}var nc=n(9559);async function nl(e){let t=ep.d.getConfig().Auth?.Cognito;(0,eh.FG)(t);let{username:n,password:i,options:r}=e,o={loginId:n,authFlowType:"CUSTOM_WITHOUT_SRP"},s=r?.clientMetadata;em(!!n,L.EmptySignInUsername),em(!i,L.CustomAuthSignInPassword);try{let{ChallengeName:e,ChallengeParameters:i,AuthenticationResult:r,Session:a}=await tQ(t9,[n,s,t,eF.C],n,eF.C),u=na(n);if(eQ({signInSession:a,username:u,challengeName:e,signInDetails:o}),r)return await eL({username:u,...r,NewDeviceMetadata:await tF({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:r.NewDeviceMetadata,accessToken:r.AccessToken}),signInDetails:o}),eG(),await eq(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return ne({challengeName:e,challengeParameters:i})}catch(t){eG(),(0,nc.R)(t);let e=nt(t.name);if(e)return e;throw t}}async function nd(e){let{username:t,password:n,options:i}=e,r={loginId:t,authFlowType:"CUSTOM_WITH_SRP"},o=ep.d.getConfig().Auth?.Cognito;(0,eh.FG)(o);let s=i?.clientMetadata;em(!!t,L.EmptySignInUsername),em(!!n,L.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:i,AuthenticationResult:a,Session:u}=await t7(t,n,s,o,eF.C),c=na(t);if(eQ({signInSession:u,username:c,challengeName:e,signInDetails:r}),a)return await eL({username:c,...a,NewDeviceMetadata:await tF({userPoolId:o.userPoolId,userPoolEndpoint:o.userPoolEndpoint,newDeviceMetadata:a.NewDeviceMetadata,accessToken:a.AccessToken}),signInDetails:r}),eG(),await eq(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return ne({challengeName:e,challengeParameters:i})}catch(t){eG(),(0,nc.R)(t);let e=nt(t.name);if(e)return e;throw t}}function np(){return{active:!1}}let nh=(a=(F=(e,t)=>{switch(t.type){case"SET_USERNAME":return{...e,username:t.value};case"SET_SESSION":return{...e,session:t.value};case"START":return{...e,active:!0};case"RESET":return np();default:return e}})(np(),{type:"RESET"}),{getState:()=>a,dispatch:e=>{a=F(a,e)}});function nf(e=!0){nh.dispatch({type:"RESET"})}async function ng(e){let{username:t,password:n}=e,i=ep.d.getConfig().Auth?.Cognito,r={loginId:t,authFlowType:"USER_SRP_AUTH"};(0,eh.FG)(i);let o=e.options?.clientMetadata;em(!!t,L.EmptySignInUsername),em(!!n,L.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:s,AuthenticationResult:a,Session:u}=await t8(t,n,o,i,eF.C),c=na(t);if(eQ({signInSession:u,username:c,challengeName:e,signInDetails:r}),a)return await eL({username:c,...a,NewDeviceMetadata:await tF({userPoolId:i.userPoolId,userPoolEndpoint:i.userPoolEndpoint,newDeviceMetadata:a.NewDeviceMetadata,accessToken:a.AccessToken}),signInDetails:r}),eG(),await eq(),nf(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return ne({challengeName:e,challengeParameters:s})}catch(t){eG(),nf(),(0,nc.R)(t);let e=nt(t.name);if(e)return e;throw t}}async function ny(e){let{username:t,password:n,options:i}=e,r=ep.d.getConfig().Auth?.Cognito,o={loginId:t,authFlowType:"USER_PASSWORD_AUTH"};(0,eh.FG)(r);let s=i?.clientMetadata;em(!!t,L.EmptySignInUsername),em(!!n,L.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:i,AuthenticationResult:a,Session:u}=await tQ(t3,[t,n,s,r,eF.C],t,eF.C),c=na(t);if(eQ({signInSession:u,username:c,challengeName:e,signInDetails:o}),a)return await eL({...a,username:c,NewDeviceMetadata:await tF({userPoolId:r.userPoolId,userPoolEndpoint:r.userPoolEndpoint,newDeviceMetadata:a.NewDeviceMetadata,accessToken:a.AccessToken}),signInDetails:o}),eG(),await eq(),nf(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return ne({challengeName:e,challengeParameters:i})}catch(t){eG(),nf(),(0,nc.R)(t);let e=nt(t.name);if(e)return e;throw t}}async function nm({username:e,clientMetadata:t,config:n,tokenOrchestrator:i,preferredChallenge:r,password:o,session:s}){let{userPoolId:a,userPoolClientId:u,userPoolEndpoint:c}=n,l=(0,tq.u)({username:e,userPoolId:a,userPoolClientId:u}),d={USERNAME:e};if(r){if("PASSWORD_SRP"===r)return em(!!o,L.EmptySignInPassword),tY({username:e,password:o,clientMetadata:t,config:n,tokenOrchestrator:i,authFlow:"USER_AUTH",preferredChallenge:r});"PASSWORD"===r&&(em(!!o,L.EmptySignInPassword),d.PASSWORD=o),d.PREFERRED_CHALLENGE=r}let p={AuthFlow:"USER_AUTH",AuthParameters:d,ClientMetadata:t,ClientId:u,UserContextData:l};s&&(p.Session=s);let h=(0,eR.N)({endpointResolver:(0,eM.e)({endpointOverride:c})}),f=await h({region:(0,eE.y)(a),userAgentValue:eC(ef.g4.SignIn)},p);return tJ(e),f}async function nE(e){let{username:t,password:n,options:i}=e,r=ep.d.getConfig().Auth?.Cognito,o={loginId:t,authFlowType:"USER_AUTH"};(0,eh.FG)(r);let s=i?.clientMetadata,a=i?.preferredChallenge;em(!!t,L.EmptySignInUsername);try{let e={username:t,config:r,tokenOrchestrator:eF.C,clientMetadata:s,preferredChallenge:a,password:n},i=nh.getState();i.active&&i.username===t&&(e.session=i.session);let u=await nm(e),c=na(t);if(eQ({signInSession:u.Session,username:c,challengeName:u.ChallengeName,signInDetails:o}),u.AuthenticationResult)return await eL({username:c,...u.AuthenticationResult,NewDeviceMetadata:await tF({userPoolId:r.userPoolId,userPoolEndpoint:r.userPoolEndpoint,newDeviceMetadata:u.AuthenticationResult.NewDeviceMetadata,accessToken:u.AuthenticationResult.AccessToken}),signInDetails:o}),eG(),await eq(),nf(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return ne({challengeName:u.ChallengeName,challengeParameters:u.ChallengeParameters,availableChallenges:"AvailableChallenges"in u?u.AvailableChallenges:void 0})}catch(t){eG(),nf(),(0,nc.R)(t);let e=nt(t.name);if(e)return e;throw t}}async function nS(e){nf(!1);let t=e.options?.authFlowType;switch(await ns(),t){case"USER_SRP_AUTH":default:return ng(e);case"USER_PASSWORD_AUTH":return ny(e);case"CUSTOM_WITHOUT_SRP":return nl(e);case"CUSTOM_WITH_SRP":return nd(e);case"USER_AUTH":return nE(e)}}function nI(e,t){let n;return i=>{n||e(...i),clearTimeout(n),n=setTimeout(()=>{n=void 0},t)}}let nv=nI(function(e,t,n){let i=Date.now(),r=setInterval(async()=>{if(Date.now()-i>18e4)clearInterval(r),n(new ey.l({name:ew.MA,message:"The account was not confirmed on time.",recoverySuggestion:"Try to verify your account by clicking the link sent your email or phone and then login manually."})),nf();else try{let n=await nS(e);"CONFIRM_SIGN_UP"!==n.nextStep.signInStep&&(t(n),clearInterval(r),nf())}catch(e){clearInterval(r),n(e),nf()}},5e3)},300),nw=nI(nA,300);async function nA(e,t,n){try{let n=e?.options?.authFlowType==="USER_AUTH"?await nE(e):await nS(e);t(n),nf()}catch(e){n(e),nf()}}function nx(e){return async()=>new Promise((t,n)=>{nw([e,t,n])})}var nC=n(5434);let nR=()=>async e=>{if(e.statusCode>=300){let t=await (0,nC.f)(e);if((0,nc.R)(t),t.name===eo.InvalidParameterException&&/'password'/.test(t.message)&&/Member must not be null/.test(t.message)){let e=L.EmptySignUpPassword,{message:t,recoverySuggestion:n}=eg[e];throw new ey.l({name:e,message:t,recoverySuggestion:n})}throw new ey.l({name:t.name,message:t.message})}return(0,nC.e)(e)},nT=e=>(0,eT.z)(eP.x,(0,eb.u)("SignUp"),nR(),{...eU.n,...e});async function nP(e){let{username:t,password:n,options:i}=e,r=ep.d.getConfig().Auth?.Cognito,o=r?.signUpVerificationMethod??"code",{clientMetadata:s,validationData:a,autoSignIn:u}=e.options??{};(0,eh.FG)(r),em(!!t,L.EmptySignUpUsername);let c="boolean"!=typeof u?u:void 0,l={username:t,options:c};c?.authFlowType!=="CUSTOM_WITHOUT_SRP"&&(l.password=n);let{userPoolId:d,userPoolClientId:p,userPoolEndpoint:h}=r,f=nT({endpointResolver:(0,eM.e)({endpointOverride:h})}),g={Username:t,Password:void 0,UserAttributes:i?.userAttributes&&eS(i?.userAttributes),ClientMetadata:s,ValidationData:a&&eS(a),ClientId:p,UserContextData:(0,tq.u)({username:t,userPoolId:d,userPoolClientId:p})};n&&(g.Password=n);let{UserSub:y,CodeDeliveryDetails:m,UserConfirmed:E,Session:S}=await f({region:(0,eE.y)(d),userAgentValue:eC(ef.g4.SignUp)},g);(c||!0===u)&&(nh.dispatch({type:"START"}),nh.dispatch({type:"SET_USERNAME",value:t}),nh.dispatch({type:"SET_SESSION",value:S}));let I={destination:m?.Destination,deliveryMedium:m?.DeliveryMedium,attributeName:m?.AttributeName},v=nh.getState().active;if(E)return v?(nx(l),{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:y}):{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:y};if(v){if("link"===o)return async()=>new Promise((e,t)=>{nv([l,e,t])}),{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:I},userId:y};!function(e){let t=eI.qC.listen("auth-internal",async({payload:n})=>{if("confirmSignUp"===n.event){let i=n.data;i?.isSignUpComplete&&(eI.qC.dispatch("auth-internal",{event:"autoSignIn"}),nx(e),t())}}),n=setTimeout(()=>{t(),clearTimeout(n),nf()},18e4)}(l)}return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:I},userId:y}}let nb=e=>(0,eT.z)(eP.x,(0,eb.u)("ConfirmSignUp"),(0,eN.o)(),{...eU.n,...e});async function nN(e){let{username:t,confirmationCode:n,options:i}=e,r=ep.d.getConfig().Auth?.Cognito;(0,eh.FG)(r);let{userPoolId:o,userPoolClientId:s,userPoolEndpoint:a}=r,u=i?.clientMetadata;em(!!t,L.EmptyConfirmSignUpUsername),em(!!n,L.EmptyConfirmSignUpCode);let c=(0,tq.u)({username:t,userPoolId:o,userPoolClientId:s}),l=nb({endpointResolver:(0,eM.e)({endpointOverride:a})}),{Session:d}=await l({region:(0,eE.y)(r.userPoolId),userAgentValue:eC(ef.g4.ConfirmSignUp)},{Username:t,ConfirmationCode:n,ClientMetadata:u,ForceAliasCreation:i?.forceAliasCreation,ClientId:r.userPoolClientId,UserContextData:c});return new Promise((e,n)=>{try{let n={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},i=nh.getState();if(!i.active||i.username!==t){e(n),nf();return}nh.dispatch({type:"SET_SESSION",value:d});let r=eI.qC.listen("auth-internal",({payload:t})=>{"autoSignIn"===t.event&&(e({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),r())});eI.qC.dispatch("auth-internal",{event:"confirmSignUp",data:n})}catch(e){n(e)}})}var nU=n(6344);function n_(){return ep.d.Auth.clearCredentials()}var nO=n(4574);let nk=async e=>{await e.clearOAuthData(),eF.C.clearTokens(),await n_(),eI.Xb.dispatch("auth",{event:"signedOut"},"Auth",eI.SQ)},nM=async e=>{window?.location&&(window.location.href=e.replace("http://","https://"))},nD=e=>e.startsWith(String((window.location.origin+window.location.pathname)??"/")),nF=e=>e.includes(String(window.location.hostname)),nL=e=>e.startsWith("http://"),nq=e=>e.startsWith("https://"),nV=async(e,t=!1,n)=>{(0,eh.V0)(e);let{loginWith:i,userPoolClientId:r}=e,{domain:o,redirectSignOut:s}=i.oauth,a=function(e,t){if(t){let n=e?.find(e=>e===t);if(!n)throw ew.x9;return n}{let t=e?.find(nD)??e?.find(nF),n=e?.find(nq)??e?.find(nL);if(t)return t;if(n)throw ew.VL;throw ew.vC}}(s,n);return nM(`https://${o}/logout?${Object.entries({client_id:r,logout_uri:encodeURIComponent(a)}).map(([e,t])=>`${e}=${t}`).join("&")}`)},nB=async(e,t,n,i)=>{let{isOAuthSignIn:r}=await t.loadOAuthSignIn(),o=await n.getOAuthMetadata();if(await nk(t),r||o?.oauthSignIn)return nV(e,!1,i)},nK=e=>(0,eT.z)(eP.x,(0,eb.u)("RevokeToken"),(0,eN.o)(),{...eU.n,...e}),nW=e=>(0,eT.z)(eP.x,(0,eb.u)("GlobalSignOut"),(0,eN.o)(),{...eU.n,...e}),nG=new nU.k("Auth");async function n$(e){let t;let n=ep.d.getConfig().Auth?.Cognito;(0,eh.FG)(n),e?.global?await nz(n):await nj(n);try{(0,eh.V0)(n),t=!0}catch(e){t=!1}if(t){let t=new nO.R(eV.Fm);t.setAuthConfig(n);let{type:i}=await nB(n,t,eF.C,e?.oauth?.redirectUrl)??{};if("error"===i)throw new ey.l({name:ew.wW,message:"An error occurred when attempting to log out from OAuth provider."})}else eF.C.clearTokens(),await n_(),eI.Xb.dispatch("auth",{event:"signedOut"},"Auth",eI.SQ)}async function nj(e){try{let{userPoolEndpoint:t,userPoolId:n,userPoolClientId:i}=e,r=await eF.C.getTokenStore().loadTokens();if((0,t$.XD)(r),nH(r.accessToken)){let e=nK({endpointResolver:(0,eM.e)({endpointOverride:t})});await e({region:(0,eE.y)(n),userAgentValue:eC(ef.g4.SignOut)},{ClientId:i,Token:r.refreshToken})}}catch(e){nG.debug("Client signOut error caught but will proceed with token removal")}}async function nz(e){try{let{userPoolEndpoint:t,userPoolId:n}=e,i=await eF.C.getTokenStore().loadTokens();(0,t$.CA)(i);let r=nW({endpointResolver:(0,eM.e)({endpointOverride:t})});await r({region:(0,eE.y)(n),userAgentValue:eC(ef.g4.SignOut)},{AccessToken:i.accessToken.toString()})}catch(e){nG.debug("Global signOut error caught but will proceed with token removal")}}let nH=e=>!!e?.payload?.origin_jti;var nQ=n(9319),nJ=n(695);let nY=e=>(0,eT.z)(eP.x,(0,eb.u)("GetUser"),(0,eN.o)(),{...eU.n,...e}),nZ=async e=>{let t=e.getConfig().Auth?.Cognito;(0,eh.FG)(t);let{userPoolEndpoint:n,userPoolId:i}=t,{tokens:r}=await (0,nJ.y)(e,{forceRefresh:!1});(0,t$.CA)(r);let o=nY({endpointResolver:(0,eM.e)({endpointOverride:n})}),{UserAttributes:s}=await o({region:(0,eE.y)(i),userAgentValue:eC(ef.g4.FetchUserAttributes)},{AccessToken:r.accessToken.toString()});return function(e){let t={};return e?.forEach(e=>{e.Name&&(t[e.Name]=e.Value)}),t}(s)},nX=()=>nZ(ep.d),n0=e=>(0,eT.z)(eP.x,(0,eb.u)("UpdateUserAttributes"),(0,eN.o)(),{...eU.n,...e}),n1=async e=>{let{userAttributes:t,options:n}=e,i=ep.d.getConfig().Auth?.Cognito,r=n?.clientMetadata;(0,eh.FG)(i);let{userPoolEndpoint:o,userPoolId:s}=i,{tokens:a}=await (0,nQ.y)({forceRefresh:!1});(0,t$.CA)(a);let u=n0({endpointResolver:(0,eM.e)({endpointOverride:o})}),{CodeDeliveryDetailsList:c}=await u({region:(0,eE.y)(s),userAgentValue:eC(ef.g4.UpdateUserAttributes)},{AccessToken:a.accessToken.toString(),ClientMetadata:r,UserAttributes:eS(t)});return{...function(e){let t={};return Object.keys(e)?.forEach(e=>{t[e]={isUpdated:!0,nextStep:{updateAttributeStep:"DONE"}}}),t}(t),...function(e){let t={};return e?.forEach(e=>{let{AttributeName:n,DeliveryMedium:i,Destination:r}=e;n&&(t[n]={isUpdated:!1,nextStep:{updateAttributeStep:"CONFIRM_ATTRIBUTE_WITH_CODE",codeDeliveryDetails:{attributeName:n,deliveryMedium:i,destination:r}}})}),t}(c)}};async function n2(e){let{challengeResponse:t,options:n}=e,{username:i,challengeName:r,signInSession:o,signInDetails:s}=eH.getState(),a=ep.d.getConfig().Auth?.Cognito;(0,eh.FG)(a);let u=n?.clientMetadata;if(em(!!t,L.EmptyChallengeResponse),!i||!r||!o)throw new ey.l({name:V.SignInException,message:`
			An error occurred during the sign in process.

			This most likely occurred due to:
			1. signIn was not called before confirmSignIn.
			2. signIn threw an exception.
			3. page was refreshed during the sign in flow and session has expired.
			`,recoverySuggestion:"Make sure a successful call to signIn is made before calling confirmSignInand that the session has not expired."});try{let{Session:e,ChallengeName:c,AuthenticationResult:l,ChallengeParameters:d}=await nn(i,r,o,t,a,eF.C,u,n);if(eQ({signInSession:e,username:i,challengeName:c,signInDetails:s}),l)return await eL({username:i,...l,NewDeviceMetadata:await tF({userPoolId:a.userPoolId,userPoolEndpoint:a.userPoolEndpoint,newDeviceMetadata:l.NewDeviceMetadata,accessToken:l.AccessToken}),signInDetails:s}),eG(),await eq(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return ne({challengeName:c,challengeParameters:d})}catch(t){(0,nc.R)(t);let e=nt(t.name);if(e)return e;throw t}}var n6=n(7510),n5=n(9556);if(n5.V&&"function"==typeof n5.V.configure){let e=(0,n6.m)();n5.V.configure(e)}class n4{static async signUp(e){try{let{username:t,password:n,email:i,firstName:r,lastName:o}=e,s={email:i,...r&&{name:r},...o&&{family_name:o}},a=await nP({username:t,password:n,options:{userAttributes:s}});return{isSuccess:!0,message:"Sign up successful! Please check your email for a verification code.",data:a}}catch(e){if(console.error("Sign up error:",e),"UsernameExistsException"===e.name)return{isSuccess:!1,message:"This username is already taken. Please try another one."};return{isSuccess:!1,message:e.message||"Failed to sign up. Please try again."}}}static async signIn(e){try{"undefined"!=typeof document&&document.cookie.split(";").forEach(e=>{let[t]=e.split("=").map(e=>e.trim());(t.includes("CognitoIdentityServiceProvider")||t.includes("amplify")||t.includes("Token"))&&(document.cookie="".concat(t,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"))});let{username:t,password:n}=e,i=await nS({username:t,password:n});return await new Promise(e=>setTimeout(e,500)),await this.waitForSession(),{isSuccess:!0,message:"Successfully signed in",data:i,nextStep:i.nextStep}}catch(e){if(console.error("Sign in error:",e),"UserNotConfirmedException"===e.name)return{isSuccess:!1,message:"Please confirm your account by entering the verification code sent to your email."};if("NotAuthorizedException"===e.name)return{isSuccess:!1,message:"Incorrect username or password."};if("UserNotFoundException"===e.name)return{isSuccess:!1,message:"User does not exist."};return{isSuccess:!1,message:e.message||"Failed to sign in. Please try again."}}}static async confirmSignUp(e,t){try{await nN({username:e,confirmationCode:t})}catch(e){throw console.error("Confirm sign up error:",e),e}}static async signOut(){try{await n$({global:!0}),this.lastSessionCheck=0,this.sessionCheckPromise=null,"undefined"!=typeof document&&document.cookie.split(";").forEach(e=>{let[t]=e.split("=").map(e=>e.trim());(t.includes("CognitoIdentityServiceProvider")||t.includes("amplify")||t.includes("Token")||t.includes("auth"))&&(console.log("Clearing cookie after signout:",t),document.cookie="".concat(t,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"))}),window.location.href="/admin/login?fixed=true"}catch(e){throw console.error("Sign out error:",e),"undefined"!=typeof document&&document.cookie.split(";").forEach(e=>{let[t]=e.split("=").map(e=>e.trim());(t.includes("CognitoIdentityServiceProvider")||t.includes("amplify")||t.includes("Token"))&&(document.cookie="".concat(t,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"))}),e}}static async getCurrentUser(){try{return await (0,eA.t)()}catch(e){return null}}static async waitForSession(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;for(let t=0;t<e;t++)try{return await (0,nQ.y)(),!0}catch(n){if(t===e-1)return!1;await new Promise(e=>setTimeout(e,1e3))}return!1}static async isAuthenticated(){let e=Date.now();return this.forceRefresh&&(this.forceRefresh=!1,this.lastSessionCheck=0,this.sessionCheckPromise=null),this.sessionCheckPromise&&e-this.lastSessionCheck<this.sessionCheckInterval||(this.sessionCheckPromise=(async()=>{try{var e;let t=await (0,nQ.y)(),n=!!(null===(e=t.tokens)||void 0===e?void 0:e.accessToken);return n?console.log("Valid authentication session found"):console.log("No valid authentication session"),n}catch(e){return console.error("Error checking authentication:",e),e instanceof Error&&e.message.includes("No current user"),!1}})(),this.lastSessionCheck=e),this.sessionCheckPromise}static async getUserAttributes(){try{return await nX()}catch(e){return null}}static async updateUserAttributes(e){try{return await n1({userAttributes:e}),{isSuccess:!0,message:"User attributes updated successfully."}}catch(e){return console.error("Update user attributes error:",e),{isSuccess:!1,message:e.message||"Failed to update user attributes."}}}static async completeNewPassword(e){try{let t=await n2({challengeResponse:e});return await this.waitForSession(),{isSuccess:t.isSignedIn,message:"Password set successfully."}}catch(e){return console.error("Complete new password error:",e),{isSuccess:!1,message:e.message||"Failed to set new password."}}}static async getIdToken(){try{var e,t;let n=await (0,nQ.y)();return(null===(t=n.tokens)||void 0===t?void 0:null===(e=t.idToken)||void 0===e?void 0:e.toString())||null}catch(e){return console.error("Error getting ID token:",e),null}}static async refreshAuthState(){this.forceRefresh=!0,this.lastSessionCheck=0,this.sessionCheckPromise=null;try{var e,t;let n=await (0,nQ.y)();console.log("Auth session refreshed successfully",{hasIdToken:!!(null===(e=n.tokens)||void 0===e?void 0:e.idToken),hasAccessToken:!!(null===(t=n.tokens)||void 0===t?void 0:t.accessToken),hasTokens:!!n.tokens})}catch(e){console.error("Error refreshing auth session:",e),window.document.cookie.split(";").forEach(e=>{let[t]=e.split("=").map(e=>e.trim());(t.includes("CognitoIdentityServiceProvider")||t.includes("amplify")||t.includes("Token"))&&(console.log("Clearing problematic cookie:",t),document.cookie="".concat(t,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"))})}}}n4.sessionCheckPromise=null,n4.lastSessionCheck=0,n4.sessionCheckInterval=3e4,n4.forceRefresh=!1},287:function(e,t,n){"use strict";function i(e){var t;if("undefined"==typeof document)return null;let n=null===(t=document.cookie.split("; ").find(t=>t.startsWith("".concat(e,"="))))||void 0===t?void 0:t.split("=")[1];return n?decodeURIComponent(n):null}function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("undefined"==typeof document)return;let{days:i=7,path:r="/",domain:o,secure:s=!0,sameSite:a="lax"}=n,u=new Date;u.setTime(u.getTime()+864e5*i);let c="".concat(e,"=").concat(encodeURIComponent(t),"; expires=").concat(u.toUTCString(),"; path=").concat(r);o&&(c+="; domain=".concat(o)),s&&(c+="; secure"),c+="; samesite=".concat(a),document.cookie=c}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof document)return;let{path:n="/",domain:i}=t,r="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=").concat(n);i&&(r+="; domain=".concat(i)),document.cookie=r}function s(){let e=window.location.hostname;if("localhost"!==e&&"127.0.0.1"!==e)return e.includes("amplifyapp.com"),e}function a(){if("undefined"==typeof document)return;let e=s();["amplify-signin-with-hostedUI","amplify-redirected-from-hosted-ui","amplify.auth.tokens","CognitoIdentityServiceProvider.*","amazon-cognito-advanced-security-data","aws.cognito.*","idToken","accessToken","refreshToken","auth_tokens","CognitoIdentityServiceProvider.*","Authorization"].forEach(t=>{t.includes("*")?document.cookie.split(";").forEach(n=>{let i=n.split("=")[0].trim();i.includes(t.replace("*",""))&&(o(i,{domain:e}),o(i))}):(o(t,{domain:e}),o(t))}),r("redirect_count","0",{days:1}),console.log("All authentication cookies cleared")}function u(){if("undefined"==typeof document)return;r("redirect_count","0",{days:1}),i("Authorization")&&o("Authorization");let e=window.location.hostname;console.log("Checking cookies state...");let t=!1;["amplify-signin-with-hostedUI","amplify-redirected-from-hosted-ui","idToken","accessToken","refreshToken"].forEach(n=>{i(n)&&(console.log("Found potentially problematic cookie: ".concat(n)),t=!0,o(n),o(n,{domain:e}))}),t&&(console.log("Performing thorough cookie cleanup"),a());{var n;let e=new URL(window.location.href);(e.searchParams.has("redirect_loop")||e.searchParams.has("error")&&(null===(n=e.searchParams.get("error"))||void 0===n?void 0:n.includes("redirect")))&&(a(),e.searchParams.delete("redirect_loop"),e.searchParams.delete("error"),window.history.replaceState({},"",e.toString()))}}function c(){let e=()=>{u(),(window.location.href.includes("ERR_TOO_MANY_REDIRECTS")||window.location.href.includes("error=redirect_loop"))&&(console.log("Detected redirect loop, clearing all authentication cookies"),a(),window.location.href=window.location.origin+"/admin/login?fixed=true"),window.location.href.includes("fixed=true")&&(console.log("Fixed parameter detected, clearing all authentication cookies again"),a())};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}n.d(t,{DZ:function(){return c},Wx:function(){return a},nT:function(){return u},yT:function(){return s}})},5545:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(5893),r=n(9008),o=n.n(r);n(876);var s=n(9985),a=n(7510),u=n(9556);{let e=(0,a.m)();u.V.configure(e)}function c(e){let{Component:t,pageProps:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:"Survey Link Wrapper"}),(0,i.jsx)("meta",{name:"description",content:"Wrapping third-party survey links with a validation layer"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsx)(s.H,{children:(0,i.jsx)(t,{...n})})]})}},876:function(){},9008:function(e,t,n){e.exports=n(3867)},4155:function(e){var t,n,i,r=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u=[],c=!1,l=-1;function d(){c&&i&&(c=!1,i.length?u=i.concat(u):l=-1,u.length&&p())}function p(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(i=u,u=[];++l<t;)i&&i[l].run();l=-1,t=u.length}i=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}},4686:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var i=n(5967);class r extends i._{constructor(e){super(e),this.constructor=r,Object.setPrototypeOf(this,r.prototype)}}},9509:function(e,t,n){"use strict";n.d(t,{EU:function(){return o},Jg:function(){return r},MA:function(){return a},VL:function(){return l},hj:function(){return p},mP:function(){return s},sX:function(){return h},vC:function(){return u},wW:function(){return d},x9:function(){return c}});var i=n(4686);let r="UserUnAuthenticatedException",o="UserAlreadyAuthenticatedException",s="DeviceMetadataNotFoundException",a="AutoSignInException",u=new i.l({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new i.l({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});let c=new i.l({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),l=new i.l({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),d="OAuthSignOutException",p="TokenRefreshException",h="UnexpectedSignInInterruptionException"},9559:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var i=n(4982),r=n(4686);function o(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new r.l({name:i.Z.Unknown,message:"An unknown error has occurred.",underlyingError:e})}},9874:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});let i="cognito-idp"},8196:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var i=n(7836),r=n(5434),o=n(4629),s=n(1847);let a={service:n(9874).t,retryDecider:(0,i.j)(r.f),computeDelay:o.k,userAgentValue:(0,s.Zm)(),cache:"no-store"}},6378:function(e,t,n){"use strict";n.d(t,{N:function(){return u}});var i=n(7099),r=n(4719),o=n(5059),s=n(5409),a=n(8196);let u=e=>(0,i.z)(s.x,(0,r.u)("InitiateAuth"),(0,o.o)(),{...a.n,...e})},5409:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var i=n(182),r=n(3484);let o=(0,i.V)(r.y,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}])},5059:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var i=n(5434),r=n(9559),o=n(4686);let s=()=>async e=>{if(e.statusCode>=300){let t=await (0,i.f)(e);throw(0,r.R)(t),new o.l({name:t.name,message:t.message,metadata:t.$metadata})}return(0,i.e)(e)}},4719:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});let i=e=>(t,n)=>o(n,r(e),JSON.stringify(t)),r=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),o=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"})},6605:function(e,t,n){"use strict";n.d(t,{N:function(){return o},y:function(){return r}});var i=n(4686);function r(e){let t=e?.split("_")[0];if(!e||0>e.indexOf("_")||!t||"string"!=typeof t)throw new i.l({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function o(e){if(!e||!e.includes(":"))throw new i.l({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}},6398:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var i=n(5165),r=n(3461),o=n(6566);let s=async e=>{let t=e.getConfig().Auth?.Cognito;(0,r.FG)(t);let n=await e.Auth.getTokens({forceRefresh:!1});(0,o.CA)(n);let{"cognito:username":i,sub:s}=n.idToken?.payload??{},a={username:i,userId:s},u=n?.signInDetails;return u&&(a.signInDetails=u),a},a=async()=>s(i.d)},3638:function(e,t,n){"use strict";n.d(t,{e:function(){return a}});var i=n(6743),r=n(8481),o=n(9874);let s=({region:e})=>({url:new i.a(`https://${o.t}.${e}.${(0,r.b)(e)}`)}),a=({endpointOverride:e})=>t=>e?{url:new i.a(e)}:s(t)},2684:function(e,t,n){"use strict";n.d(t,{sI:function(){return d},_X:function(){return h}});var i,r=n(3461),o=n(4686);let s={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var a=n(2199);(i||(i={})).InvalidAuthTokens="InvalidAuthTokens";let u={[i.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},c=(0,a.$)(u),l="CognitoIdentityServiceProvider";class d{getKeyValueStorage(){if(!this.keyValueStorage)throw new o.l({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{let e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new o.l({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let n=(0,r.xp)(t),i=await this.getKeyValueStorage().getItem(e.idToken),s=i?(0,r.xp)(i):void 0,a=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,u=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",c=Number.parseInt(u),l=await this.getKeyValueStorage().getItem(e.signInDetails),d={accessToken:n,idToken:s,refreshToken:a,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:c,username:await this.getLastAuthUser()};return l&&(d.signInDetails=JSON.parse(l)),d}catch(e){return null}}async storeTokens(e){c(void 0!==e,i.InvalidAuthTokens);let t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);let n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){let e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){let t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),i=await this.getKeyValueStorage().getItem(t.deviceGroupKey),r=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return r&&i&&n?{deviceKey:n,deviceGroupKey:i,randomPassword:r}:null}async clearDeviceMetadata(e){let t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){(0,r.FG)(this.authConfig?.Cognito);let t=e??await this.getLastAuthUser();return p(l,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){(0,r.FG)(this.authConfig?.Cognito);let e=this.authConfig.Cognito.userPoolClientId;return`${l}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){let{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){let{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}}let p=(e,t)=>h(s)(`${e}`,t);function h(e){let t=Object.values({...e});return(e,n)=>t.reduce((t,i)=>({...t,[i]:`${e}.${n}.${i}`}),{})}},8714:function(e,t,n){"use strict";let i;n.d(t,{D:function(){return C},C:function(){return R}});var r,o=n(4685),s=n(3461),a=n(6605),u=n(6566),c=n(4686),l=n(6378),d=n(3638),p=n(2562);let h=(r=async({tokens:e,authConfig:t,username:n})=>{(0,s.FG)(t?.Cognito);let{userPoolId:i,userPoolClientId:r,userPoolEndpoint:o}=t.Cognito,h=(0,a.y)(i);(0,u.XD)(e);let f=e.refreshToken,g={REFRESH_TOKEN:f};e.deviceMetadata?.deviceKey&&(g.DEVICE_KEY=e.deviceMetadata.deviceKey);let y=(0,p.u)({username:n,userPoolId:i,userPoolClientId:r}),m=(0,l.N)({endpointResolver:(0,d.e)({endpointOverride:o})}),{AuthenticationResult:E}=await m({region:h},{ClientId:r,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:g,UserContextData:y}),S=(0,s.xp)(E?.AccessToken??""),I=E?.IdToken?(0,s.xp)(E.IdToken):void 0,{iat:v}=S.payload;if(!v)throw new c.l({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:S,idToken:I,clockDrift:1e3*v-new Date().getTime(),refreshToken:f,username:n}},async(...e)=>i||(i=new Promise((t,n)=>{r(...e).then(e=>{t(e)}).catch(e=>{n(e)}).finally(()=>{i=void 0})})));var f=n(2684),g=n(305),y=n(2459);function m({expiresAt:e,clockDrift:t,tolerance:n=5e3}){return Date.now()+t+n>e}var E=n(4982),S=n(9559);let I=new(n(4574)).R(o.Fm),v=[],w=e=>{v.push(e)};class A{constructor(){this.waitForInflightOAuth=(0,y.j)()?async()=>await I.loadOAuthInFlight()?(this.inflightPromise||(this.inflightPromise=new Promise((e,t)=>{w(e)})),this.inflightPromise):void 0:async()=>{}}setAuthConfig(e){I.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new c.l({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new c.l({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let t;try{(0,s.FG)(this.authConfig?.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();let n=await this.getTokenStore().getLastAuthUser();if(null===t)return null;let i=!!t?.idToken&&m({expiresAt:(t.idToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0}),r=m({expiresAt:(t.accessToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0});return(e?.forceRefresh||i||r)&&null===(t=await this.refreshTokens({tokens:t,username:n}))?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t}){try{let{signInDetails:n}=e,i=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t});return i.signInDetails=n,await this.setTokens({tokens:i}),g.Xb.dispatch("auth",{event:"tokenRefresh"},"Auth",g.SQ),i}catch(e){return this.handleErrors(e)}}handleErrors(e){if((0,S.R)(e),e.name!==E.Z.NetworkError&&this.clearTokens(),g.Xb.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",g.SQ),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class x{constructor(){this.authTokenStore=new f.sI,this.authTokenStore.setKeyValueStorage(o.Fm),this.tokenOrchestrator=new A,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(h)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}}let C=new x,{tokenOrchestrator:R}=C},4574:function(e,t,n){"use strict";n.d(t,{R:function(){return u}});var i=n(3461),r=n(2684),o=n(6566);let s="amplify-signin-with-hostedUI",a="CognitoIdentityServiceProvider";class u{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){(0,i.FG)(this.cognitoConfig);let e=c(a,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){(0,i.FG)(this.cognitoConfig);let e=c(a,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(s),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){(0,i.FG)(this.cognitoConfig);let e=c(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){(0,i.FG)(this.cognitoConfig);let t=c(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){(0,i.FG)(this.cognitoConfig);let e=c(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){(0,i.FG)(this.cognitoConfig);let t=c(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){(0,i.FG)(this.cognitoConfig);let e=c(a,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){(0,i.FG)(this.cognitoConfig);let t=c(a,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){(0,i.FG)(this.cognitoConfig);let e=c(a,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(s),[n,r]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===t,preferPrivateSession:"true"===r}}async storeOAuthSignIn(e,t=!1){(0,i.FG)(this.cognitoConfig);let n=c(a,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}}let c=(e,t)=>(0,r._X)(o.Bx)(e,t)},6566:function(e,t,n){"use strict";n.d(t,{Bx:function(){return d},CA:function(){return o},Cg:function(){return s},XD:function(){return c},tr:function(){return l}});var i=n(4686),r=n(9509);function o(e){if(!e||!e.accessToken)throw new i.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function s(e){if(!e||!e.idToken)throw new i.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}let a=new i.l({name:r.hj,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),u=new i.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function c(e){if(p(e)&&!e?.refreshToken)throw a;if(!(p(e)&&e?.refreshToken))throw u}function l(e){if(!e||!e.deviceKey||!e.deviceGroupKey||!e.randomPassword)throw new i.l({name:r.mP,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}let d={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function p(e){return e?.accessToken||e?.idToken}},2562:function(e,t,n){"use strict";function i({username:e,userPoolId:t,userPoolClientId:n}){if("undefined"==typeof window)return;let i=window.AmazonCognitoAdvancedSecurityData;if(void 0===i)return;let r=i.getData(e,t,n);return r?{EncodedData:r}:{}}n.d(t,{u:function(){return i}})},305:function(e,t,n){"use strict";n.d(t,{SQ:function(){return s},Xb:function(){return c},qC:function(){return l}});var i=n(6344),r=n(8159),o=n(5967);let s="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",a=new i.k("Hub");class u{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){let n=this.listeners.get(e);if(!n){a.warn(`No listeners for ${e}`);return}this.listeners.set(e,[...n.filter(({callback:e})=>e!==t)])}dispatch(e,t,n,i){"string"==typeof e&&this.protectedChannels.indexOf(e)>-1&&i!==s&&a.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`);let r={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(r)}catch(e){a.error(e)}}listen(e,t,n="noname"){if("function"!=typeof t)throw new o._({name:r.z2,message:"No callback supplied to Hub"});let i=this.listeners.get(e);return i||(i=[],this.listeners.set(e,i)),i.push({name:n,callback:t}),()=>{this._remove(e,t)}}_toListeners(e){let{channel:t,payload:n}=e,i=this.listeners.get(t);i&&i.forEach(i=>{a.debug(`Dispatching to ${t} with `,n);try{i.callback(e)}catch(e){a.error(e)}})}}let c=new u("__default__"),l=new u("internal-hub")},6344:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var i,r,o=n(8159);(i=r||(r={})).DEBUG="DEBUG",i.ERROR="ERROR",i.INFO="INFO",i.WARN="WARN",i.VERBOSE="VERBOSE",i.NONE="NONE";let s={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class a{constructor(e,t=r.WARN){this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){let e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e&&(this._config=e),this._config}_log(e,...t){let n=this.level;a.LOG_LEVEL&&(n=a.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(n=window.LOG_LEVEL);let i=s[n];if(!(s[e]>=i))return;let o=console.log.bind(console);e===r.ERROR&&console.error&&(o=console.error.bind(console)),e===r.WARN&&console.warn&&(o=console.warn.bind(console)),a.BIND_ALL_LOG_LEVELS&&(e===r.INFO&&console.info&&(o=console.info.bind(console)),e===r.DEBUG&&console.debug&&(o=console.debug.bind(console)));let u=`[${e}] ${this._ts()} ${this.name}`,c="";if(1===t.length&&"string"==typeof t[0])o(c=`${u} - ${t[0]}`);else if(1===t.length)c=`${u} ${t[0]}`,o(u,t[0]);else if("string"==typeof t[0]){let e=t.slice(1);1===e.length&&(e=e[0]),c=`${u} - ${t[0]} ${e}`,o(`${u} - ${t[0]}`,e)}else c=`${u} ${t}`,o(u,t);for(let e of this._pluggables){let t={message:c,timestamp:Date.now()};e.pushLogs([t])}}log(...e){this._log(r.INFO,...e)}info(...e){this._log(r.INFO,...e)}warn(...e){this._log(r.WARN,...e)}error(...e){this._log(r.ERROR,...e)}debug(...e){this._log(r.DEBUG,...e)}verbose(...e){this._log(r.VERBOSE,...e)}addPluggable(e){e&&e.getCategoryName()===o.YG&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}a.LOG_LEVEL=null,a.BIND_ALL_LOG_LEVELS=!1},7977:function(e,t,n){"use strict";let i;n.d(t,{Cj:function(){return m},QW:function(){return E}});var r=n(5),o=n(4155);let s=()=>"undefined"!=typeof global,a=()=>"undefined"!=typeof window,u=()=>"undefined"!=typeof document,c=()=>void 0!==o,l=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t));var d=n(4155),p=n(4155),h=n(4155);let f=[{platform:r.gQ.Expo,detectionMethod:function(){return s()&&void 0!==global.expo}},{platform:r.gQ.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:r.gQ.NextJs,detectionMethod:function(){return a()&&window.next&&"object"==typeof window.next}},{platform:r.gQ.Nuxt,detectionMethod:function(){return a()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:r.gQ.Angular,detectionMethod:function(){let e=!!(u()&&document.querySelector("[ng-version]")),t=!!(a()&&void 0!==window.ng);return e||t}},{platform:r.gQ.React,detectionMethod:function(){let e=e=>e.startsWith("_react")||e.startsWith("__react");return u()&&Array.from(document.querySelectorAll("[id]")).some(t=>Object.keys(t).find(e))}},{platform:r.gQ.VueJs,detectionMethod:function(){return a()&&l(window,"__VUE")}},{platform:r.gQ.Svelte,detectionMethod:function(){return a()&&l(window,"__SVELTE")}},{platform:r.gQ.WebUnknown,detectionMethod:function(){return a()}},{platform:r.gQ.NextJsSSR,detectionMethod:function(){return s()&&(l(global,"__next")||l(global,"__NEXT"))}},{platform:r.gQ.NuxtSSR,detectionMethod:function(){return s()&&void 0!==global.__NUXT_PATHS__}},{platform:r.gQ.ReactSSR,detectionMethod:function(){return c()&&void 0!==d.env&&!!Object.keys(d.env).find(e=>e.includes("react"))}},{platform:r.gQ.VueJsSSR,detectionMethod:function(){return s()&&l(global,"__VUE")}},{platform:r.gQ.AngularSSR,detectionMethod:function(){return c()&&"object"==typeof h.env&&h.env.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:r.gQ.SvelteSSR,detectionMethod:function(){return c()&&void 0!==p.env&&!!Object.keys(p.env).find(e=>e.includes("svelte"))}}],g=[],y=!1,m=()=>{if(!i){if(i=f.find(e=>e.detectionMethod())?.platform||r.gQ.ServerSideUnknown,y)for(;g.length;)g.pop()?.();else g.forEach(e=>{e()});S(r.gQ.ServerSideUnknown,10),S(r.gQ.WebUnknown,10)}return i},E=e=>{y||g.push(e)};function S(e,t){i!==e||y||setTimeout(()=>{i=void 0,y=!0,setTimeout(m,1e3)},t)}},1847:function(e,t,n){"use strict";n.d(t,{Zm:function(){return p}});var i=n(5);let r="6.14.4";var o=n(7977);let s={},a=(e,t)=>s[e]?.[t]?.additionalDetails,u="aws-amplify",c=e=>e.replace(/\+.*/,"");class l{constructor(){this.userAgent=`${u}/${c(r)}`}get framework(){return(0,o.Cj)()}get isReactNative(){return this.framework===i.gQ.ReactNative||this.framework===i.gQ.Expo}observeFrameworkChanges(e){(0,o.QW)(e)}}new l;let d=({category:e,action:t}={})=>{let n=[[u,c(r)]];if(e&&n.push([e,t]),n.push(["framework",(0,o.Cj)()]),e&&t){let i=a(e,t);i&&i.forEach(e=>{n.push(e)})}return n},p=e=>d(e).map(([e,t])=>e&&t?`${e}/${t}`:e).join(" ")},5:function(e,t,n){"use strict";var i,r,o,s,a,u,c,l,d,p,h,f,g,y,m,E,S,I,v,w,A,x,C,R,T,P;n.d(t,{WD:function(){return r},g4:function(){return u},gQ:function(){return i},gq:function(){return a}}),(m=i||(i={})).WebUnknown="0",m.React="1",m.NextJs="2",m.Angular="3",m.VueJs="4",m.Nuxt="5",m.Svelte="6",m.ServerSideUnknown="100",m.ReactSSR="101",m.NextJsSSR="102",m.AngularSSR="103",m.VueJsSSR="104",m.NuxtSSR="105",m.SvelteSSR="106",m.ReactNative="201",m.Expo="202",(E=r||(r={})).AI="ai",E.API="api",E.Auth="auth",E.Analytics="analytics",E.DataStore="datastore",E.Geo="geo",E.InAppMessaging="inappmessaging",E.Interactions="interactions",E.Predictions="predictions",E.PubSub="pubsub",E.PushNotification="pushnotification",E.Storage="storage",(S=o||(o={})).CreateConversation="1",S.GetConversation="2",S.ListConversations="3",S.DeleteConversation="4",S.SendMessage="5",S.ListMessages="6",S.OnMessage="7",S.Generation="8",S.UpdateConversation="9",(I=s||(s={})).Record="1",I.IdentifyUser="2",(v=a||(a={})).GraphQl="1",v.Get="2",v.Post="3",v.Put="4",v.Patch="5",v.Del="6",v.Head="7",(w=u||(u={})).SignUp="1",w.ConfirmSignUp="2",w.ResendSignUpCode="3",w.SignIn="4",w.FetchMFAPreference="6",w.UpdateMFAPreference="7",w.SetUpTOTP="10",w.VerifyTOTPSetup="11",w.ConfirmSignIn="12",w.DeleteUserAttributes="15",w.DeleteUser="16",w.UpdateUserAttributes="17",w.FetchUserAttributes="18",w.ConfirmUserAttribute="22",w.SignOut="26",w.UpdatePassword="27",w.ResetPassword="28",w.ConfirmResetPassword="29",w.FederatedSignIn="30",w.RememberDevice="32",w.ForgetDevice="33",w.FetchDevices="34",w.SendUserAttributeVerificationCode="35",w.SignInWithRedirect="36",w.StartWebAuthnRegistration="37",w.CompleteWebAuthnRegistration="38",w.ListWebAuthnCredentials="39",w.DeleteWebAuthnCredential="40",(A=c||(c={})).Subscribe="1",A.GraphQl="2",(x=l||(l={})).SearchByText="0",x.SearchByCoordinates="1",x.SearchForSuggestions="2",x.SearchByPlaceId="3",x.SaveGeofences="4",x.GetGeofence="5",x.ListGeofences="6",x.DeleteGeofences="7",(C=d||(d={})).SyncMessages="1",C.IdentifyUser="2",C.NotifyMessageInteraction="3",(p||(p={})).None="0",(R=h||(h={})).Convert="1",R.Identify="2",R.Interpret="3",(f||(f={})).Subscribe="1",(T=g||(g={})).InitializePushNotifications="1",T.IdentifyUser="2",(P=y||(y={})).UploadData="1",P.DownloadData="2",P.List="3",P.Copy="4",P.Remove="5",P.GetProperties="6",P.GetUrl="7",P.GetDataAccess="8",P.ListCallerAccessGrants="9"},8481:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});let i={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},r={partitions:[i,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},o=e=>{let{partitions:t}=r;for(let{regions:n,outputs:i,regionRegex:r}of t){let t=new RegExp(r);if(n.includes(e)||t.test(e))return i.dnsSuffix}return i.outputs.dnsSuffix}},3484:function(e,t,n){"use strict";n.d(t,{y:function(){return c}});var i=n(1693),r=n(8726);n(5169),n(6361);var o=n(5194),s=n(9265),a=n(182),u=n(525);let c=(0,a.V)(u.S,[s.n,()=>e=>async function(t){return t.headers[o.vt]||(t.headers[o.vt]=(0,r.r)()),e(t)},i.d,({maxAttempts:e=o.tZ})=>(t,n)=>async function(i){let r=n.attemptsCount??0;return i.headers[o.zG]=`attempt=${r+1}; max=${e}`,t(i)}])},525:function(e,t,n){"use strict";n.d(t,{S:function(){return a}});var i=n(5967),r=n(4982);let o=e=>{let t;return()=>(t||(t=e()),t)},s=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),a=async({url:e,method:t,headers:n,body:a},{abortSignal:u,cache:c,withCrossDomainCredentials:l})=>{let d;try{d=await fetch(e,{method:t,headers:n,body:s(t)?a:void 0,signal:u,cache:c,credentials:l?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw new i._({name:r.Z.NetworkError,message:"A network error has occurred.",underlyingError:e});throw e}let p={};d.headers?.forEach((e,t)=>{p[t.toLowerCase()]=e});let h={statusCode:d.status,headers:p,body:null},f=Object.assign(d.body??{},{text:o(()=>d.text()),blob:o(()=>d.blob()),json:o(()=>d.json())});return{...h,body:f}}},7099:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});let i=(e,t,n,i)=>async(r,o)=>{let s={...i,...r},a=await s.endpointResolver(s,o),u=await t(o,a);return n(await e(u,{...s}))}},182:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});let i=(e,t)=>(n,i)=>{let r={},o=t=>e(t,i);for(let e=t.length-1;e>=0;e--)o=(0,t[e])(i)(o,r);return o(n)}},5194:function(e,t,n){"use strict";n.d(t,{tZ:function(){return i},vt:function(){return r},yx:function(){return s},zG:function(){return o}});let i=3,r="amz-sdk-invocation-id",o="amz-sdk-request",s=3e5},7836:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var i=n(4982);let r=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],o=e=>!!e&&r.includes(e),s=e=>async(t,n)=>{let i=n??await e(t)??void 0,r=i?.code||i?.name,s=t?.statusCode;return{retryable:l(n)||c(s,r)||o(r)||d(s,r)}},a=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],u=["TimeoutError","RequestTimeout","RequestTimeoutException"],c=(e,t)=>429===e||!!t&&a.includes(t),l=e=>[i.Z.NetworkError,"ERR_NETWORK"].includes(e?.name),d=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&u.includes(t)},4629:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var i=n(8161),r=n(5194);let o=e=>{let t=(0,i.k)(r.yx)(e);return!1===t?r.yx:t}},1693:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var i=n(5194);let r=({maxAttempts:e=i.tZ,retryDecider:t,computeDelay:n,abortSignal:r})=>{if(e<1)throw Error("maxAttempts must be greater than 0");return(i,a)=>async function(u){let c,l;let d=a.attemptsCount??0,p=()=>{if(l)return s(l,d),l;throw s(c,d),c};for(;!r?.aborted&&d<e;){try{l=await i(u),c=void 0}catch(e){c=e,l=void 0}d=(a.attemptsCount??0)>d?a.attemptsCount??0:d+1,a.attemptsCount=d;let{isCredentialsExpiredError:s,retryable:h}=await t(l,c,a);if(!h)return p();if(a.isCredentialsExpired=!!s,!r?.aborted&&d<e){let e=n(d);await o(e,r)}}if(!r?.aborted)return p();throw Error("Request aborted.")}},o=(e,t)=>{let n,i;if(t?.aborted)return Promise.resolve();let r=new Promise(t=>{i=t,n=setTimeout(t,e)});return t?.addEventListener("abort",function e(r){clearTimeout(n),t?.removeEventListener("abort",e),i()}),r},s=(e,t)=>{"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...e.$metadata??{},attempts:t})}},9265:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});let i=({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(i){if(0===t.trim().length)return await n(i);{let r=e.toLowerCase();return i.headers[r]=i.headers[r]?`${i.headers[r]} ${t}`:t,await n(i)}}},5434:function(e,t,n){"use strict";n.d(t,{e:function(){return o},f:function(){return r}});var i=n(9300);let r=async e=>{if(!e||e.statusCode<300)return;let t=await o(e),n=(e=>{let[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError");return Object.assign(Error(t.message??t.Message??"Unknown error"),{name:n,$metadata:(0,i.B)(e)})},o=async e=>{if(!e.body)throw Error("Missing response payload");return Object.assign(await e.body.json(),{$metadata:(0,i.B)(e)})}},9300:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});let i=e=>{let{headers:t,statusCode:n}=e;return{...r(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},r=e=>"object"==typeof e?.$metadata},8159:function(e,t,n){"use strict";n.d(t,{Mt:function(){return r},YG:function(){return i},z2:function(){return o}});let i="Logging",r="x-amz-user-agent",o="NoHubcallbackProvidedException"},5967:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});class i extends Error{constructor({message:e,name:t,recoverySuggestion:n,underlyingError:r,metadata:o}){if(super(e),this.name=t,this.underlyingError=r,this.recoverySuggestion=n,o){let{extendedRequestId:e,httpStatusCode:t,requestId:n}=o;this.metadata={extendedRequestId:e,httpStatusCode:t,requestId:n}}this.constructor=i,Object.setPrototypeOf(this,i.prototype)}}},2199:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var i=n(5967);let r=(e,t=i._)=>(n,i,r)=>{let{message:o,recoverySuggestion:s}=e[i];if(!n)throw new t({name:i,message:r?`${o} ${r}`:o,recoverySuggestion:s})}},5165:function(e,t,n){"use strict";n.d(t,{d:function(){return c}});var i=n(305);let r=e=>{for(let t of Reflect.ownKeys(e)){let n=e[t];(n&&"object"==typeof n||"function"==typeof n)&&r(n)}return Object.freeze(e)},o=Symbol("oauth-listener");var s=n(2640);n(5169),n(6361);class a{configure(e,t){this.authConfig=e,this.authOptions=t}async fetchAuthSession(e={}){let t,n;let i=await this.getTokens(e);return i?(n=i.accessToken?.payload?.sub,t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:i,authenticated:!0,forceRefresh:e.forceRefresh})):t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh}),{tokens:i,credentials:t?.credentials,identityId:t?.identityId,userSub:n}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(e){return await this.authOptions?.tokenProvider?.getTokens(e)??void 0}}class u{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new a}configure(e,t){let n=(0,s.h)(e);this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=r(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),i.Xb.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",i.SQ),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[o](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}}let c=new u},3461:function(e,t,n){"use strict";n.d(t,{YE:function(){return d},V0:function(){return l},FG:function(){return c},xp:function(){return p}});var i,r,o=n(905),s=n(2199);(i=r||(r={})).AuthTokenConfigException="AuthTokenConfigException",i.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",i.AuthUserPoolException="AuthUserPoolException",i.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",i.OAuthNotConfigureException="OAuthNotConfigureException";let a={[r.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[r.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[r.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[r.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[r.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},u=(0,s.$)(a);function c(e){u(!!e&&!!e.userPoolId&&!!e.userPoolClientId,r.AuthUserPoolException)}function l(e){u(!!e?.loginWith?.oauth?.domain&&!!e?.loginWith?.oauth?.redirectSignOut&&!!e?.loginWith?.oauth?.redirectSignIn&&!!e?.loginWith?.oauth?.responseType,r.OAuthNotConfigureException)}function d(e){u(!!e?.identityPoolId,r.InvalidIdentityPoolIdException)}function p(e){let t=e.split(".");if(3!==t.length)throw Error("Invalid token");try{let n=t[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(o.$.convert(n).split("").map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),r=JSON.parse(i);return{toString:()=>e,payload:r}}catch(e){throw Error("Invalid token payload")}}},9319:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var i=n(5165),r=n(695);let o=e=>(0,r.y)(i.d,e)},695:function(e,t,n){"use strict";n.d(t,{y:function(){return i}});let i=(e,t)=>e.Auth.fetchAuthSession(t)},4685:function(e,t,n){"use strict";n.d(t,{Fm:function(){return y},$2:function(){return m}});var i=n(4982),r=n(5967);class o extends r._{constructor(){super({name:i.Z.PlatformNotSupported,message:"Function not supported on current platform"})}}class s{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new o;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new o;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new o;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new o;this.storage.clear()}}var a=n(6344);class u{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}let c=new a.k("CoreStorageUtils"),l=()=>{try{if("undefined"!=typeof window&&window.localStorage)return window.localStorage}catch(e){c.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new u},d=()=>{try{if("undefined"!=typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw Error("sessionStorage is not defined")}catch(e){return c.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new u}};class p extends s{constructor(){super(l())}}class h extends s{constructor(){super(d())}}class f{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new o;return this._storage}setItem(e,t){this.storage.setItem(e,t)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}}class g extends f{constructor(){super(d())}}let y=new p;new h;let m=new g;new s(new u)},4982:function(e,t,n){"use strict";var i,r;n.d(t,{Z:function(){return i}}),(r=i||(i={})).NoEndpointId="NoEndpointId",r.PlatformNotSupported="PlatformNotSupported",r.Unknown="Unknown",r.NetworkError="NetworkError"},6743:function(e,t,n){"use strict";n.d(t,{a:function(){return i},z:function(){return r}});let i=URL,r=URLSearchParams},8726:function(e,t,n){"use strict";let i;n.d(t,{r:function(){return a}});var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o=new Uint8Array(16),s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));let a=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();let a=(e=e||{}).random||(e.rng||function(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return function(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}(a)}},905:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var i=n(4477);let r={convert(e,t){let n=e;return t?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),(0,i.tl)()(n)}}},1698:function(e,t,n){"use strict";n.d(t,{u:function(){return r}});var i=n(4477);let r={convert(e,t={urlSafe:!1,skipPadding:!1}){let n="string"==typeof e?e:Array.from(e,e=>String.fromCodePoint(e)).join(""),r=(0,i.Ds)()(n);return t.urlSafe&&(r=r.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(r=r.replace(/=/g,"")),r}}},4477:function(e,t,n){"use strict";n.d(t,{Ds:function(){return o},MX:function(){return r},tl:function(){return s}});var i=n(5967);let r=()=>{if("object"==typeof window&&"object"==typeof window.crypto)return window.crypto;if("object"==typeof crypto)return crypto;throw new i._({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},o=()=>{if("undefined"!=typeof window&&"function"==typeof window.btoa)return window.btoa;if("function"==typeof btoa)return btoa;throw new i._({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},s=()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new i._({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})}},2459:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});let i=()=>"undefined"!=typeof window&&void 0!==window.document},2640:function(e,t,n){"use strict";n.d(t,{h:function(){return h}});var i=n(6344),r=n(5967);let o=new i.k("parseAWSExports"),s={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},a=(e={})=>{if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new r._({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:i,aws_appsync_region:a,aws_bots_config:u,aws_cognito_identity_pool_id:d,aws_cognito_sign_up_verification_method:p,aws_cognito_mfa_configuration:h,aws_cognito_mfa_types:f,aws_cognito_password_protection_settings:g,aws_cognito_verification_mechanisms:y,aws_cognito_signup_attributes:m,aws_cognito_social_providers:E,aws_cognito_username_attributes:S,aws_mandatory_sign_in:I,aws_mobile_analytics_app_id:v,aws_mobile_analytics_app_region:w,aws_user_files_s3_bucket:A,aws_user_files_s3_bucket_region:x,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:C,aws_user_pools_id:R,aws_user_pools_web_client_id:T,geo:P,oauth:b,predictions:N,aws_cloud_logic_custom:U,Notifications:_,modelIntrospection:O}=e,k={};v&&(k.Analytics={Pinpoint:{appId:v,region:w}});let{InAppMessaging:M,Push:D}=_??{};if(M?.AWSPinpoint||D?.AWSPinpoint){if(M?.AWSPinpoint){let{appId:e,region:t}=M.AWSPinpoint;k.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(D?.AWSPinpoint){let{appId:e,region:t}=D.AWSPinpoint;k.Notifications={...k.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(u)&&(k.Interactions={LexV1:Object.fromEntries(u.map(e=>[e.name,e]))}),i){let e=s[n];e||o.debug(`Invalid authentication type ${n}. Falling back to IAM.`),k.API={GraphQL:{endpoint:i,apiKey:t,region:a,defaultAuthMode:e??"iam"}},O&&(k.API.GraphQL.modelIntrospection=O)}let F=h?{status:h&&h.toLowerCase(),totpEnabled:f?.includes("TOTP")??!1,smsEnabled:f?.includes("SMS")??!1}:void 0,L=g?{minLength:g.passwordPolicyMinLength,requireLowercase:g.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:g.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:g.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:g.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,q=Array.from(new Set([...y??[],...m??[]])).reduce((e,t)=>({...e,[t.toLowerCase()]:{required:!0}}),{}),V=S?.includes("EMAIL")??!1,B=S?.includes("PHONE_NUMBER")??!1;(d||R)&&(k.Auth={Cognito:{identityPoolId:d,allowGuestAccess:"enable"!==I,signUpVerificationMethod:p,userAttributes:q,userPoolClientId:T,userPoolId:R,mfa:F,passwordFormat:L,loginWith:{username:!(V||B),email:V,phone:B}}});let K=!!b&&Object.keys(b).length>0,W=!!E&&E.length>0;if(k.Auth&&K&&(k.Auth.Cognito.loginWith={...k.Auth.Cognito.loginWith,oauth:{...c(b),...W&&{providers:l(E)}}}),A&&(k.Storage={S3:{bucket:A,region:x,dangerouslyConnectToHttpEndpointForTesting:C}}),P){let{amazon_location_service:e}=P;k.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(U&&(k.API={...k.API,REST:U.reduce((e,t)=>{let{name:n,endpoint:i,region:r,service:o}=t;return{...e,[n]:{endpoint:i,...o?{service:o}:void 0,...r?{region:r}:void 0}}},{})}),N){let{VoiceId:e}=N?.convert?.speechGenerator?.defaults??{};k.Predictions=e?{...N,convert:{...N.convert,speechGenerator:{...N.convert.speechGenerator,defaults:{voiceId:e}}}}:N}return k},u=e=>e?.split(",")??[],c=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:i,responseType:r})=>({domain:e,scopes:t,redirectSignIn:u(n),redirectSignOut:u(i),responseType:r}),l=e=>e.map(e=>{let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}),d={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"},p={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"},h=e=>Object.keys(e).some(e=>e.startsWith("aws_"))?a(e):!function(e){let{version:t}=e;return!!t&&t.startsWith("1")}(e)?e:function(e){let t={};if(e.storage&&(t.Storage=function(e){if(!e)return;let{bucket_name:t,aws_region:n,buckets:i}=e;return{S3:{bucket:t,region:n,buckets:i&&function(e){let t={};return e.forEach(({name:e,bucket_name:n,aws_region:i,paths:r})=>{if(e in t)throw Error(`Duplicate friendly name found: ${e}. Name must be unique.`);let o=r?Object.entries(r).reduce((e,[t,n])=>(void 0!==n&&(e[t]=n),e),{}):void 0;t[e]={bucketName:n,region:i,paths:o}}),t}(i)}}}(e.storage)),e.auth&&(t.Auth=function(e){if(!e)return;let{user_pool_id:t,user_pool_client_id:n,identity_pool_id:i,password_policy:r,mfa_configuration:o,mfa_methods:s,unauthenticated_identities_enabled:a,oauth:u,username_attributes:c,standard_required_attributes:l,groups:d}=e,h={Cognito:{userPoolId:t,userPoolClientId:n,groups:d}};return i&&(h.Cognito={...h.Cognito,identityPoolId:i}),r&&(h.Cognito.passwordFormat={requireLowercase:r.require_lowercase,requireNumbers:r.require_numbers,requireUppercase:r.require_uppercase,requireSpecialCharacters:r.require_symbols,minLength:r.min_length??6}),o&&(h.Cognito.mfa={status:"OPTIONAL"===o?"optional":"REQUIRED"===o?"on":"off",smsEnabled:s?.includes("SMS"),totpEnabled:s?.includes("TOTP")}),a&&(h.Cognito.allowGuestAccess=a),u&&(h.Cognito.loginWith={oauth:{domain:u.domain,redirectSignIn:u.redirect_sign_in_uri,redirectSignOut:u.redirect_sign_out_uri,responseType:"token"===u.response_type?"token":"code",scopes:u.scopes,providers:function(e=[]){return e.reduce((e,t)=>(void 0!==p[t]&&e.push(p[t]),e),[])}(u.identity_providers)}}),c&&(h.Cognito.loginWith={...h.Cognito.loginWith,email:c.includes("email"),phone:c.includes("phone_number"),username:c.includes("username")}),l&&(h.Cognito.userAttributes=l.reduce((e,t)=>({...e,[t]:{required:!0}}),{})),h}(e.auth)),e.analytics&&(t.Analytics=function(e){if(!e?.amazon_pinpoint)return;let{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;let{aws_region:t,geofence_collections:n,maps:i,search_indices:r}=e;return{LocationService:{region:t,searchIndices:r,geofenceCollections:n,maps:i}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;let{aws_region:t,default_authorization_type:n,url:i,api_key:r,model_introspection:o}=e;return{GraphQL:{endpoint:i,defaultAuthMode:d[n],region:t,apiKey:r,modelIntrospection:o}}}(e.data)),e.custom){let n=function(e){if(!e?.events)return;let{url:t,aws_region:n,api_key:i,default_authorization_type:r}=e.events;return{Events:{endpoint:t,defaultAuthMode:d[r],region:n,apiKey:i}}}(e.custom);n&&"Events"in n&&(t.API={...t.API,...n})}return e.notifications&&(t.Notifications=function(e){if(!e)return;let{aws_region:t,channels:n,amazon_pinpoint_app_id:i}=e,r=n.includes("IN_APP_MESSAGING"),o=n.includes("APNS")||n.includes("FCM");if(!(r||o))return;let s={};return r&&(s.InAppMessaging={Pinpoint:{appId:i,region:t}}),o&&(s.PushNotification={Pinpoint:{appId:i,region:t}}),s}(e.notifications)),t}(e)},7961:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});let i=3e5},8161:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var i=n(7961);function r(e=i.t){return t=>{let n=2**t*100+100*Math.random();return!(n>e)&&n}}},9556:function(e,t,n){"use strict";function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}n.d(t,{V:function(){return z}});var r=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=i({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+s}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},r=0;r<n.length;r++){var o=n[r].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(i[a]=t.read(s,a),e===a)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){r(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class o{constructor(e={}){let{path:t,domain:n,expires:i,sameSite:r,secure:o}=e;if(this.domain=n,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?i:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||o,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!r||!["strict","lax","none"].includes(r))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===r&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=r}}async setItem(e,t){r.set(e,t,this.getData())}async getItem(e){return r.get(e)??null}async removeItem(e){r.remove(e,this.getData())}async clear(){let e=Object.keys(r.get()).map(e=>this.removeItem(e));await Promise.all(e)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}var s=n(4685),a=n(5165),u=n(2640),c=n(6344);n(5169),n(6361);var l=n(9300),d=n(5434),p=n(7099),h=n(8481),f=n(3484),g=n(4629),y=n(7836),m=n(6743),E=n(1847),S=n(182),I=n(7977);let v=(0,S.V)(f.y,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),w={service:"cognito-identity",endpointResolver:({region:e})=>({url:new m.a(`https://cognito-identity.${e}.${(0,h.b)(e)}`)}),retryDecider:(0,y.j)(d.f),computeDelay:g.k,userAgentValue:(0,E.Zm)(),cache:"no-store"};(0,I.QW)(()=>{w.userAgentValue=(0,E.Zm)()});let A=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),x=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),C=async e=>{if(e.statusCode>=300)throw await (0,d.f)(e);{let t=await (0,d.e)(e);return{IdentityId:t.IdentityId,Credentials:R(t.Credentials),$metadata:(0,l.B)(e)}}},R=({AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:i}={})=>({AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:i&&new Date(1e3*i)}),T=(0,p.z)(v,(e,t)=>x(t,A("GetCredentialsForIdentity"),JSON.stringify(e)),C,w);var P=n(3461),b=n(4686),N=n(9559),U=n(6605),_=n(6566);let O=async e=>{if(!(e.statusCode>=300))return{IdentityId:(await (0,d.e)(e)).IdentityId,$metadata:(0,l.B)(e)};throw await (0,d.f)(e)},k=(0,p.z)(v,(e,t)=>x(t,A("GetId"),JSON.stringify(e)),O,w);function M(e){let t=(0,P.xp)(e).payload.iss,n={};if(!t)throw new b.l({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[t.replace(/(^\w+:|^)\/\//,"")]=e,n}async function D({tokens:e,authConfig:t,identityIdStore:n}){n.setAuthConfig({Cognito:t});let i=await n.loadIdentityId();if(i)return i.id;let r=e?.idToken?M(e.idToken.toString()):{},o=await F(r,t);return n.storeIdentityId({id:o,type:e?"primary":"guest"}),o}async function F(e,t){let n;let i=t?.identityPoolId,r=(0,U.N)(i);try{n=(await k({region:r},{IdentityPoolId:i,Logins:e})).IdentityId}catch(e){throw(0,N.R)(e),new b.l(e)}if(!n)throw new b.l({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return n}let L=new c.k("CognitoCredentialsProvider");class q{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){L.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){L.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){let t=e.authenticated,{tokens:n}=e,{authConfig:i}=e;try{(0,P.YE)(i?.Cognito)}catch{return}if(!t&&!i.Cognito.allowGuestAccess)return;let{forceRefresh:r}=e,o=this.hasTokenChanged(n),s=await D({tokens:n,authConfig:i.Cognito,identityIdStore:this._identityIdStore});return((r||o)&&this.clearCredentials(),t)?((0,_.Cg)(n),this.credsForOIDCTokens(i.Cognito,n,s)):this.getGuestCredentials(s,i.Cognito)}async getGuestCredentials(e,t){let n;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return L.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let i=(0,U.N)(t.identityPoolId);try{n=await T({region:i},{IdentityId:e})}catch(e){throw(0,N.R)(e),new b.l(e)}if(n?.Credentials?.AccessKeyId&&n?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let t={credentials:{accessKeyId:n.Credentials.AccessKeyId,secretAccessKey:n.Credentials.SecretKey,sessionToken:n.Credentials.SessionToken,expiration:n.Credentials.Expiration},identityId:e};return n.IdentityId&&(t.identityId=n.IdentityId,this._identityIdStore.storeIdentityId({id:n.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new b.l({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,n){let i;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return L.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let r=t.idToken?M(t.idToken.toString()):{},o=(0,U.N)(e.identityPoolId);try{i=await T({region:o},{IdentityId:n,Logins:r})}catch(e){throw(0,N.R)(e),new b.l(e)}if(i?.Credentials?.AccessKeyId&&i?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let e={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:n};return i.IdentityId&&(e.identityId=i.IdentityId,this._identityIdStore.storeIdentityId({id:i.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},e}throw new b.l({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}var V=n(2684);let B={identityId:"identityId"},K=new c.k("DefaultIdentityIdStore");class W{setAuthConfig(e){(0,P.YE)(e.Cognito),this.authConfig=e,this._authKeys=G("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){(0,P.YE)(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let e=await this.keyValueStorage.getItem(this._authKeys.identityId);if(e)return this._hasGuestIdentityId=!0,{id:e,type:"guest"};return null}}catch(e){return K.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){(0,P.YE)(this.authConfig?.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}let G=(e,t)=>(0,V._X)(B)(`com.amplify.${e}`,t),$=new q(new W(s.Fm));var j=n(8714);let z={configure(e,t){let n=(0,u.h)(e),i=new o({sameSite:"lax"}),r=t?.ssr?i:s.Fm,c=t?.ssr?new q(new W(i)):$;if(!n.Auth||t?.Auth){a.d.configure(n,t);return}if(!a.d.libraryOptions.Auth){j.D.setAuthConfig(n.Auth),j.D.setKeyValueStorage(r),a.d.configure(n,{...t,Auth:{tokenProvider:j.D,credentialsProvider:c}});return}if(t){let e=a.d.libraryOptions.Auth;void 0!==t.ssr&&(j.D.setKeyValueStorage(r),e.credentialsProvider=c),a.d.configure(n,{Auth:e,...t});return}a.d.configure(n)},getConfig:()=>a.d.getConfig()}},7582:function(e,t,n){"use strict";n.d(t,{CR:function(){return u},FC:function(){return d},Jh:function(){return s},KL:function(){return p},XA:function(){return a},ZT:function(){return r},ev:function(){return c},mG:function(){return o},qq:function(){return l}});var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((i=i.apply(e,t||[])).next())})}function s(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function c(e,t,n){if(n||2==arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function l(e){return this instanceof l?(this.v=e,this):new l(e)}function d(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),i[Symbol.asyncIterator]=function(){return this},i;function s(e,t){r[e]&&(i[e]=function(t){return new Promise(function(n,i){o.push([e,t,n,i])>1||a(e,t)})},t&&(i[e]=t(i[e])))}function a(e,t){try{var n;(n=r[e](t)).value instanceof l?Promise.resolve(n.value.v).then(u,c):d(o[0][2],n)}catch(e){d(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function p(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=a(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,r){!function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)}(i,r,(t=e[n](t)).done,t.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(6840),t(3079)}),_N_E=e.O()}]);