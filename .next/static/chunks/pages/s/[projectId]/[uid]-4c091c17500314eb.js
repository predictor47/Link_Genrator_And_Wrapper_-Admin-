(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{9762:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/s/[projectId]/[uid]",function(){return r(2258)}])},1354:function(e,t,r){"use strict";r.d(t,{Ao:function(){return g},nq:function(){return p}});var a,o,n,s,l,i,d,u=r(9556),c=r(6164);window.location.hostname;let m=!1,h=null;function p(){if(!m){if(!h)try{console.log("Using environment variables for Amplify configuration"),h={auth:{user_pool_id:"us-east-1_Gh00T12dW",aws_region:"us-east-1",user_pool_client_id:"5e5a5drp00jd43tr7ph1ceg412"},data:{url:"https://vth6pntotrhvfpxo2gwn3kzqry.appsync-api.us-east-1.amazonaws.com/graphql",aws_region:"us-east-1",api_key:"da2-ee26yqskvzfpjpquwbi53shbvu",authorization_types:["API_KEY","AMAZON_COGNITO_USER_POOLS"]}},v();return}catch(e){console.warn("Failed to load amplify_outputs.json on client:",e)}v()}}function v(){var e,t,r,a,o,n,s,l,i,d,c;h||(console.log("Using environment variables for Amplify configuration"),h={auth:{user_pool_id:"us-east-1_Gh00T12dW",user_pool_client_id:"5e5a5drp00jd43tr7ph1ceg412",identity_pool_id:"us-east-1:a0b02f73-93a3-4b52-b1cb-eaa306375a33",aws_region:"us-east-1"},data:{url:"https://vth6pntotrhvfpxo2gwn3kzqry.appsync-api.us-east-1.amazonaws.com/graphql",aws_region:"us-east-1",api_key:"da2-ee26yqskvzfpjpquwbi53shbvu"}});let p=(null===(e=h.auth)||void 0===e?void 0:e.aws_region)||(null===(t=h.data)||void 0===t?void 0:t.aws_region)||"us-east-1",v="localhost"!==window.location.hostname&&!window.location.hostname.includes("amplifyapp.com"),g=window.location.hostname,f=v?g.split(".").slice(-2).join("."):void 0;try{let e={Auth:{Cognito:{userPoolId:(null===(r=h.auth)||void 0===r?void 0:r.user_pool_id)||"",userPoolClientId:(null===(a=h.auth)||void 0===a?void 0:a.user_pool_client_id)||"",identityPoolId:(null===(o=h.auth)||void 0===o?void 0:o.identity_pool_id)||"",region:(null===(n=h.auth)||void 0===n?void 0:n.aws_region)||p,loginWith:{oauth:!1,email:!0,phone:!1,username:!0},tokenProvider:{storage:window.sessionStorage,cookieStorage:{domain:f,path:"/",expires:365,secure:v,sameSite:"strict"},disableCookieStorage:!1,enableCookieStorage:!0}}},API:{GraphQL:{endpoint:(null===(s=h.data)||void 0===s?void 0:s.url)||"",region:(null===(l=h.data)||void 0===l?void 0:l.aws_region)||p,defaultAuthMode:"apiKey",apiKey:(null===(i=h.data)||void 0===i?void 0:i.api_key)||""}}};e.region=p,u.V.configure(e),m=!0,console.log("Amplify configured in ".concat("PRODUCTION"," environment")),console.log("Using User Pool ID:",null===(d=h.auth)||void 0===d?void 0:d.user_pool_id),console.log("API Key configured:",(null===(c=h.data)||void 0===c?void 0:c.api_key)?"Yes (masked)":"No"),console.log("Cookie domain:",f||"default")}catch(e){console.error("Error configuring Amplify:",e)}}(0,c.d)();let g={Auth:{Cognito:{userPoolId:(null==h?void 0:null===(a=h.auth)||void 0===a?void 0:a.user_pool_id)||"us-east-1_Gh00T12dW",userPoolClientId:(null==h?void 0:null===(o=h.auth)||void 0===o?void 0:o.user_pool_client_id)||"5e5a5drp00jd43tr7ph1ceg412",identityPoolId:(null==h?void 0:null===(n=h.auth)||void 0===n?void 0:n.identity_pool_id)||"us-east-1:a0b02f73-93a3-4b52-b1cb-eaa306375a33",region:(null==h?void 0:null===(s=h.auth)||void 0===s?void 0:s.aws_region)||"us-east-1"}},API:{GraphQL:{endpoint:(null==h?void 0:null===(l=h.data)||void 0===l?void 0:l.url)||"https://vth6pntotrhvfpxo2gwn3kzqry.appsync-api.us-east-1.amazonaws.com/graphql",region:(null==h?void 0:null===(i=h.data)||void 0===i?void 0:i.aws_region)||"us-east-1",defaultAuthMode:"apiKey",apiKey:(null==h?void 0:null===(d=h.data)||void 0===d?void 0:d.api_key)||"da2-ee26yqskvzfpjpquwbi53shbvu"}},domains:{main:"protegeresearchsurvey.com",admin:"admin.protegeresearchsurvey.com"},environment:"production"}},2258:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return y},default:function(){return b}});var a=r(5893),o=r(7294),n=r(1163),s=r(7066),l=e=>{let{onDataCollected:t,startTracking:r=!0}=e,a=(0,o.useRef)({mouseMovements:0,keyboardEvents:0,clickPattern:[],idleTime:0,mouseCurve:[],copyPasteEvents:0}),n=(0,o.useRef)(Date.now()),s=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(!r)return;let e=e=>{a.current.mouseMovements++,n.current=Date.now(),a.current.mouseMovements%10==0&&(a.current.mouseCurve.push({x:e.clientX,y:e.clientY,timestamp:Date.now()}),a.current.mouseCurve.length>100&&a.current.mouseCurve.shift())},o=e=>{a.current.clickPattern.push(Date.now()),n.current=Date.now(),a.current.clickPattern.length>50&&a.current.clickPattern.shift()},l=e=>{a.current.keyboardEvents++,n.current=Date.now()},i=e=>{a.current.copyPasteEvents++,n.current=Date.now()},d=e=>{a.current.copyPasteEvents++,n.current=Date.now()};return s.current=setInterval(()=>{let e=Date.now()-n.current;a.current.idleTime=Math.floor(e/1e3),e%5e3<1e3&&t({...a.current})},1e3),document.addEventListener("mousemove",e),document.addEventListener("click",o),document.addEventListener("keydown",l),document.addEventListener("copy",i),document.addEventListener("paste",d),t({...a.current}),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("click",o),document.removeEventListener("keydown",l),document.removeEventListener("copy",i),document.removeEventListener("paste",d),s.current&&clearInterval(s.current),t({...a.current})}},[t,r]),null},i=r(6164),d=r(9556),u=r(1354);"localhost"===window.location.hostname||window.location.hostname,console.log("Using Amplify Data Service in production environment"),d.V.configure(u.Ao);let c="apiKey";console.log("Using authMode: ".concat(c," for data client in ").concat("PRODUCTION"," environment"));let m=(0,i.d)({authMode:c}),h=e=>e.data,p={questions:{create:async e=>({data:h(await m.models.Question.create(e))}),get:async e=>({data:h(await m.models.Question.get({id:e}))}),list:async e=>({data:(await m.models.Question.list(e)).data||[]}),listByProject:async e=>({data:(await m.models.Question.list({filter:{projectId:{eq:e}}})).data||[]}),update:async(e,t)=>({data:h(await m.models.Question.update({id:e,...t}))}),delete:async e=>({data:h(await m.models.Question.delete({id:e}))})}};var v=e=>{let{projectId:t,onAnswer:r}=e,[n,s]=(0,o.useState)(!0),[l,i]=(0,o.useState)(null),[d,u]=(0,o.useState)(null),[c,m]=(0,o.useState)(""),[h,v]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{(async()=>{try{s(!0),i(null);let e=(await p.questions.listByProject(t)).data||[];if(0===e.length){i("No questions available"),s(!1);return}let r=Math.floor(Math.random()*e.length),a=e[r],o=[];if(a.options)try{"string"==typeof a.options?o=JSON.parse(a.options):Array.isArray(a.options)&&(o=a.options)}catch(e){console.error("Error parsing question options:",e)}u({id:a.id,text:a.text,type:a.type||"TEXT",options:o,correctAnswer:"object"==typeof a.options&&null!==a.options&&a.options.correctAnswer||""})}catch(e){console.error("Error fetching trap question:",e),i("Failed to load question")}finally{s(!1)}})()},[t]),l)?(0,a.jsx)("div",{className:"bg-red-50 p-4 rounded-md",children:(0,a.jsx)("p",{className:"text-red-600",children:l})}):n?(0,a.jsx)("div",{className:"flex justify-center p-4",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):d?h?(0,a.jsx)("div",{className:"bg-green-50 p-4 rounded-md",children:(0,a.jsx)("p",{className:"text-green-600",children:"Thank you for your response."})}):(0,a.jsxs)("div",{className:"border p-4 rounded-md shadow-sm mb-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-800 mb-3",children:d.text}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),v(!0),!d)return;let t="MULTIPLE_CHOICE"===d.type?c===d.correctAnswer:c.toLowerCase().trim()===d.correctAnswer.toLowerCase().trim();r(d.text,c,t)},children:["MULTIPLE_CHOICE"===d.type&&d.options&&(0,a.jsx)("div",{className:"space-y-2",children:d.options.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",id:"option-".concat(t),name:"trapAnswer",value:e,onChange:e=>m(e.target.value),required:!0,className:"mr-2"}),(0,a.jsx)("label",{htmlFor:"option-".concat(t),className:"text-gray-700",children:e})]},t))}),"TEXT"===d.type&&(0,a.jsx)("input",{type:"text",value:c,onChange:e=>m(e.target.value),required:!0,placeholder:"Enter your answer here",className:"w-full p-2 border border-gray-300 rounded-md"}),"COUNTRY"===d.type&&(0,a.jsxs)("select",{value:c,onChange:e=>m(e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,a.jsx)("option",{value:"",children:"Select your country"}),(0,a.jsx)("option",{value:"US",children:"United States"}),(0,a.jsx)("option",{value:"CA",children:"Canada"}),(0,a.jsx)("option",{value:"GB",children:"United Kingdom"}),(0,a.jsx)("option",{value:"AU",children:"Australia"})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Submit Answer"})})]})]}):null},g=e=>{var t;let{onVerify:r,difficulty:n="medium"}=e,[s,l]=(0,o.useState)(!0),[i,d]=(0,o.useState)({question:"",answer:"",type:"math"}),[u,c]=(0,o.useState)(""),[m,h]=(0,o.useState)(null),[p,v]=(0,o.useState)(!1),[g,f]=(0,o.useState)(0),[x,y]=(0,o.useState)([]),[b,w]=(0,o.useState)([]),[j,N]=(0,o.useState)(0),_=(0,o.useRef)(null),S=(0,o.useRef)(null);(0,o.useEffect)(()=>{k()},[n]);let k=()=>{l(!0),h(null);try{let e;switch(n){case"easy":e=E();break;case"hard":e=T();break;default:e=I()}d(e),"drag"===e.type&&e.items&&(y(e.items),w([]))}catch(e){console.error("Error generating CAPTCHA challenge:",e),h("Failed to generate CAPTCHA challenge")}finally{l(!1)}},E=()=>{let e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());return{question:"What is ".concat(e," + ").concat(t,"?"),answer:String(e+t),type:"math"}},I=()=>{if("math"==(Math.random()>.5?"math":"drag")){let e,t,r;let a=["+","-","*"],o=a[Math.floor(Math.random()*a.length)];switch(o){case"+":r=(e=Math.floor(20*Math.random()))+(t=Math.floor(20*Math.random()));break;case"-":t=Math.floor(Math.random()*(e=Math.floor(20*Math.random())+10)),r=e-t;break;case"*":r=(e=Math.floor(10*Math.random()))*(t=Math.floor(10*Math.random()));break;default:e=0,t=0,r=0}return{question:"What is ".concat(e," ").concat(o," ").concat(t,"?"),answer:String(r),type:"math"}}{let e=[{question:"Drag to order from smallest to largest",items:["5","2","9","1","7"],answer:"12579"},{question:"Drag to order alphabetically",items:["dog","cat","bird","fish","ant"],answer:"antbirddogcatfish"}],t=e[Math.floor(Math.random()*e.length)];return{question:t.question,items:[...t.items].sort(()=>Math.random()-.5),answer:t.answer,type:"drag"}}},T=()=>({question:"Hold the button and click the targets that appear",answer:"hold-complete",type:"hold"}),q=e=>{e.preventDefault(),f(e=>e+1),("drag"===i.type?b.join(""):u).trim()===i.answer?(v(!0),r(!0)):(h("Incorrect answer, please try again"),g>=2&&(k(),f(0)))},D=(e,t)=>{e.dataTransfer.setData("text/plain",t)},A=()=>{S.current=Date.now(),_.current=setInterval(()=>{if(S.current){let e=Math.min((Date.now()-S.current)/3e3,1);N(e),e>=1&&(_.current&&clearInterval(_.current),v(!0),r(!0))}},50)},C=()=>{_.current&&(clearInterval(_.current),_.current=null),j<1&&(N(0),S.current=null)};return((0,o.useEffect)(()=>()=>{_.current&&clearInterval(_.current)},[]),s)?(0,a.jsx)("div",{className:"flex justify-center p-4",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p?(0,a.jsx)("div",{className:"bg-green-50 p-4 rounded-md",children:(0,a.jsx)("p",{className:"text-green-600",children:"Verification successful"})}):(0,a.jsxs)("div",{className:"border p-4 rounded-md shadow-sm mb-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-800 mb-3",children:"Security Verification"}),m&&(0,a.jsx)("div",{className:"bg-red-50 p-2 rounded-md mb-3",children:(0,a.jsx)("p",{className:"text-red-600 text-sm",children:m})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("p",{className:"text-gray-700",children:i.question})}),"math"===i.type&&(0,a.jsxs)("form",{onSubmit:q,children:[(0,a.jsx)("input",{type:"text",value:u,onChange:e=>c(e.target.value),required:!0,placeholder:"Your answer",className:"w-full p-2 border border-gray-300 rounded-md"}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Verify"})})]}),"drag"===i.type&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"min-h-[100px] bg-gray-100 p-4 rounded-md border-2 border-dashed border-gray-300 mb-4",onDrop:e=>{e.preventDefault();let t=e.dataTransfer.getData("text/plain");w(e=>[...e,t]),y(e=>e.filter(e=>e!==t))},onDragOver:e=>{e.preventDefault()},children:[(0,a.jsx)("p",{className:"text-gray-500 mb-2",children:"Drop items here in the correct order"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:b.map((e,t)=>(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-md",children:e},"result-".concat(t)))})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:x.map((e,t)=>(0,a.jsx)("div",{draggable:!0,onDragStart:t=>D(t,e),className:"bg-gray-200 p-2 rounded-md cursor-move",children:e},"item-".concat(t)))}),b.length===(null===(t=i.items)||void 0===t?void 0:t.length)&&(0,a.jsx)("button",{onClick:q,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Verify"})]}),"hold"===i.type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(100*j,"%")}})}),(0,a.jsx)("button",{onMouseDown:A,onMouseUp:C,onMouseLeave:C,onTouchStart:A,onTouchEnd:C,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 w-full",children:"Hold to verify"})]})]})},f=e=>{let{projectId:t,uid:r,url:n,onStatusChange:l}=e,[i,d]=(0,o.useState)(!1),[u,c]=(0,o.useState)(null),m=(0,o.useRef)(null),h=(0,o.useRef)(null);(0,o.useEffect)(()=>{if(!i||!m.current)return;let e=0;return h.current=setInterval(()=>{e++;try{var t,r;let e=null===(r=m.current)||void 0===r?void 0:null===(t=r.contentWindow)||void 0===t?void 0:t.location.href;if(e&&e.includes("protegeresearchsurvey.com")){clearInterval(h.current);let t="COMPLETED";e.includes("/quota")?t="QUOTA_FULL":(e.includes("/not-eligible")||e.includes("/disqualified"))&&(t="DISQUALIFIED"),c(t),p(t,{completionUrl:e})}}catch(e){}e>=300&&clearInterval(h.current)},1e3),()=>{h.current&&clearInterval(h.current)}},[i,t,r]);let p=async(e,a)=>{try{let o={completionTimestamp:new Date().toISOString(),browser:navigator.userAgent,screenSize:{width:window.screen.width,height:window.screen.height,colorDepth:window.screen.colorDepth},language:navigator.language,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,completionUrl:null==a?void 0:a.completionUrl,referrer:document.referrer};await s.Z.post("/api/links/update-status",{projectId:t,uid:r,status:e,metadata:o}),l(e,{metadata:o,timestamp:Date.now()})}catch(e){console.error("Failed to update survey status:",e)}};return(0,a.jsxs)("div",{className:"iframe-container w-full h-full relative",children:[u&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-white bg-opacity-90",children:(0,a.jsxs)("div",{className:"text-center p-8",children:["COMPLETED"===u&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-green-600 mb-4",children:"Survey Completed"}),(0,a.jsx)("p",{children:"Thank you for completing the survey! You'll be redirected shortly."})]}),"QUOTA_FULL"===u&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-blue-600 mb-4",children:"Survey Quota Full"}),(0,a.jsx)("p",{children:"The quota for this survey has been filled. Thank you for your interest!"})]}),"DISQUALIFIED"===u&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-amber-600 mb-4",children:"Not Eligible"}),(0,a.jsx)("p",{children:"You don't match the criteria for this survey. Thank you for your interest!"})]})]})}),(0,a.jsx)("iframe",{ref:m,src:n,onLoad:()=>{d(!0);try{var e,t;let r=null===(t=m.current)||void 0===t?void 0:null===(e=t.contentWindow)||void 0===e?void 0:e.location.href;if(r&&r.includes("protegeresearchsurvey.com")){let e="COMPLETED";r.includes("/quota")?e="QUOTA_FULL":(r.includes("/not-eligible")||r.includes("/disqualified"))&&(e="DISQUALIFIED"),c(e),p(e,{completionUrl:r})}else p("STARTED")}catch(e){p("STARTED")}},className:"w-full h-full border-0 min-h-[500px]",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups",title:"Survey iframe"})]})},x=e=>{let{projectId:t,uid:r,surveyUrl:i,vendorId:d}=e,u=(0,n.useRouter)(),[c,m]=(0,o.useState)("captcha"),[h,p]=(0,o.useState)(null),[x,y]=(0,o.useState)(null),[b,w]=(0,o.useState)(!1),[j,N]=(0,o.useState)(!1),[_,S]=(0,o.useState)({token:Math.random().toString(36).substring(2,15),projectId:t,uid:r,vendorId:d,startTime:Date.now(),answers:[],metadata:{}}),k=(0,o.useRef)({rapidAnswers:!1,inconsistentAnswers:!1,botLikeBehavior:!1,flagged:!1,flags:[]});(0,o.useEffect)(()=>{if(_)try{sessionStorage.setItem("surveySession",JSON.stringify(_))}catch(e){console.error("Failed to save session data to sessionStorage:",e)}},[_]);let E=async(e,a,o)=>{if(S(t=>({...t,answers:[...t.answers,{question:e,answer:a,isCorrect:o}]})),!o){k.current.inconsistentAnswers=!0,k.current.flags.push("Incorrect trap question answer");try{await s.Z.post("/api/links/flag",{projectId:t,uid:r,reason:"Failed trap question",metadata:{question:e,answer:a,timestamp:Date.now()}})}catch(e){console.error("Failed to flag incorrect trap question:",e)}}N(!0),m("survey")};return(0,a.jsxs)("div",{className:"survey-flow-container relative",children:[(0,a.jsx)(l,{onDataCollected:e=>{y(e),S(t=>({...t,metadata:{...t.metadata,behavior:e}})),e.mouseMovements/(e.idleTime||1)>100&&(k.current.botLikeBehavior=!0,k.current.flags.push("Unusually fast mouse movements")),e.copyPasteEvents>5&&(k.current.botLikeBehavior=!0,k.current.flags.push("Excessive copy/paste detected")),k.current.flags.length>0&&S(e=>({...e,metadata:{...e.metadata,suspiciousFlags:k.current.flags}}))},startTracking:!0}),"captcha"===c&&(0,a.jsxs)("div",{className:"p-6 max-w-md mx-auto bg-white rounded-xl shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"Please Verify You Are Human"}),(0,a.jsx)(g,{onVerify:e=>{w(e),e&&(S(e=>({...e,metadata:{...e.metadata,captchaVerified:!0,captchaVerifiedAt:Date.now()}})),m("trap-question"))},difficulty:"medium"})]}),"trap-question"===c&&b&&(0,a.jsxs)("div",{className:"p-6 max-w-md mx-auto bg-white rounded-xl shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"Quick Question"}),(0,a.jsx)(v,{projectId:t,onAnswer:E})]}),"survey"===c&&b&&(0,a.jsx)("div",{className:"w-full h-full",children:(0,a.jsx)(f,{projectId:t,uid:r,url:i,onStatusChange:(e,a)=>{switch(e){case"COMPLETED":m("completed"),setTimeout(()=>{u.push("/thank-you-completed?projectId=".concat(t,"&uid=").concat(r))},2e3);break;case"QUOTA_FULL":m("quota-full"),setTimeout(()=>{u.push("/sorry-quota-full?projectId=".concat(t,"&uid=").concat(r))},2e3);break;case"DISQUALIFIED":m("disqualified"),setTimeout(()=>{u.push("/sorry-disqualified?projectId=".concat(t,"&uid=").concat(r))},2e3)}}})}),"error"===c&&(0,a.jsxs)("div",{className:"p-6 max-w-md mx-auto bg-white rounded-xl shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-red-600 mb-2",children:"Error"}),(0,a.jsx)("p",{className:"text-gray-700",children:h}),(0,a.jsx)("button",{onClick:()=>m("captcha"),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Try Again"})]}),("completed"===c||"disqualified"===c||"quota-full"===c)&&(0,a.jsxs)("div",{className:"p-6 max-w-md mx-auto bg-white rounded-xl shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"completed"===c?"Survey Completed":"quota-full"===c?"Survey Quota Full":"Not Eligible"}),(0,a.jsx)("p",{className:"text-gray-700",children:"completed"===c?"Thank you for completing the survey. You will be redirected shortly.":"quota-full"===c?"The quota for this survey has been filled. Thank you for your interest.":"You do not match the criteria for this survey. Thank you for your interest."}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"Redirecting you in a few seconds..."})]})]})},y=!0;function b(e){let{projectId:t,uid:r,project:s,surveyLink:l,isValid:i,errorMessage:d}=e;(0,n.useRouter)();let[u,c]=(0,o.useState)(d||null);return i&&s?(null==l?void 0:l.status)==="COMPLETED"?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-green-600 mb-4",children:"Survey Already Completed"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"You have already completed this survey. Thank you for your participation!"}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{onClick:()=>window.location.href="https://protegeresearch.com",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Return to ProtegeResearch"})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,a.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:s.name})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-2 md:p-6",children:(0,a.jsx)(x,{projectId:t,uid:r,surveyUrl:s.surveyUrl,vendorId:(null==l?void 0:l.vendorId)||void 0})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Invalid Survey Link"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:d||"This survey link is invalid or has expired."}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{onClick:()=>window.location.href="https://protegeresearch.com",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Return to ProtegeResearch"})})]})})}}},function(e){e.O(0,[282,66,797,888,774,179],function(){return e(e.s=9762)}),_N_E=e.O()}]);