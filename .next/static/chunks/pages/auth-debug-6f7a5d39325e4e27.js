(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[442],{5726:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth-debug",function(){return n(1426)}])},9051:function(e,t,n){"use strict";n.d(t,{a:function(){return s.a}});var s=n(9985)},1426:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var s=n(5893),c=n(7294),a=n(9051),r=n(1163);function o(){let{isAuthenticated:e,isLoading:t,user:n,refreshAuthState:o}=(0,a.a)(),i=(0,r.useRouter)(),[l,d]=(0,c.useState)([]),h=e=>{let t=new Date().toLocaleTimeString();d(n=>[...n,"[".concat(t,"] ").concat(e)]),console.log("[".concat(t,"] ").concat(e))};(0,c.useEffect)(()=>{h("Component mounted. Auth state: authenticated=".concat(e,", loading=").concat(t))},[]),(0,c.useEffect)(()=>{h("Auth state changed: authenticated=".concat(e,", loading=").concat(t,", user=").concat(n?n.username:"null"))},[e,t,n]);let u=async()=>{h("Refreshing auth state..."),await o(),h("Auth state refresh completed")};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Auth Debug Page"}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Current Auth State"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Authenticated:"})," ",e?"Yes":"No"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Loading:"})," ",t?"Yes":"No"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"User:"})," ",n?JSON.stringify(n,null,2):"null"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Current Path:"})," ",i.asPath]})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Actions"}),(0,s.jsxs)("div",{className:"space-x-4",children:[(0,s.jsx)("button",{onClick:u,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Refresh Auth State"}),(0,s.jsx)("button",{onClick:()=>{h("Testing router.replace to /admin"),i.replace("/admin").then(()=>{h("Router redirect successful")}).catch(e=>{h("Router redirect failed: ".concat(e.message))})},className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Test Router Redirect"}),(0,s.jsx)("button",{onClick:()=>{h("Testing window.location.href redirect to /admin"),window.location.href="/admin"},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Test Window Redirect"})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Debug Logs"}),(0,s.jsx)("div",{className:"bg-gray-100 p-4 rounded max-h-96 overflow-y-auto",children:0===l.length?(0,s.jsx)("p",{className:"text-gray-500",children:"No logs yet..."}):l.map((e,t)=>(0,s.jsx)("div",{className:"font-mono text-sm mb-1",children:e},t))})]})]})})}},1163:function(e,t,n){e.exports=n(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5726)}),_N_E=e.O()}]);