(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71],{3394:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/projects/[id]",function(){return s(8537)}])},1359:function(e,t,s){"use strict";s.d(t,{d:function(){return l}});var a=s(6164),r=s(9556),n=s(7510);let i=null;async function l(){var e;if(i)return i;let t=(0,n.m)();if(!(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.url))throw Error("Amplify config is missing GraphQL endpoint.");r.V.configure(t);let s=(0,a.d)({authMode:"userPool"});if(console.log("Amplify Data client:",s),console.log("client.models:",s.models),!s.models||0===Object.keys(s.models).length)throw console.error("client.models is empty! This usually means the Amplify backend is not properly connected."),Error("Amplify Data models are not available. Please check your backend connection.");let l=["Project","Vendor","Question","SurveyLink","ProjectVendor"];for(let e of l)if(!s.models[e])throw console.error("".concat(e," model is missing from Amplify Data client!")),Error("Required model ".concat(e," is not available in the Amplify Data client."));console.log("All required models are available:",l);let o=e=>e.data,d=(e,t)=>{let s=e.message||"Unknown error",a=e.name||"Error";throw console.error("Amplify Error (".concat(t,"):"),{name:a,message:s}),e};return i={client:s,projects:{create:async e=>{try{let t=await s.models.Project.create(e);return{data:o(t)}}catch(e){return d(e,"projects.create"),{data:null}}},get:async e=>({data:o(await s.models.Project.get({id:e}))}),list:async e=>({data:(await s.models.Project.list(e)).data||[]}),update:async(e,t)=>({data:o(await s.models.Project.update({id:e,...t}))}),delete:async e=>({data:o(await s.models.Project.delete({id:e}))}),getWithRelations:async e=>{let t=await s.models.Project.get({id:e});if(t.data){let a=await s.models.SurveyLink.list({filter:{projectId:{eq:e}}}),r=(await s.models.ProjectVendor.list({filter:{projectId:{eq:e}}})).data.map(e=>e.vendorId).filter(e=>null!=e),n=[];r.length>0&&(n=(await Promise.all(r.map(e=>s.models.Vendor.get({id:e})))).filter(e=>null!==e.data).map(e=>e.data));let i=await s.models.Question.list({filter:{projectId:{eq:e}}});return{data:{...t.data,surveyLinks:a.data||[],vendors:n,questions:i.data||[]}}}return{data:null}}},surveyLinks:{create:async e=>({data:o(await s.models.SurveyLink.create(e))}),get:async e=>({data:o(await s.models.SurveyLink.get({id:e}))}),getByUid:async e=>{let t=await s.models.SurveyLink.list({filter:{uid:{eq:e}}});return{data:t.data&&t.data.length>0?t.data[0]:null}},update:async(e,t)=>({data:o(await s.models.SurveyLink.update({id:e,...t}))}),list:async e=>({data:(await s.models.SurveyLink.list(e)).data||[]}),listByProject:async e=>({data:(await s.models.SurveyLink.list({filter:{projectId:{eq:e}}})).data||[]}),delete:async e=>({data:o(await s.models.SurveyLink.delete({id:e}))})},vendors:{create:async e=>({data:o(await s.models.Vendor.create(e))}),get:async e=>({data:o(await s.models.Vendor.get({id:e}))}),list:async e=>({data:(await s.models.Vendor.list(e)).data||[]}),listByProject:async e=>{let t=(await s.models.ProjectVendor.list({filter:{projectId:{eq:e}}})).data.map(e=>e.vendorId).filter(e=>null!=e);return t.length>0?{data:(await Promise.all(t.map(e=>s.models.Vendor.get({id:e})))).map(e=>e.data).filter(e=>null!==e)}:{data:[]}},update:async(e,t)=>({data:o(await s.models.Vendor.update({id:e,...t}))}),delete:async e=>({data:o(await s.models.Vendor.delete({id:e}))})},questions:{create:async e=>({data:o(await s.models.Question.create(e))}),get:async e=>({data:o(await s.models.Question.get({id:e}))}),list:async e=>({data:(await s.models.Question.list(e)).data||[]}),listByProject:async e=>({data:(await s.models.Question.list({filter:{projectId:{eq:e}}})).data||[]}),update:async(e,t)=>({data:o(await s.models.Question.update({id:e,...t}))}),delete:async e=>({data:o(await s.models.Question.delete({id:e}))})},transaction:{execute:async e=>{let t=[];for(let s of e){let e=await s;t.push(e)}return t}}}}},7555:function(e,t,s){"use strict";s.d(t,{OA:function(){return l},XR:function(){return i}});var a=s(9319),r=s(6398);async function n(){let e={timestamp:new Date().toISOString(),cookies:{},session:null,user:null,errors:[]};"undefined"!=typeof document&&document.cookie.split(";").forEach(t=>{let[s,a]=t.split("=").map(e=>e.trim());(s.includes("CognitoIdentityServiceProvider")||s.includes("amplify")||s.includes("Token"))&&(e.cookies[s]=a?"present":"empty")});try{var t,s;let r=await (0,a.y)();e.session={hasIdToken:!!(null===(t=r.tokens)||void 0===t?void 0:t.idToken),hasAccessToken:!!(null===(s=r.tokens)||void 0===s?void 0:s.accessToken),hasTokens:!!r.tokens}}catch(t){e.errors.push({source:"fetchAuthSession",message:t instanceof Error?t.message:String(t)})}try{let t=await (0,r.t)();e.user={userId:t.userId,username:t.username,signInDetails:t.signInDetails}}catch(t){e.errors.push({source:"getCurrentUser",message:t instanceof Error?t.message:String(t)})}return e}async function i(){try{let e=await n();console.log("=== AUTH DIAGNOSTICS ==="),console.log(JSON.stringify(e,null,2)),console.log("=======================")}catch(e){console.error("Failed to get auth diagnostics:",e)}}async function l(){try{let e=await n();if(e.errors.length>0&&Object.keys(e.cookies).length>0)return"undefined"!=typeof document&&document.cookie.split(";").forEach(e=>{let[t]=e.split("=").map(e=>e.trim());(t.includes("CognitoIdentityServiceProvider")||t.includes("amplify")||t.includes("Token"))&&(console.log("Clearing problematic cookie:",t),document.cookie="".concat(t,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"))}),window.location.reload(),!0;return!1}catch(e){return console.error("Failed to fix auth issues:",e),!1}}},9051:function(e,t,s){"use strict";s.d(t,{a:function(){return a.a}});var a=s(9985)},3101:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(5893),r=s(7294),n=s(1163),i=s(9051),l=s(7555);function o(e){let{children:t,redirectTo:s="/admin/login"}=e,{isAuthenticated:o,isLoading:d}=(0,i.a)(),c=(0,n.useRouter)(),[m,u]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{if("undefined"!=typeof document){let e=document.cookie.match(/redirect_count=(\d+)/);if((e?parseInt(e[1],10):0)>5){u(!0);return}}d||o||(console.log("User not authenticated, redirecting to login page"),(0,l.XR)().then(()=>{let e=encodeURIComponent(c.asPath);window.location.href="".concat(s,"?redirect=").concat(e)}))},[o,d,s,c]),m)?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded shadow text-center max-w-md mx-auto",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4 text-red-600",children:"Too many login attempts"}),(0,a.jsx)("p",{className:"mb-4",children:"You have been redirected too many times. Please clear your cookies, log in again, or contact support if the problem persists."})]})}):d?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):o?(0,a.jsx)(a.Fragment,{children:t}):null}},8537:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(5893),r=s(7294),n=s(1163),i=s(1664),l=s.n(i),o=s(1359),d=s(3101);let c=e=>{let{value:t,max:s,color:r,label:n,percentage:i}=e,l=2*Math.PI*40;return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 120 120",children:[(0,a.jsx)("circle",{cx:"60",cy:"60",r:40,fill:"none",stroke:"#e5e7eb",strokeWidth:"10"}),(0,a.jsx)("circle",{cx:"60",cy:"60",r:40,fill:"none",stroke:r,strokeWidth:"10",strokeDasharray:l,strokeDashoffset:l-i/100*l,strokeLinecap:"round",transform:"rotate(-90 60 60)"}),(0,a.jsx)("text",{x:"60",y:"65",textAnchor:"middle",fontSize:"18",fontWeight:"bold",fill:"#374151",children:t})]})}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-600 mt-2",children:n})]})};function m(){var e,t,s,i,m,u,x,h,g,p,v,f,y,j,b,w,N,k,P,S,L,C,E,V,A,I,q,D,T,F,B,U,O,Q,_,R,W;let G=(0,n.useRouter)(),{id:M}=G.query,[Z,z]=(0,r.useState)("stats"),[H,X]=(0,r.useState)({name:"",code:""}),[J,K]=(0,r.useState)([]),[Y,$]=(0,r.useState)(null),[ee,et]=(0,r.useState)(!0),[es,ea]=(0,r.useState)(""),[er,en]=(0,r.useState)("");(0,r.useEffect)(()=>{M&&"new"!==M&&(et(!0),ea(""),(async()=>{try{let e=await (0,o.d)(),t=(await e.projects.get(M)).data;if(!t){$(null),et(!1);return}let s=(await e.questions.listByProject(M)).data||[],a=((await e.vendors.listByProject(M)).data||[]).map(e=>({id:e.id,name:e.name||"Unknown Vendor",code:e.code||(e.id?e.id.substring(0,8):""),createdAt:e.createdAt||new Date().toISOString()}));K(a);let r=(await e.surveyLinks.listByProject(M)).data||[],n={total:r.length,pending:0,started:0,inProgress:0,completed:0,flagged:0};r.forEach(e=>{switch(e.status){case"UNUSED":n.pending++;break;case"CLICKED":n.started++,n.inProgress++;break;case"COMPLETED":n.completed++;break;case"DISQUALIFIED":case"QUOTA_FULL":n.flagged++}}),$({id:t.id,name:t.name,description:t.description,createdAt:t.createdAt,questions:s.map(e=>({id:e.id,text:e.text,options:e.options})),vendors:a,stats:n})}catch(e){ea(e.message||"Failed to load project"),$(null)}finally{et(!1)}})())},[M]),(0,r.useEffect)(()=>{Y&&ei()},[null==Y?void 0:Y.id]);let ei=async()=>{if(Y)try{let e=await (0,o.d)(),t=((await e.vendors.listByProject(Y.id)).data||[]).map(e=>({id:e.id,name:e.name||"Unknown Vendor",code:e.code||(e.id?e.id.substring(0,8):""),createdAt:e.createdAt||new Date().toISOString()}));K(t)}catch(e){ea("Failed to fetch vendors")}},el=async e=>{if(e.preventDefault(),ea(""),en(""),et(!0),!Y){ea("Project not loaded"),et(!1);return}try{let e=await (0,o.d)();if(!e||!e.vendors||"function"!=typeof e.vendors.create){ea("Vendor creation service is not available."),et(!1);return}await e.vendors.create({name:H.name,code:H.code,projectId:Y.id}),X({name:"",code:""}),en("Vendor created successfully"),ei()}catch(e){console.error("Error creating vendor:",e),ea(e.message||"Failed to create vendor")}finally{et(!1)}},eo=async e=>{if(confirm("Are you sure you want to delete this vendor?")){if(ea(""),en(""),!Y){ea("Project not loaded");return}try{let t=await (0,o.d)();await t.vendors.delete(e),en("Vendor deleted successfully"),ei()}catch(e){console.error("Error deleting vendor:",e),ea(e.message||"Failed to delete vendor")}}},ed=async()=>{if(confirm("Are you sure you want to delete this project? This action cannot be undone.")){if(et(!0),ea(""),en(""),!Y){ea("Project not loaded"),et(!1);return}try{let e=await (0,o.d)();Y.questions&&Y.questions.length>0&&await Promise.all(Y.questions.map(t=>e.questions.delete(t.id))),Y.vendors&&Y.vendors.length>0&&await Promise.all(Y.vendors.map(t=>e.vendors.delete(t.id))),await e.projects.delete(Y.id),en("Project deleted successfully"),G.push("/admin")}catch(e){ea(e.message||"Failed to delete project")}finally{et(!1)}}};if((0,r.useEffect)(()=>{"new"===M&&G.replace("/admin/projects/new")},[M,G]),ee)return(0,a.jsx)(d.Z,{children:(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading project..."})]})})});if(es)return(0,a.jsx)(d.Z,{children:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),(0,a.jsx)("p",{className:"text-gray-700 mb-6",children:es}),(0,a.jsx)(l(),{href:"/admin",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:"Return to Dashboard"})]})})});if(!Y)return(0,a.jsx)(d.Z,{children:(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Project Not Found"}),(0,a.jsx)("p",{className:"text-gray-700 mb-6",children:"The project you're looking for doesn't exist or has been deleted."}),(0,a.jsx)(l(),{href:"/admin",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:"Return to Dashboard"})]})})});let ec=null!==(P=null===(e=Y.stats)||void 0===e?void 0:e.total)&&void 0!==P?P:0,em=ec>0?(null!==(S=null===(t=Y.stats)||void 0===t?void 0:t.pending)&&void 0!==S?S:0)/ec*100:0,eu=ec>0?(null!==(L=null===(s=Y.stats)||void 0===s?void 0:s.started)&&void 0!==L?L:0)/ec*100:0,ex=ec>0?(null!==(C=null===(i=Y.stats)||void 0===i?void 0:i.inProgress)&&void 0!==C?C:0)/ec*100:0,eh=ec>0?(null!==(E=null===(m=Y.stats)||void 0===m?void 0:m.completed)&&void 0!==E?E:0)/ec*100:0,eg=ec>0?(null!==(V=null===(u=Y.stats)||void 0===u?void 0:u.flagged)&&void 0!==V?V:0)/ec*100:0;return(0,a.jsx)(d.Z,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)("div",{className:"bg-white shadow",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l(),{href:"/admin",className:"text-blue-600 hover:text-blue-800 mb-2 inline-flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Dashboard"]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:Y.name}),Y.description&&(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:Y.description})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(l(),{href:"/admin/projects/".concat(Y.id,"/generate"),className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",children:"Generate Wrapper Links"}),(0,a.jsx)("button",{onClick:ed,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50",children:"Delete Project"})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 mt-2",children:["Created on ",new Date(Y.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})}),(0,a.jsxs)("div",{className:"container mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,a.jsxs)("nav",{className:"flex -mb-px",children:[(0,a.jsx)("button",{onClick:()=>z("stats"),className:"py-4 px-6 font-medium text-sm ".concat("stats"===Z?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Statistics"}),(0,a.jsx)("button",{onClick:()=>z("questions"),className:"py-4 px-6 font-medium text-sm ".concat("questions"===Z?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Pre-Survey Questions"}),(0,a.jsx)("button",{onClick:()=>z("vendors"),className:"py-4 px-6 font-medium text-sm ".concat("vendors"===Z?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Vendors"}),(0,a.jsx)("button",{onClick:()=>z("links"),className:"py-4 px-6 font-medium text-sm ".concat("links"===Z?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Wrapper Links"})]})}),"stats"===Z&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg mb-8",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Project Statistics"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 justify-items-center",children:[(0,a.jsx)(c,{value:null!==(A=null===(x=Y.stats)||void 0===x?void 0:x.total)&&void 0!==A?A:0,max:null!==(I=null===(h=Y.stats)||void 0===h?void 0:h.total)&&void 0!==I?I:0,color:"#6366F1",label:"Total Links",percentage:100}),(0,a.jsx)(c,{value:null!==(q=null===(g=Y.stats)||void 0===g?void 0:g.pending)&&void 0!==q?q:0,max:null!==(D=null===(p=Y.stats)||void 0===p?void 0:p.total)&&void 0!==D?D:0,color:"#3B82F6",label:"Pending",percentage:em}),(0,a.jsx)(c,{value:null!==(T=null===(v=Y.stats)||void 0===v?void 0:v.started)&&void 0!==T?T:0,max:null!==(F=null===(f=Y.stats)||void 0===f?void 0:f.total)&&void 0!==F?F:0,color:"#10B981",label:"Started",percentage:eu}),(0,a.jsx)(c,{value:null!==(B=null===(y=Y.stats)||void 0===y?void 0:y.inProgress)&&void 0!==B?B:0,max:null!==(U=null===(j=Y.stats)||void 0===j?void 0:j.total)&&void 0!==U?U:0,color:"#F59E0B",label:"In Progress",percentage:ex}),(0,a.jsx)(c,{value:null!==(O=null===(b=Y.stats)||void 0===b?void 0:b.completed)&&void 0!==O?O:0,max:null!==(Q=null===(w=Y.stats)||void 0===w?void 0:w.total)&&void 0!==Q?Q:0,color:"#059669",label:"Completed",percentage:eh}),(0,a.jsx)(c,{value:null!==(_=null===(N=Y.stats)||void 0===N?void 0:N.flagged)&&void 0!==_?_:0,max:null!==(R=null===(k=Y.stats)||void 0===k?void 0:k.total)&&void 0!==R?R:0,color:"#EF4444",label:"Flagged",percentage:eg})]})})]})}),"questions"===Z&&(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg mb-8",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Pre-Survey Questions"})}),(0,a.jsx)("div",{className:"p-6",children:Y.questions&&Y.questions.length>0?(0,a.jsx)("div",{className:"space-y-6",children:(null!==(W=Y.questions)&&void 0!==W?W:[]).map((e,t)=>{let s=JSON.parse(e.options||"[]");return(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsxs)("h3",{className:"font-medium text-gray-900",children:["Question ",t+1,": ",e.text]}),(0,a.jsxs)("div",{className:"mt-2 ml-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Options:"}),(0,a.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-600 mt-1",children:s.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]})]},e.id)})}):(0,a.jsx)("p",{className:"text-gray-500 italic",children:"No pre-survey questions have been created for this project."})})]}),"vendors"===Z&&(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg mb-8",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Vendors"})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-8 bg-gray-50 p-6 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Vendor"}),es&&(0,a.jsx)("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:es}),er&&(0,a.jsx)("div",{className:"bg-green-100 text-green-700 p-3 rounded mb-4",children:er}),(0,a.jsxs)("form",{onSubmit:el,children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[(0,a.jsxs)("div",{className:"sm:col-span-3",children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Vendor Name"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{type:"text",name:"name",id:"name",value:H.name,onChange:e=>X({...H,name:e.target.value}),required:!0,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Enter vendor name"})})]}),(0,a.jsxs)("div",{className:"sm:col-span-3",children:[(0,a.jsx)("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700",children:"Vendor Code"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{type:"text",name:"code",id:"code",value:H.code,onChange:e=>X({...H,code:e.target.value}),required:!0,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Enter unique vendor code"})})]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("button",{type:"submit",disabled:ee,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ".concat(ee?"opacity-50 cursor-not-allowed":""),children:ee?"Creating...":"Create Vendor"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Existing Vendors"}),J.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:J.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.code}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsx)("button",{onClick:()=>eo(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})})]},e.id))})]})}):(0,a.jsx)("p",{className:"text-gray-500 italic",children:"No vendors have been created for this project."})]})]})]}),"links"===Z&&(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Wrapper Link Generation"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Create secure wrapper links with bot protection, geolocking, and completion tracking"})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(l(),{href:"/admin/projects/".concat(Y.id,"/generate"),className:"block p-6 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg shadow-lg text-white hover:from-blue-600 hover:to-blue-700 transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Generate Wrapper Links"}),(0,a.jsx)("p",{className:"text-blue-100 text-sm",children:"Create live/test links with CSV upload"})]})]})}),(0,a.jsx)(l(),{href:"/admin/projects/".concat(Y.id,"/analytics"),className:"block p-6 bg-gradient-to-r from-green-500 to-green-600 rounded-lg shadow-lg text-white hover:from-green-600 hover:to-green-700 transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Analytics & Tracking"}),(0,a.jsx)("p",{className:"text-green-100 text-sm",children:"View completion rates and link performance"})]})]})})]}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Wrapper Link Features:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-blue-800 text-sm space-y-1",children:[(0,a.jsx)("li",{children:"Bot protection and security verification"}),(0,a.jsx)("li",{children:"Geolocking and country restrictions"}),(0,a.jsx)("li",{children:"Real-time completion tracking via iframe monitoring"}),(0,a.jsx)("li",{children:"CSV bulk upload for multiple URLs"}),(0,a.jsx)("li",{children:"Vendor-specific link generation"}),(0,a.jsx)("li",{children:"Live and test link variants"})]})]})]})]})]})]})})}},1163:function(e,t,s){e.exports=s(3079)}},function(e){e.O(0,[664,164,888,774,179],function(){return e(e.s=3394)}),_N_E=e.O()}]);