(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{3082:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/signup",function(){return a(1375)}])},1375:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return m}});var t=a(5893),r=a(7294),l=a(1163),n=a(9008),d=a.n(n),i=a(1664),c=a.n(i),o=a(6359);function m(){let e=(0,l.useRouter)(),[s,a]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[m,u]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[g,b]=(0,r.useState)(""),[j,v]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),[y,k]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let s=await o.e.isAuthenticated();k(s),s&&e.replace("/admin")}catch(e){console.error("Auth check error:",e)}})()},[e]);let P=()=>m!==x?(w("Passwords do not match"),!1):m.length<8?(w("Password must be at least 8 characters long"),!1):!!/^(?=.*\d)(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])/.test(m)||(w("Password must contain at least one number, one uppercase letter, and one special character"),!1),_=async a=>{if(a.preventDefault(),v(!0),w(null),S(null),!P()){v(!1);return}try{let a=await o.e.signUp({username:s,password:m,email:n,firstName:f,lastName:g});a.isSuccess?(S(a.message),setTimeout(()=>{e.push("/admin/verify?username=".concat(encodeURIComponent(s)))},2e3)):w(a.message)}catch(e){w(e.message||"Failed to sign up. Please try again.")}finally{v(!1)}};return y?(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:(0,t.jsxs)("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Already logged in"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Redirecting to admin dashboard..."})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500"})})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d(),{children:[(0,t.jsx)("title",{children:"Sign Up | Survey Link Manager"}),(0,t.jsx)("meta",{name:"description",content:"Create an account for the survey link management admin panel"})]}),(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 px-4 py-12 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create an Account"}),(0,t.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign up to access the survey link management dashboard"})]}),N&&(0,t.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-red-700",children:N})]})]})}),C&&(0,t.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Success"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-green-700",children:C})]})]})}),(0,t.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:_,children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,t.jsx)("input",{id:"firstName",name:"firstName",type:"text",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",value:f,onChange:e=>p(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,t.jsx)("input",{id:"lastName",name:"lastName",type:"text",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",value:g,onChange:e=>b(e.target.value)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,t.jsx)("input",{id:"username",name:"username",type:"text",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Username",value:s,onChange:e=>a(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Email",value:n,onChange:e=>i(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Password",value:m,onChange:e=>u(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,t.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Confirm Password",value:x,onChange:e=>h(e.target.value)})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"group relative flex w-full justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",disabled:j,children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:(0,t.jsxs)("svg",{className:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}),"Creating account..."]}):"Create Account"})}),(0,t.jsxs)("div",{className:"text-sm text-center",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Already have an account? "}),(0,t.jsx)(c(),{href:"/admin/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})]})]})})]})}(0,a(1354).nq)()}},function(e){e.O(0,[282,664,797,823,359,888,774,179],function(){return e(e.s=3082)}),_N_E=e.O()}]);