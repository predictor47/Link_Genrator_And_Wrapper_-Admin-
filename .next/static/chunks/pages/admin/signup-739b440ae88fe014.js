(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{3082:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/signup",function(){return t(1375)}])},5230:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(5893),r=t(7294),n=t(1163),l=t(9051);function i(e){let{children:s,redirectTo:t="/admin"}=e,{isAuthenticated:i,isLoading:o,refreshAuthState:d}=(0,l.a)();(0,n.useRouter)();let[c,m]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{d(),console.log("Auth state refreshed, current state:",{isAuthenticated:i,isLoading:o})},[d]),(0,r.useEffect)(()=>{console.log("AuthRedirectCheck effect triggered:",{isAuthenticated:i,isLoading:o,hasAttemptedRedirect:c,redirectTo:t,currentPath:window.location.pathname}),!i||o||c||(console.log("User is authenticated, attempting redirect to:",t),m(!0),setTimeout(()=>{console.log("Executing redirect to:",t),window.location.replace(t)},100))},[i,o,t,c]),i&&!o)?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{children:"You are already signed in. Redirecting to dashboard..."})]})}):(0,a.jsx)(a.Fragment,{children:s})}},9051:function(e,s,t){"use strict";t.d(s,{a:function(){return a.a}});var a=t(9985)},1375:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var a=t(5893),r=t(7294),n=t(1163),l=t(9008),i=t.n(l),o=t(1664),d=t.n(o),c=t(9051),m=t(5230);function u(){let e=(0,n.useRouter)(),{signUp:s}=(0,c.a)(),[t,l]=(0,r.useState)(""),[o,u]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[p,b]=(0,r.useState)(""),[j,v]=(0,r.useState)(""),[w,N]=(0,r.useState)(!1),[y,k]=(0,r.useState)(null),[C,S]=(0,r.useState)(null),P=()=>x!==f?(k("Passwords do not match"),!1):x.length<8?(k("Password must be at least 8 characters long"),!1):!!/^(?=.*\d)(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])/.test(x)||(k("Password must contain at least one number, one uppercase letter, and one special character"),!1),_=async a=>{if(a.preventDefault(),N(!0),k(null),S(null),!P()){N(!1);return}try{let a=await s({username:t,password:x,email:o,firstName:p,lastName:j});a.isSuccess?(S(a.message),setTimeout(()=>{e.push("/admin/verify?username=".concat(encodeURIComponent(t)))},2e3)):k(a.message)}catch(e){k(e.message||"Failed to sign up. Please try again.")}finally{N(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Sign Up | Survey Link Manager"}),(0,a.jsx)("meta",{name:"description",content:"Create an account for the survey link management admin panel"})]}),(0,a.jsx)(m.Z,{redirectTo:"/admin",children:(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 px-4 py-12 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create an Account"}),(0,a.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign up to access the survey link management dashboard"})]}),y&&(0,a.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:y})]})]})}),C&&(0,a.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Success"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-green-700",children:C})]})]})}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:_,children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,a.jsx)("input",{id:"firstName",name:"firstName",type:"text",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",value:p,onChange:e=>b(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,a.jsx)("input",{id:"lastName",name:"lastName",type:"text",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",value:j,onChange:e=>v(e.target.value)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,a.jsx)("input",{id:"username",name:"username",type:"text",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Username",value:t,onChange:e=>l(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Email",value:o,onChange:e=>u(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Password",value:x,onChange:e=>h(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Confirm Password",value:f,onChange:e=>g(e.target.value)})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"group relative flex w-full justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",disabled:w,children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:(0,a.jsxs)("svg",{className:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}),"Creating account..."]}):"Create Account"})}),(0,a.jsxs)("div",{className:"text-sm text-center",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Already have an account? "}),(0,a.jsx)(d(),{href:"/admin/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})]})]})})})]})}},1163:function(e,s,t){e.exports=t(3079)}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=3082)}),_N_E=e.O()}]);