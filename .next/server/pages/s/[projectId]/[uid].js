/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/s/[projectId]/[uid]";
exports.ids = ["pages/s/[projectId]/[uid]"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fs%2F%5BprojectId%5D%2F%5Buid%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fs%2F%5BprojectId%5D%2F%5Buid%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fs%2F%5BprojectId%5D%2F%5Buid%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fs%2F%5BprojectId%5D%2F%5Buid%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./src/pages/_app.tsx\");\n/* harmony import */ var _src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./src/pages/s/[projectId]/[uid].tsx */ \"./src/pages/s/[projectId]/[uid].tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__]);\n([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/s/[projectId]/[uid]\",\n        pathname: \"/s/[projectId]/[uid]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _src_pages_s_projectId_uid_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGcyUyRiU1QnByb2plY3RJZCU1RCUyRiU1QnVpZCU1RCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyUyRnBhZ2VzJTJGcyUyRiU1QnByb2plY3RJZCU1RCUyRiU1QnVpZCU1RC50c3gmYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUNoQztBQUNMO0FBQzFEO0FBQ29EO0FBQ1Y7QUFDMUM7QUFDZ0U7QUFDaEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDJEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLHVCQUF1Qix3RUFBSyxDQUFDLDJEQUFRO0FBQ3JDLHVCQUF1Qix3RUFBSyxDQUFDLDJEQUFRO0FBQ3JDLDJCQUEyQix3RUFBSyxDQUFDLDJEQUFRO0FBQ3pDLGVBQWUsd0VBQUssQ0FBQywyREFBUTtBQUM3Qix3QkFBd0Isd0VBQUssQ0FBQywyREFBUTtBQUM3QztBQUNPLGdDQUFnQyx3RUFBSyxDQUFDLDJEQUFRO0FBQzlDLGdDQUFnQyx3RUFBSyxDQUFDLDJEQUFRO0FBQzlDLGlDQUFpQyx3RUFBSyxDQUFDLDJEQUFRO0FBQy9DLGdDQUFnQyx3RUFBSyxDQUFDLDJEQUFRO0FBQzlDLG9DQUFvQyx3RUFBSyxDQUFDLDJEQUFRO0FBQ3pEO0FBQ08sd0JBQXdCLHlHQUFnQjtBQUMvQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFdBQVc7QUFDWCxnQkFBZ0I7QUFDaEIsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELGlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VydmV5LWxpbmstd3JhcHBlci8/NDhhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc1JvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCBEb2N1bWVudCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19kb2N1bWVudFwiO1xuaW1wb3J0IEFwcCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyYy9wYWdlcy9zL1twcm9qZWN0SWRdL1t1aWRdLnRzeFwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL3MvW3Byb2plY3RJZF0vW3VpZF1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL3MvW3Byb2plY3RJZF0vW3VpZF1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fs%2F%5BprojectId%5D%2F%5Buid%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fs%2F%5BprojectId%5D%2F%5Buid%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./src/components/BehaviorTracker.tsx":
/*!********************************************!*\
  !*** ./src/components/BehaviorTracker.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * Component to track user behavior for bot detection\n */ const BehaviorTracker = ({ onDataCollected, startTracking = true })=>{\n    // Store behavior data\n    const behaviorData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n        mouseMovements: 0,\n        keyboardEvents: 0,\n        clickPattern: [],\n        idleTime: 0,\n        mouseCurve: [],\n        copyPasteEvents: 0,\n        scrollEvents: 0,\n        focusEvents: 0,\n        resizeEvents: 0,\n        suspiciousPatterns: [],\n        totalTime: 0,\n        activityRate: 0\n    });\n    // Track start time for total time calculation\n    const startTime = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(Date.now());\n    // Track last activity time for idle detection\n    const lastActivity = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(Date.now());\n    // Idle checker interval\n    const idleInterval = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!startTracking) return;\n        // Mouse movement tracking\n        const handleMouseMove = (e)=>{\n            behaviorData.current.mouseMovements++;\n            lastActivity.current = Date.now();\n            // Detect suspicious patterns\n            if (e.movementX === 0 && e.movementY === 0) {\n                if (!behaviorData.current.suspiciousPatterns.includes(\"Zero movement detected\")) {\n                    behaviorData.current.suspiciousPatterns.push(\"Zero movement detected\");\n                }\n            }\n            // Detect unusually fast movements\n            const movementSpeed = Math.sqrt(e.movementX ** 2 + e.movementY ** 2);\n            if (movementSpeed > 50) {\n                if (!behaviorData.current.suspiciousPatterns.includes(\"Unusually fast mouse movement\")) {\n                    behaviorData.current.suspiciousPatterns.push(\"Unusually fast mouse movement\");\n                }\n            }\n            // Sample mouse position data (don't track every single movement to save memory)\n            if (behaviorData.current.mouseMovements % 10 === 0) {\n                behaviorData.current.mouseCurve.push({\n                    x: e.clientX,\n                    y: e.clientY,\n                    timestamp: Date.now()\n                });\n                // Limit stored points to prevent excessive memory usage\n                if (behaviorData.current.mouseCurve.length > 100) {\n                    behaviorData.current.mouseCurve.shift();\n                }\n            }\n        };\n        // Click tracking\n        const handleClick = (e)=>{\n            const currentTime = Date.now();\n            behaviorData.current.clickPattern.push(currentTime);\n            lastActivity.current = currentTime;\n            // Detect rapid clicking\n            if (behaviorData.current.clickPattern.length > 1) {\n                const timeDiff = currentTime - behaviorData.current.clickPattern[behaviorData.current.clickPattern.length - 2];\n                if (timeDiff < 100) {\n                    if (!behaviorData.current.suspiciousPatterns.includes(\"Rapid clicking detected\")) {\n                        behaviorData.current.suspiciousPatterns.push(\"Rapid clicking detected\");\n                    }\n                }\n            }\n            // Limit stored clicks to prevent excessive memory usage\n            if (behaviorData.current.clickPattern.length > 50) {\n                behaviorData.current.clickPattern.shift();\n            }\n        };\n        // Keyboard activity tracking\n        const handleKeyDown = (e)=>{\n            behaviorData.current.keyboardEvents++;\n            lastActivity.current = Date.now();\n            // Detect suspicious keyboard patterns\n            if (e.repeat && e.key === \" \") {\n                if (!behaviorData.current.suspiciousPatterns.includes(\"Repeated space key detected\")) {\n                    behaviorData.current.suspiciousPatterns.push(\"Repeated space key detected\");\n                }\n            }\n        };\n        // Scroll tracking\n        const handleScroll = ()=>{\n            behaviorData.current.scrollEvents++;\n            lastActivity.current = Date.now();\n        };\n        // Focus tracking\n        const handleFocus = ()=>{\n            behaviorData.current.focusEvents++;\n            lastActivity.current = Date.now();\n        };\n        // Resize tracking\n        const handleResize = ()=>{\n            behaviorData.current.resizeEvents++;\n            lastActivity.current = Date.now();\n        };\n        // Copy/paste detection\n        const handleCopy = (e)=>{\n            behaviorData.current.copyPasteEvents++;\n            lastActivity.current = Date.now();\n        };\n        const handlePaste = (e)=>{\n            behaviorData.current.copyPasteEvents++;\n            lastActivity.current = Date.now();\n        };\n        // Idle time tracking and data reporting\n        idleInterval.current = setInterval(()=>{\n            const currentTime = Date.now();\n            const idleTime = currentTime - lastActivity.current;\n            behaviorData.current.idleTime = Math.floor(idleTime / 1000); // Convert to seconds\n            // Calculate total time and activity rate\n            behaviorData.current.totalTime = currentTime - startTime.current;\n            const totalTimeInSeconds = behaviorData.current.totalTime / 1000;\n            behaviorData.current.activityRate = totalTimeInSeconds > 0 ? (behaviorData.current.mouseMovements + behaviorData.current.keyboardEvents) / totalTimeInSeconds : 0;\n            // Report data every 5 seconds\n            if (idleTime % 5000 < 1000) {\n                onDataCollected({\n                    ...behaviorData.current\n                });\n            }\n        }, 1000);\n        // Add event listeners\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"click\", handleClick);\n        document.addEventListener(\"keydown\", handleKeyDown);\n        document.addEventListener(\"scroll\", handleScroll);\n        document.addEventListener(\"focus\", handleFocus);\n        document.addEventListener(\"resize\", handleResize);\n        document.addEventListener(\"copy\", handleCopy);\n        document.addEventListener(\"paste\", handlePaste);\n        // Report initial data\n        onDataCollected({\n            ...behaviorData.current\n        });\n        // Cleanup\n        return ()=>{\n            document.removeEventListener(\"mousemove\", handleMouseMove);\n            document.removeEventListener(\"click\", handleClick);\n            document.removeEventListener(\"keydown\", handleKeyDown);\n            document.removeEventListener(\"scroll\", handleScroll);\n            document.removeEventListener(\"focus\", handleFocus);\n            document.removeEventListener(\"resize\", handleResize);\n            document.removeEventListener(\"copy\", handleCopy);\n            document.removeEventListener(\"paste\", handlePaste);\n            if (idleInterval.current) {\n                clearInterval(idleInterval.current);\n            }\n            // Calculate final data\n            const currentTime = Date.now();\n            behaviorData.current.totalTime = currentTime - startTime.current;\n            const totalTimeInSeconds = behaviorData.current.totalTime / 1000;\n            behaviorData.current.activityRate = totalTimeInSeconds > 0 ? (behaviorData.current.mouseMovements + behaviorData.current.keyboardEvents) / totalTimeInSeconds : 0;\n            // Report final data on unmount\n            onDataCollected({\n                ...behaviorData.current\n            });\n        };\n    }, [\n        onDataCollected,\n        startTracking\n    ]);\n    // This component doesn't render anything visible\n    return null;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BehaviorTracker);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bmVudHMvQmVoYXZpb3JUcmFja2VyLnRzeD8yZjRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgQmVoYXZpb3JUcmFja2VyUHJvcHMge1xuICBvbkRhdGFDb2xsZWN0ZWQ6IChkYXRhOiBCZWhhdmlvckRhdGEpID0+IHZvaWQ7XG4gIHN0YXJ0VHJhY2tpbmc/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJlaGF2aW9yRGF0YSB7XG4gIG1vdXNlTW92ZW1lbnRzOiBudW1iZXI7XG4gIGtleWJvYXJkRXZlbnRzOiBudW1iZXI7XG4gIGNsaWNrUGF0dGVybjogbnVtYmVyW107XG4gIGlkbGVUaW1lOiBudW1iZXI7XG4gIG1vdXNlQ3VydmU6IHt4OiBudW1iZXIsIHk6IG51bWJlciwgdGltZXN0YW1wOiBudW1iZXJ9W107XG4gIGNvcHlQYXN0ZUV2ZW50czogbnVtYmVyO1xuICBzY3JvbGxFdmVudHM6IG51bWJlcjtcbiAgZm9jdXNFdmVudHM6IG51bWJlcjtcbiAgcmVzaXplRXZlbnRzOiBudW1iZXI7XG4gIHN1c3BpY2lvdXNQYXR0ZXJuczogc3RyaW5nW107XG4gIHRvdGFsVGltZTogbnVtYmVyO1xuICBhY3Rpdml0eVJhdGU6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBDb21wb25lbnQgdG8gdHJhY2sgdXNlciBiZWhhdmlvciBmb3IgYm90IGRldGVjdGlvblxuICovXG5jb25zdCBCZWhhdmlvclRyYWNrZXI6IFJlYWN0LkZDPEJlaGF2aW9yVHJhY2tlclByb3BzPiA9ICh7IFxuICBvbkRhdGFDb2xsZWN0ZWQsIFxuICBzdGFydFRyYWNraW5nID0gdHJ1ZSBcbn0pID0+IHtcbiAgLy8gU3RvcmUgYmVoYXZpb3IgZGF0YVxuICBjb25zdCBiZWhhdmlvckRhdGEgPSB1c2VSZWY8QmVoYXZpb3JEYXRhPih7XG4gICAgbW91c2VNb3ZlbWVudHM6IDAsXG4gICAga2V5Ym9hcmRFdmVudHM6IDAsXG4gICAgY2xpY2tQYXR0ZXJuOiBbXSxcbiAgICBpZGxlVGltZTogMCxcbiAgICBtb3VzZUN1cnZlOiBbXSxcbiAgICBjb3B5UGFzdGVFdmVudHM6IDAsXG4gICAgc2Nyb2xsRXZlbnRzOiAwLFxuICAgIGZvY3VzRXZlbnRzOiAwLFxuICAgIHJlc2l6ZUV2ZW50czogMCxcbiAgICBzdXNwaWNpb3VzUGF0dGVybnM6IFtdLFxuICAgIHRvdGFsVGltZTogMCxcbiAgICBhY3Rpdml0eVJhdGU6IDAsXG4gIH0pO1xuICBcbiAgLy8gVHJhY2sgc3RhcnQgdGltZSBmb3IgdG90YWwgdGltZSBjYWxjdWxhdGlvblxuICBjb25zdCBzdGFydFRpbWUgPSB1c2VSZWY8bnVtYmVyPihEYXRlLm5vdygpKTtcbiAgXG4gIC8vIFRyYWNrIGxhc3QgYWN0aXZpdHkgdGltZSBmb3IgaWRsZSBkZXRlY3Rpb25cbiAgY29uc3QgbGFzdEFjdGl2aXR5ID0gdXNlUmVmPG51bWJlcj4oRGF0ZS5ub3coKSk7XG4gIFxuICAvLyBJZGxlIGNoZWNrZXIgaW50ZXJ2YWxcbiAgY29uc3QgaWRsZUludGVydmFsID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc3RhcnRUcmFja2luZykgcmV0dXJuO1xuICAgIFxuICAgIC8vIE1vdXNlIG1vdmVtZW50IHRyYWNraW5nXG4gICAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGJlaGF2aW9yRGF0YS5jdXJyZW50Lm1vdXNlTW92ZW1lbnRzKys7XG4gICAgICBsYXN0QWN0aXZpdHkuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIC8vIERldGVjdCBzdXNwaWNpb3VzIHBhdHRlcm5zXG4gICAgICBpZiAoZS5tb3ZlbWVudFggPT09IDAgJiYgZS5tb3ZlbWVudFkgPT09IDApIHtcbiAgICAgICAgaWYgKCFiZWhhdmlvckRhdGEuY3VycmVudC5zdXNwaWNpb3VzUGF0dGVybnMuaW5jbHVkZXMoJ1plcm8gbW92ZW1lbnQgZGV0ZWN0ZWQnKSkge1xuICAgICAgICAgIGJlaGF2aW9yRGF0YS5jdXJyZW50LnN1c3BpY2lvdXNQYXR0ZXJucy5wdXNoKCdaZXJvIG1vdmVtZW50IGRldGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRGV0ZWN0IHVudXN1YWxseSBmYXN0IG1vdmVtZW50c1xuICAgICAgY29uc3QgbW92ZW1lbnRTcGVlZCA9IE1hdGguc3FydChlLm1vdmVtZW50WCAqKiAyICsgZS5tb3ZlbWVudFkgKiogMik7XG4gICAgICBpZiAobW92ZW1lbnRTcGVlZCA+IDUwKSB7XG4gICAgICAgIGlmICghYmVoYXZpb3JEYXRhLmN1cnJlbnQuc3VzcGljaW91c1BhdHRlcm5zLmluY2x1ZGVzKCdVbnVzdWFsbHkgZmFzdCBtb3VzZSBtb3ZlbWVudCcpKSB7XG4gICAgICAgICAgYmVoYXZpb3JEYXRhLmN1cnJlbnQuc3VzcGljaW91c1BhdHRlcm5zLnB1c2goJ1VudXN1YWxseSBmYXN0IG1vdXNlIG1vdmVtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2FtcGxlIG1vdXNlIHBvc2l0aW9uIGRhdGEgKGRvbid0IHRyYWNrIGV2ZXJ5IHNpbmdsZSBtb3ZlbWVudCB0byBzYXZlIG1lbW9yeSlcbiAgICAgIGlmIChiZWhhdmlvckRhdGEuY3VycmVudC5tb3VzZU1vdmVtZW50cyAlIDEwID09PSAwKSB7IC8vIFNhbXBsZSBldmVyeSAxMHRoIG1vdmVtZW50XG4gICAgICAgIGJlaGF2aW9yRGF0YS5jdXJyZW50Lm1vdXNlQ3VydmUucHVzaCh7XG4gICAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICAgIHk6IGUuY2xpZW50WSxcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBMaW1pdCBzdG9yZWQgcG9pbnRzIHRvIHByZXZlbnQgZXhjZXNzaXZlIG1lbW9yeSB1c2FnZVxuICAgICAgICBpZiAoYmVoYXZpb3JEYXRhLmN1cnJlbnQubW91c2VDdXJ2ZS5sZW5ndGggPiAxMDApIHtcbiAgICAgICAgICBiZWhhdmlvckRhdGEuY3VycmVudC5tb3VzZUN1cnZlLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIENsaWNrIHRyYWNraW5nXG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgYmVoYXZpb3JEYXRhLmN1cnJlbnQuY2xpY2tQYXR0ZXJuLnB1c2goY3VycmVudFRpbWUpO1xuICAgICAgbGFzdEFjdGl2aXR5LmN1cnJlbnQgPSBjdXJyZW50VGltZTtcbiAgICAgIFxuICAgICAgLy8gRGV0ZWN0IHJhcGlkIGNsaWNraW5nXG4gICAgICBpZiAoYmVoYXZpb3JEYXRhLmN1cnJlbnQuY2xpY2tQYXR0ZXJuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgdGltZURpZmYgPSBjdXJyZW50VGltZSAtIGJlaGF2aW9yRGF0YS5jdXJyZW50LmNsaWNrUGF0dGVybltiZWhhdmlvckRhdGEuY3VycmVudC5jbGlja1BhdHRlcm4ubGVuZ3RoIC0gMl07XG4gICAgICAgIGlmICh0aW1lRGlmZiA8IDEwMCkge1xuICAgICAgICAgIGlmICghYmVoYXZpb3JEYXRhLmN1cnJlbnQuc3VzcGljaW91c1BhdHRlcm5zLmluY2x1ZGVzKCdSYXBpZCBjbGlja2luZyBkZXRlY3RlZCcpKSB7XG4gICAgICAgICAgICBiZWhhdmlvckRhdGEuY3VycmVudC5zdXNwaWNpb3VzUGF0dGVybnMucHVzaCgnUmFwaWQgY2xpY2tpbmcgZGV0ZWN0ZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTGltaXQgc3RvcmVkIGNsaWNrcyB0byBwcmV2ZW50IGV4Y2Vzc2l2ZSBtZW1vcnkgdXNhZ2VcbiAgICAgIGlmIChiZWhhdmlvckRhdGEuY3VycmVudC5jbGlja1BhdHRlcm4ubGVuZ3RoID4gNTApIHtcbiAgICAgICAgYmVoYXZpb3JEYXRhLmN1cnJlbnQuY2xpY2tQYXR0ZXJuLnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBLZXlib2FyZCBhY3Rpdml0eSB0cmFja2luZ1xuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgYmVoYXZpb3JEYXRhLmN1cnJlbnQua2V5Ym9hcmRFdmVudHMrKztcbiAgICAgIGxhc3RBY3Rpdml0eS5jdXJyZW50ID0gRGF0ZS5ub3coKTtcbiAgICAgIFxuICAgICAgLy8gRGV0ZWN0IHN1c3BpY2lvdXMga2V5Ym9hcmQgcGF0dGVybnNcbiAgICAgIGlmIChlLnJlcGVhdCAmJiBlLmtleSA9PT0gJyAnKSB7XG4gICAgICAgIGlmICghYmVoYXZpb3JEYXRhLmN1cnJlbnQuc3VzcGljaW91c1BhdHRlcm5zLmluY2x1ZGVzKCdSZXBlYXRlZCBzcGFjZSBrZXkgZGV0ZWN0ZWQnKSkge1xuICAgICAgICAgIGJlaGF2aW9yRGF0YS5jdXJyZW50LnN1c3BpY2lvdXNQYXR0ZXJucy5wdXNoKCdSZXBlYXRlZCBzcGFjZSBrZXkgZGV0ZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gU2Nyb2xsIHRyYWNraW5nXG4gICAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKCkgPT4ge1xuICAgICAgYmVoYXZpb3JEYXRhLmN1cnJlbnQuc2Nyb2xsRXZlbnRzKys7XG4gICAgICBsYXN0QWN0aXZpdHkuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgfTtcbiAgICBcbiAgICAvLyBGb2N1cyB0cmFja2luZ1xuICAgIGNvbnN0IGhhbmRsZUZvY3VzID0gKCkgPT4ge1xuICAgICAgYmVoYXZpb3JEYXRhLmN1cnJlbnQuZm9jdXNFdmVudHMrKztcbiAgICAgIGxhc3RBY3Rpdml0eS5jdXJyZW50ID0gRGF0ZS5ub3coKTtcbiAgICB9O1xuICAgIFxuICAgIC8vIFJlc2l6ZSB0cmFja2luZ1xuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGJlaGF2aW9yRGF0YS5jdXJyZW50LnJlc2l6ZUV2ZW50cysrO1xuICAgICAgbGFzdEFjdGl2aXR5LmN1cnJlbnQgPSBEYXRlLm5vdygpO1xuICAgIH07XG4gICAgXG4gICAgLy8gQ29weS9wYXN0ZSBkZXRlY3Rpb25cbiAgICBjb25zdCBoYW5kbGVDb3B5ID0gKGU6IENsaXBib2FyZEV2ZW50KSA9PiB7XG4gICAgICBiZWhhdmlvckRhdGEuY3VycmVudC5jb3B5UGFzdGVFdmVudHMrKztcbiAgICAgIGxhc3RBY3Rpdml0eS5jdXJyZW50ID0gRGF0ZS5ub3coKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVBhc3RlID0gKGU6IENsaXBib2FyZEV2ZW50KSA9PiB7XG4gICAgICBiZWhhdmlvckRhdGEuY3VycmVudC5jb3B5UGFzdGVFdmVudHMrKztcbiAgICAgIGxhc3RBY3Rpdml0eS5jdXJyZW50ID0gRGF0ZS5ub3coKTtcbiAgICB9O1xuICAgIFxuICAgIC8vIElkbGUgdGltZSB0cmFja2luZyBhbmQgZGF0YSByZXBvcnRpbmdcbiAgICBpZGxlSW50ZXJ2YWwuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IGlkbGVUaW1lID0gY3VycmVudFRpbWUgLSBsYXN0QWN0aXZpdHkuY3VycmVudDtcbiAgICAgIGJlaGF2aW9yRGF0YS5jdXJyZW50LmlkbGVUaW1lID0gTWF0aC5mbG9vcihpZGxlVGltZSAvIDEwMDApOyAvLyBDb252ZXJ0IHRvIHNlY29uZHNcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIHRvdGFsIHRpbWUgYW5kIGFjdGl2aXR5IHJhdGVcbiAgICAgIGJlaGF2aW9yRGF0YS5jdXJyZW50LnRvdGFsVGltZSA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lLmN1cnJlbnQ7XG4gICAgICBjb25zdCB0b3RhbFRpbWVJblNlY29uZHMgPSBiZWhhdmlvckRhdGEuY3VycmVudC50b3RhbFRpbWUgLyAxMDAwO1xuICAgICAgYmVoYXZpb3JEYXRhLmN1cnJlbnQuYWN0aXZpdHlSYXRlID0gdG90YWxUaW1lSW5TZWNvbmRzID4gMCA/IFxuICAgICAgICAoYmVoYXZpb3JEYXRhLmN1cnJlbnQubW91c2VNb3ZlbWVudHMgKyBiZWhhdmlvckRhdGEuY3VycmVudC5rZXlib2FyZEV2ZW50cykgLyB0b3RhbFRpbWVJblNlY29uZHMgOiAwO1xuICAgICAgXG4gICAgICAvLyBSZXBvcnQgZGF0YSBldmVyeSA1IHNlY29uZHNcbiAgICAgIGlmIChpZGxlVGltZSAlIDUwMDAgPCAxMDAwKSB7XG4gICAgICAgIG9uRGF0YUNvbGxlY3RlZCh7IC4uLmJlaGF2aW9yRGF0YS5jdXJyZW50IH0pO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICAgIFxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaGFuZGxlRm9jdXMpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29weScsIGhhbmRsZUNvcHkpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgaGFuZGxlUGFzdGUpO1xuICAgIFxuICAgIC8vIFJlcG9ydCBpbml0aWFsIGRhdGFcbiAgICBvbkRhdGFDb2xsZWN0ZWQoeyAuLi5iZWhhdmlvckRhdGEuY3VycmVudCB9KTtcbiAgICBcbiAgICAvLyBDbGVhbnVwXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIGhhbmRsZUZvY3VzKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb3B5JywgaGFuZGxlQ29weSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwYXN0ZScsIGhhbmRsZVBhc3RlKTtcbiAgICAgIFxuICAgICAgaWYgKGlkbGVJbnRlcnZhbC5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaWRsZUludGVydmFsLmN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgZmluYWwgZGF0YVxuICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgYmVoYXZpb3JEYXRhLmN1cnJlbnQudG90YWxUaW1lID0gY3VycmVudFRpbWUgLSBzdGFydFRpbWUuY3VycmVudDtcbiAgICAgIGNvbnN0IHRvdGFsVGltZUluU2Vjb25kcyA9IGJlaGF2aW9yRGF0YS5jdXJyZW50LnRvdGFsVGltZSAvIDEwMDA7XG4gICAgICBiZWhhdmlvckRhdGEuY3VycmVudC5hY3Rpdml0eVJhdGUgPSB0b3RhbFRpbWVJblNlY29uZHMgPiAwID8gXG4gICAgICAgIChiZWhhdmlvckRhdGEuY3VycmVudC5tb3VzZU1vdmVtZW50cyArIGJlaGF2aW9yRGF0YS5jdXJyZW50LmtleWJvYXJkRXZlbnRzKSAvIHRvdGFsVGltZUluU2Vjb25kcyA6IDA7XG4gICAgICBcbiAgICAgIC8vIFJlcG9ydCBmaW5hbCBkYXRhIG9uIHVubW91bnRcbiAgICAgIG9uRGF0YUNvbGxlY3RlZCh7IC4uLmJlaGF2aW9yRGF0YS5jdXJyZW50IH0pO1xuICAgIH07XG4gIH0sIFtvbkRhdGFDb2xsZWN0ZWQsIHN0YXJ0VHJhY2tpbmddKTtcbiAgXG4gIC8vIFRoaXMgY29tcG9uZW50IGRvZXNuJ3QgcmVuZGVyIGFueXRoaW5nIHZpc2libGVcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCZWhhdmlvclRyYWNrZXI7XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwiQmVoYXZpb3JUcmFja2VyIiwib25EYXRhQ29sbGVjdGVkIiwic3RhcnRUcmFja2luZyIsImJlaGF2aW9yRGF0YSIsIm1vdXNlTW92ZW1lbnRzIiwia2V5Ym9hcmRFdmVudHMiLCJjbGlja1BhdHRlcm4iLCJpZGxlVGltZSIsIm1vdXNlQ3VydmUiLCJjb3B5UGFzdGVFdmVudHMiLCJzY3JvbGxFdmVudHMiLCJmb2N1c0V2ZW50cyIsInJlc2l6ZUV2ZW50cyIsInN1c3BpY2lvdXNQYXR0ZXJucyIsInRvdGFsVGltZSIsImFjdGl2aXR5UmF0ZSIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJsYXN0QWN0aXZpdHkiLCJpZGxlSW50ZXJ2YWwiLCJoYW5kbGVNb3VzZU1vdmUiLCJlIiwiY3VycmVudCIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsImluY2x1ZGVzIiwicHVzaCIsIm1vdmVtZW50U3BlZWQiLCJNYXRoIiwic3FydCIsIngiLCJjbGllbnRYIiwieSIsImNsaWVudFkiLCJ0aW1lc3RhbXAiLCJsZW5ndGgiLCJzaGlmdCIsImhhbmRsZUNsaWNrIiwiY3VycmVudFRpbWUiLCJ0aW1lRGlmZiIsImhhbmRsZUtleURvd24iLCJyZXBlYXQiLCJrZXkiLCJoYW5kbGVTY3JvbGwiLCJoYW5kbGVGb2N1cyIsImhhbmRsZVJlc2l6ZSIsImhhbmRsZUNvcHkiLCJoYW5kbGVQYXN0ZSIsInNldEludGVydmFsIiwiZmxvb3IiLCJ0b3RhbFRpbWVJblNlY29uZHMiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xlYXJJbnRlcnZhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/BehaviorTracker.tsx\n");

/***/ }),

/***/ "./src/components/CustomCaptcha.tsx":
/*!******************************************!*\
  !*** ./src/components/CustomCaptcha.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst CustomCaptcha = ({ onVerify, difficulty = \"medium\" })=>{\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [challenge, setChallenge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        question: \"\",\n        answer: \"\",\n        type: \"math\"\n    });\n    const [userAnswer, setUserAnswer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [verified, setVerified] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [attemptCount, setAttemptCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // For drag challenges\n    const [draggableItems, setDraggableItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [dragResult, setDragResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // For hold-to-verify challenge\n    const [holdProgress, setHoldProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const holdTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const holdStartTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Generate a challenge based on difficulty\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        generateChallenge();\n    }, [\n        difficulty\n    ]);\n    const generateChallenge = ()=>{\n        setLoading(true);\n        setError(null);\n        try {\n            let captchaChallenge;\n            switch(difficulty){\n                case \"easy\":\n                    captchaChallenge = generateEasyChallenge();\n                    break;\n                case \"hard\":\n                    captchaChallenge = generateHardChallenge();\n                    break;\n                case \"medium\":\n                default:\n                    captchaChallenge = generateMediumChallenge();\n                    break;\n            }\n            setChallenge(captchaChallenge);\n            // If it's a drag challenge, prepare the items\n            if (captchaChallenge.type === \"drag\" && captchaChallenge.items) {\n                setDraggableItems(captchaChallenge.items);\n                setDragResult([]);\n            }\n        } catch (err) {\n            console.error(\"Error generating CAPTCHA challenge:\", err);\n            setError(\"Failed to generate CAPTCHA challenge\");\n        } finally{\n            setLoading(false);\n        }\n    };\n    const generateEasyChallenge = ()=>{\n        // Simple math addition\n        const num1 = Math.floor(Math.random() * 10);\n        const num2 = Math.floor(Math.random() * 10);\n        return {\n            question: `What is ${num1} + ${num2}?`,\n            answer: String(num1 + num2),\n            type: \"math\"\n        };\n    };\n    const generateMediumChallenge = ()=>{\n        const challengeType = Math.random() > 0.5 ? \"math\" : \"drag\";\n        if (challengeType === \"math\") {\n            // Slightly harder math problem\n            const operations = [\n                \"+\",\n                \"-\",\n                \"*\"\n            ];\n            const op = operations[Math.floor(Math.random() * operations.length)];\n            let num1, num2, answer;\n            switch(op){\n                case \"+\":\n                    num1 = Math.floor(Math.random() * 20);\n                    num2 = Math.floor(Math.random() * 20);\n                    answer = num1 + num2;\n                    break;\n                case \"-\":\n                    num1 = Math.floor(Math.random() * 20) + 10;\n                    num2 = Math.floor(Math.random() * num1);\n                    answer = num1 - num2;\n                    break;\n                case \"*\":\n                    num1 = Math.floor(Math.random() * 10);\n                    num2 = Math.floor(Math.random() * 10);\n                    answer = num1 * num2;\n                    break;\n                default:\n                    num1 = 0;\n                    num2 = 0;\n                    answer = 0;\n            }\n            return {\n                question: `What is ${num1} ${op} ${num2}?`,\n                answer: String(answer),\n                type: \"math\"\n            };\n        } else {\n            // Drag and drop challenge\n            const challenges = [\n                {\n                    question: \"Drag to order from smallest to largest\",\n                    items: [\n                        \"5\",\n                        \"2\",\n                        \"9\",\n                        \"1\",\n                        \"7\"\n                    ],\n                    answer: \"12579\"\n                },\n                {\n                    question: \"Drag to order alphabetically\",\n                    items: [\n                        \"dog\",\n                        \"cat\",\n                        \"bird\",\n                        \"fish\",\n                        \"ant\"\n                    ],\n                    answer: \"antbirddogcatfish\"\n                }\n            ];\n            const selectedChallenge = challenges[Math.floor(Math.random() * challenges.length)];\n            return {\n                question: selectedChallenge.question,\n                items: [\n                    ...selectedChallenge.items\n                ].sort(()=>Math.random() - 0.5),\n                answer: selectedChallenge.answer,\n                type: \"drag\"\n            };\n        }\n    };\n    const generateHardChallenge = ()=>{\n        // Hold to verify with intermittent clicks\n        return {\n            question: \"Hold the button and click the targets that appear\",\n            answer: \"hold-complete\",\n            type: \"hold\"\n        };\n    };\n    const handleSubmit = (e)=>{\n        e.preventDefault();\n        setAttemptCount((prev)=>prev + 1);\n        // For drag challenges, join the result array\n        const submittedAnswer = challenge.type === \"drag\" ? dragResult.join(\"\") : userAnswer;\n        if (submittedAnswer.trim() === challenge.answer) {\n            setVerified(true);\n            onVerify(true);\n        } else {\n            setError(\"Incorrect answer, please try again\");\n            // After 3 failed attempts, generate a new challenge\n            if (attemptCount >= 2) {\n                generateChallenge();\n                setAttemptCount(0);\n            }\n        }\n    };\n    // Handle drag and drop\n    const handleDragStart = (e, item)=>{\n        e.dataTransfer.setData(\"text/plain\", item);\n    };\n    const handleDrop = (e)=>{\n        e.preventDefault();\n        const item = e.dataTransfer.getData(\"text/plain\");\n        // Add to result and remove from draggable items\n        setDragResult((prev)=>[\n                ...prev,\n                item\n            ]);\n        setDraggableItems((prev)=>prev.filter((i)=>i !== item));\n    };\n    const handleDragOver = (e)=>{\n        e.preventDefault();\n    };\n    // Handle hold challenge\n    const handleHoldStart = ()=>{\n        holdStartTime.current = Date.now();\n        holdTimer.current = setInterval(()=>{\n            if (holdStartTime.current) {\n                const elapsed = Date.now() - holdStartTime.current;\n                const progress = Math.min(elapsed / 3000, 1); // Complete in 3 seconds\n                setHoldProgress(progress);\n                if (progress >= 1) {\n                    if (holdTimer.current) clearInterval(holdTimer.current);\n                    setVerified(true);\n                    onVerify(true);\n                }\n            }\n        }, 50);\n    };\n    const handleHoldEnd = ()=>{\n        if (holdTimer.current) {\n            clearInterval(holdTimer.current);\n            holdTimer.current = null;\n        }\n        // If they didn't hold long enough, reset progress\n        if (holdProgress < 1) {\n            setHoldProgress(0);\n            holdStartTime.current = null;\n        }\n    };\n    // Cleanup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (holdTimer.current) clearInterval(holdTimer.current);\n        };\n    }, []);\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex justify-center p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                lineNumber: 248,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n            lineNumber: 247,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (verified) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-green-50 p-4 rounded-md\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-green-600\",\n                children: \"Verification successful\"\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                lineNumber: 256,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n            lineNumber: 255,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border p-4 rounded-md shadow-sm mb-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"font-medium text-gray-800 mb-3\",\n                children: \"Security Verification\"\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                lineNumber: 263,\n                columnNumber: 7\n            }, undefined),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-red-50 p-2 rounded-md mb-3\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-red-600 text-sm\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                    lineNumber: 267,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                lineNumber: 266,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-700\",\n                    children: challenge.question\n                }, void 0, false, {\n                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                    lineNumber: 272,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                lineNumber: 271,\n                columnNumber: 7\n            }, undefined),\n            challenge.type === \"math\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSubmit,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        value: userAnswer,\n                        onChange: (e)=>setUserAnswer(e.target.value),\n                        required: true,\n                        placeholder: \"Your answer\",\n                        className: \"w-full p-2 border border-gray-300 rounded-md\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                        lineNumber: 277,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"submit\",\n                            className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n                            children: \"Verify\"\n                        }, void 0, false, {\n                            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                            lineNumber: 287,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                        lineNumber: 286,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                lineNumber: 276,\n                columnNumber: 9\n            }, undefined),\n            challenge.type === \"drag\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"min-h-[100px] bg-gray-100 p-4 rounded-md border-2 border-dashed border-gray-300 mb-4\",\n                        onDrop: handleDrop,\n                        onDragOver: handleDragOver,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-500 mb-2\",\n                                children: \"Drop items here in the correct order\"\n                            }, void 0, false, {\n                                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                                lineNumber: 304,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap gap-2\",\n                                children: dragResult.map((item, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-blue-100 p-2 rounded-md\",\n                                        children: item\n                                    }, `result-${index}`, false, {\n                                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                                        lineNumber: 308,\n                                        columnNumber: 17\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                                lineNumber: 306,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                        lineNumber: 299,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap gap-2 mb-4\",\n                        children: draggableItems.map((item, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                draggable: true,\n                                onDragStart: (e)=>handleDragStart(e, item),\n                                className: \"bg-gray-200 p-2 rounded-md cursor-move\",\n                                children: item\n                            }, `item-${index}`, false, {\n                                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                                lineNumber: 320,\n                                columnNumber: 15\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                        lineNumber: 318,\n                        columnNumber: 11\n                    }, undefined),\n                    dragResult.length === challenge.items?.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleSubmit,\n                        className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n                        children: \"Verify\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                        lineNumber: 332,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                lineNumber: 298,\n                columnNumber: 9\n            }, undefined),\n            challenge.type === \"hold\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full bg-gray-200 rounded-full h-2.5 mb-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-blue-600 h-2.5 rounded-full\",\n                            style: {\n                                width: `${holdProgress * 100}%`\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                            lineNumber: 345,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                        lineNumber: 344,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onMouseDown: handleHoldStart,\n                        onMouseUp: handleHoldEnd,\n                        onMouseLeave: handleHoldEnd,\n                        onTouchStart: handleHoldStart,\n                        onTouchEnd: handleHoldEnd,\n                        className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 w-full\",\n                        children: \"Hold to verify\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                        lineNumber: 351,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n                lineNumber: 343,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/CustomCaptcha.tsx\",\n        lineNumber: 262,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CustomCaptcha);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLdEMsVUFBVTBCLEtBQUssRUFBRVksd0JBQ3RDLDhEQUFDMEM7d0JBQ0NPLFNBQVM3Qzt3QkFDVDJCLFdBQVU7a0NBQ1g7Ozs7Ozs7Ozs7OztZQU9OckUsVUFBVUksSUFBSSxLQUFLLHdCQUNsQiw4REFBQ2dFOztrQ0FDQyw4REFBQ0E7d0JBQUlDLFdBQVU7a0NBQ2IsNEVBQUNEOzRCQUNDQyxXQUFVOzRCQUNWbUIsT0FBTztnQ0FBRUMsT0FBTyxDQUFDLEVBQUV4RSxlQUFlLElBQUksQ0FBQyxDQUFDOzRCQUFDOzs7Ozs7Ozs7OztrQ0FJN0MsOERBQUMrRDt3QkFDQ1UsYUFBYWhDO3dCQUNiaUMsV0FBV3hCO3dCQUNYeUIsY0FBY3pCO3dCQUNkMEIsY0FBY25DO3dCQUNkb0MsWUFBWTNCO3dCQUNaRSxXQUFVO2tDQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPWDtBQUVBLGlFQUFlMUUsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cnZleS1saW5rLXdyYXBwZXIvLi9zcmMvY29tcG9uZW50cy9DdXN0b21DYXB0Y2hhLnRzeD8xZWQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIEN1c3RvbUNhcHRjaGFQcm9wcyB7XG4gIG9uVmVyaWZ5OiAodmVyaWZpZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIGRpZmZpY3VsdHk/OiAnZWFzeScgfCAnbWVkaXVtJyB8ICdoYXJkJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXB0Y2hhU3RhdGUge1xuICB2ZXJpZmllZDogYm9vbGVhbjtcbiAgY2hhbGxlbmdlOiBzdHJpbmc7XG4gIGF0dGVtcHRDb3VudDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQ2FwdGNoYUNoYWxsZW5nZSB7XG4gIHF1ZXN0aW9uOiBzdHJpbmc7XG4gIGFuc3dlcjogc3RyaW5nO1xuICB0eXBlOiAnbWF0aCcgfCAnZHJhZycgfCAnaG9sZCc7XG4gIGl0ZW1zPzogc3RyaW5nW107XG59XG5cbmNvbnN0IEN1c3RvbUNhcHRjaGE6IFJlYWN0LkZDPEN1c3RvbUNhcHRjaGFQcm9wcz4gPSAoeyBcbiAgb25WZXJpZnksIFxuICBkaWZmaWN1bHR5ID0gJ21lZGl1bSdcbn0pID0+IHtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7ICBjb25zdCBbY2hhbGxlbmdlLCBzZXRDaGFsbGVuZ2VdID0gdXNlU3RhdGU8Q2FwdGNoYUNoYWxsZW5nZT4oeyBcbiAgICBxdWVzdGlvbjogJycsIFxuICAgIGFuc3dlcjogJycsXG4gICAgdHlwZTogJ21hdGgnXG4gIH0pO1xuICBjb25zdCBbdXNlckFuc3dlciwgc2V0VXNlckFuc3dlcl0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt2ZXJpZmllZCwgc2V0VmVyaWZpZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYXR0ZW1wdENvdW50LCBzZXRBdHRlbXB0Q291bnRdID0gdXNlU3RhdGUoMCk7XG4gIFxuICAvLyBGb3IgZHJhZyBjaGFsbGVuZ2VzXG4gIGNvbnN0IFtkcmFnZ2FibGVJdGVtcywgc2V0RHJhZ2dhYmxlSXRlbXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW2RyYWdSZXN1bHQsIHNldERyYWdSZXN1bHRdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgXG4gIC8vIEZvciBob2xkLXRvLXZlcmlmeSBjaGFsbGVuZ2VcbiAgY29uc3QgW2hvbGRQcm9ncmVzcywgc2V0SG9sZFByb2dyZXNzXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBob2xkVGltZXIgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgaG9sZFN0YXJ0VGltZSA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgXG4gIC8vIEdlbmVyYXRlIGEgY2hhbGxlbmdlIGJhc2VkIG9uIGRpZmZpY3VsdHlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBnZW5lcmF0ZUNoYWxsZW5nZSgpO1xuICB9LCBbZGlmZmljdWx0eV0pO1xuICBcbiAgY29uc3QgZ2VuZXJhdGVDaGFsbGVuZ2UgPSAoKSA9PiB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgbGV0IGNhcHRjaGFDaGFsbGVuZ2U7XG4gICAgICBcbiAgICAgIHN3aXRjaCAoZGlmZmljdWx0eSkge1xuICAgICAgICBjYXNlICdlYXN5JzpcbiAgICAgICAgICBjYXB0Y2hhQ2hhbGxlbmdlID0gZ2VuZXJhdGVFYXN5Q2hhbGxlbmdlKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2hhcmQnOlxuICAgICAgICAgIGNhcHRjaGFDaGFsbGVuZ2UgPSBnZW5lcmF0ZUhhcmRDaGFsbGVuZ2UoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWVkaXVtJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjYXB0Y2hhQ2hhbGxlbmdlID0gZ2VuZXJhdGVNZWRpdW1DaGFsbGVuZ2UoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0Q2hhbGxlbmdlKGNhcHRjaGFDaGFsbGVuZ2UpO1xuICAgICAgICAvLyBJZiBpdCdzIGEgZHJhZyBjaGFsbGVuZ2UsIHByZXBhcmUgdGhlIGl0ZW1zXG4gICAgICBpZiAoY2FwdGNoYUNoYWxsZW5nZS50eXBlID09PSAnZHJhZycgJiYgY2FwdGNoYUNoYWxsZW5nZS5pdGVtcykge1xuICAgICAgICBzZXREcmFnZ2FibGVJdGVtcyhjYXB0Y2hhQ2hhbGxlbmdlLml0ZW1zKTtcbiAgICAgICAgc2V0RHJhZ1Jlc3VsdChbXSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIENBUFRDSEEgY2hhbGxlbmdlOicsIGVycik7XG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIENBUFRDSEEgY2hhbGxlbmdlJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcbiAgICBjb25zdCBnZW5lcmF0ZUVhc3lDaGFsbGVuZ2UgPSAoKTogQ2FwdGNoYUNoYWxsZW5nZSA9PiB7XG4gICAgLy8gU2ltcGxlIG1hdGggYWRkaXRpb25cbiAgICBjb25zdCBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgIGNvbnN0IG51bTIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHF1ZXN0aW9uOiBgV2hhdCBpcyAke251bTF9ICsgJHtudW0yfT9gLFxuICAgICAgYW5zd2VyOiBTdHJpbmcobnVtMSArIG51bTIpLFxuICAgICAgdHlwZTogJ21hdGgnXG4gICAgfTtcbiAgfTtcbiAgICBjb25zdCBnZW5lcmF0ZU1lZGl1bUNoYWxsZW5nZSA9ICgpOiBDYXB0Y2hhQ2hhbGxlbmdlID0+IHtcbiAgICBjb25zdCBjaGFsbGVuZ2VUeXBlID0gTWF0aC5yYW5kb20oKSA+IDAuNSA/ICdtYXRoJyA6ICdkcmFnJztcbiAgICBcbiAgICBpZiAoY2hhbGxlbmdlVHlwZSA9PT0gJ21hdGgnKSB7XG4gICAgICAvLyBTbGlnaHRseSBoYXJkZXIgbWF0aCBwcm9ibGVtXG4gICAgICBjb25zdCBvcGVyYXRpb25zID0gWycrJywgJy0nLCAnKiddO1xuICAgICAgY29uc3Qgb3AgPSBvcGVyYXRpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG9wZXJhdGlvbnMubGVuZ3RoKV07XG4gICAgICBcbiAgICAgIGxldCBudW0xOiBudW1iZXIsIG51bTI6IG51bWJlciwgYW5zd2VyOiBudW1iZXI7XG4gICAgICBcbiAgICAgIHN3aXRjaCAob3ApIHtcbiAgICAgICAgY2FzZSAnKyc6XG4gICAgICAgICAgbnVtMSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwKTtcbiAgICAgICAgICBudW0yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjApO1xuICAgICAgICAgIGFuc3dlciA9IG51bTEgKyBudW0yO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjApICsgMTA7XG4gICAgICAgICAgbnVtMiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG51bTEpO1xuICAgICAgICAgIGFuc3dlciA9IG51bTEgLSBudW0yO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcqJzpcbiAgICAgICAgICBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgICAgICAgIG51bTIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgICAgICAgYW5zd2VyID0gbnVtMSAqIG51bTI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbnVtMSA9IDA7XG4gICAgICAgICAgbnVtMiA9IDA7XG4gICAgICAgICAgYW5zd2VyID0gMDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcXVlc3Rpb246IGBXaGF0IGlzICR7bnVtMX0gJHtvcH0gJHtudW0yfT9gLFxuICAgICAgICBhbnN3ZXI6IFN0cmluZyhhbnN3ZXIpLFxuICAgICAgICB0eXBlOiAnbWF0aCdcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERyYWcgYW5kIGRyb3AgY2hhbGxlbmdlXG4gICAgICBjb25zdCBjaGFsbGVuZ2VzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgcXVlc3Rpb246ICdEcmFnIHRvIG9yZGVyIGZyb20gc21hbGxlc3QgdG8gbGFyZ2VzdCcsXG4gICAgICAgICAgaXRlbXM6IFsnNScsICcyJywgJzknLCAnMScsICc3J10sXG4gICAgICAgICAgYW5zd2VyOiAnMTI1NzknXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBxdWVzdGlvbjogJ0RyYWcgdG8gb3JkZXIgYWxwaGFiZXRpY2FsbHknLFxuICAgICAgICAgIGl0ZW1zOiBbJ2RvZycsICdjYXQnLCAnYmlyZCcsICdmaXNoJywgJ2FudCddLFxuICAgICAgICAgIGFuc3dlcjogJ2FudGJpcmRkb2djYXRmaXNoJ1xuICAgICAgICB9XG4gICAgICBdO1xuICAgICAgXG4gICAgICBjb25zdCBzZWxlY3RlZENoYWxsZW5nZSA9IGNoYWxsZW5nZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhbGxlbmdlcy5sZW5ndGgpXTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcXVlc3Rpb246IHNlbGVjdGVkQ2hhbGxlbmdlLnF1ZXN0aW9uLFxuICAgICAgICBpdGVtczogWy4uLnNlbGVjdGVkQ2hhbGxlbmdlLml0ZW1zXS5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpLFxuICAgICAgICBhbnN3ZXI6IHNlbGVjdGVkQ2hhbGxlbmdlLmFuc3dlcixcbiAgICAgICAgdHlwZTogJ2RyYWcnIGFzIGNvbnN0XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgICBjb25zdCBnZW5lcmF0ZUhhcmRDaGFsbGVuZ2UgPSAoKTogQ2FwdGNoYUNoYWxsZW5nZSA9PiB7XG4gICAgLy8gSG9sZCB0byB2ZXJpZnkgd2l0aCBpbnRlcm1pdHRlbnQgY2xpY2tzXG4gICAgcmV0dXJuIHtcbiAgICAgIHF1ZXN0aW9uOiAnSG9sZCB0aGUgYnV0dG9uIGFuZCBjbGljayB0aGUgdGFyZ2V0cyB0aGF0IGFwcGVhcicsXG4gICAgICBhbnN3ZXI6ICdob2xkLWNvbXBsZXRlJyxcbiAgICAgIHR5cGU6ICdob2xkJ1xuICAgIH07XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSAoZTogUmVhY3QuRm9ybUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFxuICAgIHNldEF0dGVtcHRDb3VudChwcmV2ID0+IHByZXYgKyAxKTtcbiAgICBcbiAgICAvLyBGb3IgZHJhZyBjaGFsbGVuZ2VzLCBqb2luIHRoZSByZXN1bHQgYXJyYXlcbiAgICBjb25zdCBzdWJtaXR0ZWRBbnN3ZXIgPSBjaGFsbGVuZ2UudHlwZSA9PT0gJ2RyYWcnXG4gICAgICA/IGRyYWdSZXN1bHQuam9pbignJylcbiAgICAgIDogdXNlckFuc3dlcjtcbiAgICBcbiAgICBpZiAoc3VibWl0dGVkQW5zd2VyLnRyaW0oKSA9PT0gY2hhbGxlbmdlLmFuc3dlcikge1xuICAgICAgc2V0VmVyaWZpZWQodHJ1ZSk7XG4gICAgICBvblZlcmlmeSh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RXJyb3IoJ0luY29ycmVjdCBhbnN3ZXIsIHBsZWFzZSB0cnkgYWdhaW4nKTtcbiAgICAgIFxuICAgICAgLy8gQWZ0ZXIgMyBmYWlsZWQgYXR0ZW1wdHMsIGdlbmVyYXRlIGEgbmV3IGNoYWxsZW5nZVxuICAgICAgaWYgKGF0dGVtcHRDb3VudCA+PSAyKSB7XG4gICAgICAgIGdlbmVyYXRlQ2hhbGxlbmdlKCk7XG4gICAgICAgIHNldEF0dGVtcHRDb3VudCgwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFxuICAvLyBIYW5kbGUgZHJhZyBhbmQgZHJvcFxuICBjb25zdCBoYW5kbGVEcmFnU3RhcnQgPSAoZTogUmVhY3QuRHJhZ0V2ZW50LCBpdGVtOiBzdHJpbmcpID0+IHtcbiAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgaXRlbSk7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVEcm9wID0gKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBpdGVtID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xuICAgIFxuICAgIC8vIEFkZCB0byByZXN1bHQgYW5kIHJlbW92ZSBmcm9tIGRyYWdnYWJsZSBpdGVtc1xuICAgIHNldERyYWdSZXN1bHQocHJldiA9PiBbLi4ucHJldiwgaXRlbV0pO1xuICAgIHNldERyYWdnYWJsZUl0ZW1zKHByZXYgPT4gcHJldi5maWx0ZXIoaSA9PiBpICE9PSBpdGVtKSk7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVEcmFnT3ZlciA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG4gIFxuICAvLyBIYW5kbGUgaG9sZCBjaGFsbGVuZ2VcbiAgY29uc3QgaGFuZGxlSG9sZFN0YXJ0ID0gKCkgPT4ge1xuICAgIGhvbGRTdGFydFRpbWUuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgXG4gICAgaG9sZFRpbWVyLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoaG9sZFN0YXJ0VGltZS5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gaG9sZFN0YXJ0VGltZS5jdXJyZW50O1xuICAgICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWluKGVsYXBzZWQgLyAzMDAwLCAxKTsgLy8gQ29tcGxldGUgaW4gMyBzZWNvbmRzXG4gICAgICAgIHNldEhvbGRQcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgICAgIFxuICAgICAgICBpZiAocHJvZ3Jlc3MgPj0gMSkge1xuICAgICAgICAgIGlmIChob2xkVGltZXIuY3VycmVudCkgY2xlYXJJbnRlcnZhbChob2xkVGltZXIuY3VycmVudCk7XG4gICAgICAgICAgc2V0VmVyaWZpZWQodHJ1ZSk7XG4gICAgICAgICAgb25WZXJpZnkodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCA1MCk7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVIb2xkRW5kID0gKCkgPT4ge1xuICAgIGlmIChob2xkVGltZXIuY3VycmVudCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChob2xkVGltZXIuY3VycmVudCk7XG4gICAgICBob2xkVGltZXIuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIFxuICAgIC8vIElmIHRoZXkgZGlkbid0IGhvbGQgbG9uZyBlbm91Z2gsIHJlc2V0IHByb2dyZXNzXG4gICAgaWYgKGhvbGRQcm9ncmVzcyA8IDEpIHtcbiAgICAgIHNldEhvbGRQcm9ncmVzcygwKTtcbiAgICAgIGhvbGRTdGFydFRpbWUuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICB9O1xuICBcbiAgLy8gQ2xlYW51cFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoaG9sZFRpbWVyLmN1cnJlbnQpIGNsZWFySW50ZXJ2YWwoaG9sZFRpbWVyLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItYmx1ZS02MDBcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbiAgXG4gIGlmICh2ZXJpZmllZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyZWVuLTUwIHAtNCByb3VuZGVkLW1kXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JlZW4tNjAwXCI+VmVyaWZpY2F0aW9uIHN1Y2Nlc3NmdWw8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyIHAtNCByb3VuZGVkLW1kIHNoYWRvdy1zbSBtYi00XCI+XG4gICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTgwMCBtYi0zXCI+U2VjdXJpdHkgVmVyaWZpY2F0aW9uPC9oMz5cbiAgICAgIFxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAgcC0yIHJvdW5kZWQtbWQgbWItM1wiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCB0ZXh0LXNtXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTcwMFwiPntjaGFsbGVuZ2UucXVlc3Rpb259PC9wPlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHtjaGFsbGVuZ2UudHlwZSA9PT0gJ21hdGgnICYmIChcbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17dXNlckFuc3dlcn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VXNlckFuc3dlcihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJZb3VyIGFuc3dlclwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbWQgaG92ZXI6YmctYmx1ZS03MDBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBWZXJpZnlcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7Y2hhbGxlbmdlLnR5cGUgPT09ICdkcmFnJyAmJiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1pbi1oLVsxMDBweF0gYmctZ3JheS0xMDAgcC00IHJvdW5kZWQtbWQgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItZ3JheS0zMDAgbWItNFwiXG4gICAgICAgICAgICBvbkRyb3A9e2hhbmRsZURyb3B9XG4gICAgICAgICAgICBvbkRyYWdPdmVyPXtoYW5kbGVEcmFnT3Zlcn1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIG1iLTJcIj5Ecm9wIGl0ZW1zIGhlcmUgaW4gdGhlIGNvcnJlY3Qgb3JkZXI8L3A+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAge2RyYWdSZXN1bHQubWFwKChpdGVtLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICBrZXk9e2ByZXN1bHQtJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS0xMDAgcC0yIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpdGVtfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTIgbWItNFwiPlxuICAgICAgICAgICAge2RyYWdnYWJsZUl0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICBrZXk9e2BpdGVtLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICBkcmFnZ2FibGVcbiAgICAgICAgICAgICAgICBvbkRyYWdTdGFydD17KGUpID0+IGhhbmRsZURyYWdTdGFydChlLCBpdGVtKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmF5LTIwMCBwLTIgcm91bmRlZC1tZCBjdXJzb3ItbW92ZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXRlbX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICB7ZHJhZ1Jlc3VsdC5sZW5ndGggPT09IGNoYWxsZW5nZS5pdGVtcz8ubGVuZ3RoICYmIChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIGhvdmVyOmJnLWJsdWUtNzAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgVmVyaWZ5XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHtjaGFsbGVuZ2UudHlwZSA9PT0gJ2hvbGQnICYmIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTIwMCByb3VuZGVkLWZ1bGwgaC0yLjUgbWItNFwiPlxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgaC0yLjUgcm91bmRlZC1mdWxsXCIgXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgJHtob2xkUHJvZ3Jlc3MgKiAxMDB9JWAgfX1cbiAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbk1vdXNlRG93bj17aGFuZGxlSG9sZFN0YXJ0fVxuICAgICAgICAgICAgb25Nb3VzZVVwPXtoYW5kbGVIb2xkRW5kfVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVIb2xkRW5kfVxuICAgICAgICAgICAgb25Ub3VjaFN0YXJ0PXtoYW5kbGVIb2xkU3RhcnR9XG4gICAgICAgICAgICBvblRvdWNoRW5kPXtoYW5kbGVIb2xkRW5kfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCBob3ZlcjpiZy1ibHVlLTcwMCB3LWZ1bGxcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIEhvbGQgdG8gdmVyaWZ5XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbUNhcHRjaGE7XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJDdXN0b21DYXB0Y2hhIiwib25WZXJpZnkiLCJkaWZmaWN1bHR5IiwibG9hZGluZyIsInNldExvYWRpbmciLCJjaGFsbGVuZ2UiLCJzZXRDaGFsbGVuZ2UiLCJxdWVzdGlvbiIsImFuc3dlciIsInR5cGUiLCJ1c2VyQW5zd2VyIiwic2V0VXNlckFuc3dlciIsImVycm9yIiwic2V0RXJyb3IiLCJ2ZXJpZmllZCIsInNldFZlcmlmaWVkIiwiYXR0ZW1wdENvdW50Iiwic2V0QXR0ZW1wdENvdW50IiwiZHJhZ2dhYmxlSXRlbXMiLCJzZXREcmFnZ2FibGVJdGVtcyIsImRyYWdSZXN1bHQiLCJzZXREcmFnUmVzdWx0IiwiaG9sZFByb2dyZXNzIiwic2V0SG9sZFByb2dyZXNzIiwiaG9sZFRpbWVyIiwiaG9sZFN0YXJ0VGltZSIsImdlbmVyYXRlQ2hhbGxlbmdlIiwiY2FwdGNoYUNoYWxsZW5nZSIsImdlbmVyYXRlRWFzeUNoYWxsZW5nZSIsImdlbmVyYXRlSGFyZENoYWxsZW5nZSIsImdlbmVyYXRlTWVkaXVtQ2hhbGxlbmdlIiwiaXRlbXMiLCJlcnIiLCJjb25zb2xlIiwibnVtMSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIm51bTIiLCJTdHJpbmciLCJjaGFsbGVuZ2VUeXBlIiwib3BlcmF0aW9ucyIsIm9wIiwibGVuZ3RoIiwiY2hhbGxlbmdlcyIsInNlbGVjdGVkQ2hhbGxlbmdlIiwic29ydCIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInByZXYiLCJzdWJtaXR0ZWRBbnN3ZXIiLCJqb2luIiwidHJpbSIsImhhbmRsZURyYWdTdGFydCIsIml0ZW0iLCJkYXRhVHJhbnNmZXIiLCJzZXREYXRhIiwiaGFuZGxlRHJvcCIsImdldERhdGEiLCJmaWx0ZXIiLCJpIiwiaGFuZGxlRHJhZ092ZXIiLCJoYW5kbGVIb2xkU3RhcnQiLCJjdXJyZW50IiwiRGF0ZSIsIm5vdyIsInNldEludGVydmFsIiwiZWxhcHNlZCIsInByb2dyZXNzIiwibWluIiwiY2xlYXJJbnRlcnZhbCIsImhhbmRsZUhvbGRFbmQiLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwiaDMiLCJmb3JtIiwib25TdWJtaXQiLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJyZXF1aXJlZCIsInBsYWNlaG9sZGVyIiwiYnV0dG9uIiwib25Ecm9wIiwib25EcmFnT3ZlciIsIm1hcCIsImluZGV4IiwiZHJhZ2dhYmxlIiwib25EcmFnU3RhcnQiLCJvbkNsaWNrIiwic3R5bGUiLCJ3aWR0aCIsIm9uTW91c2VEb3duIiwib25Nb3VzZVVwIiwib25Nb3VzZUxlYXZlIiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaEVuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/CustomCaptcha.tsx\n");

/***/ }),

/***/ "./src/components/IframeMonitor.tsx":
/*!******************************************!*\
  !*** ./src/components/IframeMonitor.tsx ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_2__]);\naxios__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n/**\n * Component that monitors an iframe for domain changes to detect survey completion\n * \n * This component embeds a survey URL in an iframe and watches for redirects to \n * predetermined completion URLs to determine survey outcome.\n */ const IframeMonitor = ({ projectId, uid, url, onStatusChange })=>{\n    const [iframeLoaded, setIframeLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentStatus, setCurrentStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const iframeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const intervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Set up monitoring\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!iframeLoaded || !iframeRef.current) return;\n        let checkCount = 0;\n        const maxChecks = 300; // Check for 5 minutes (300s) max\n        // Set up an interval to periodically check the iframe location\n        intervalRef.current = setInterval(()=>{\n            checkCount++;\n            try {\n                // Try to access the location to check if it's on our domain\n                const iframeLocation = iframeRef.current?.contentWindow?.location.href;\n                if (iframeLocation && iframeLocation.includes(\"protegeresearchsurvey.com\")) {\n                    // Survey has redirected to one of our completion pages\n                    clearInterval(intervalRef.current);\n                    // Determine completion status based on URL\n                    let status = \"COMPLETED\";\n                    if (iframeLocation.includes(\"/quota\")) {\n                        status = \"QUOTA_FULL\";\n                    } else if (iframeLocation.includes(\"/not-eligible\") || iframeLocation.includes(\"/disqualified\")) {\n                        status = \"DISQUALIFIED\";\n                    }\n                    setCurrentStatus(status);\n                    handleStatusChange(status, {\n                        completionUrl: iframeLocation\n                    });\n                }\n            } catch (error) {\n            // If we get a cross-origin error, the iframe is on a different domain\n            // This is expected when the iframe is showing the survey\n            // We'll just continue monitoring\n            }\n            // Stop monitoring after max checks\n            if (checkCount >= maxChecks) {\n                clearInterval(intervalRef.current);\n            }\n        }, 1000);\n        return ()=>{\n            if (intervalRef.current) {\n                clearInterval(intervalRef.current);\n            }\n        };\n    }, [\n        iframeLoaded,\n        projectId,\n        uid\n    ]);\n    // Handle status changes and report to backend\n    const handleStatusChange = async (status, data)=>{\n        try {\n            // Collect all available metadata\n            const metadata = {\n                completionTimestamp: new Date().toISOString(),\n                browser: navigator.userAgent,\n                screenSize: {\n                    width: window.screen.width,\n                    height: window.screen.height,\n                    colorDepth: window.screen.colorDepth\n                },\n                language: navigator.language,\n                timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n                completionUrl: data?.completionUrl,\n                referrer: document.referrer\n            };\n            // Update the survey link status via API\n            await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(\"/api/links/update-status\", {\n                projectId,\n                uid,\n                status,\n                metadata\n            });\n            // Notify parent component\n            onStatusChange(status, {\n                metadata,\n                timestamp: Date.now()\n            });\n        } catch (error) {\n            console.error(\"Failed to update survey status:\", error);\n        }\n    };\n    // Handle iframe load event\n    const handleIframeLoad = ()=>{\n        setIframeLoaded(true);\n        try {\n            // Try to get the initial URL\n            const initialUrl = iframeRef.current?.contentWindow?.location.href;\n            // Check if we're already on a completion page (unlikely but possible)\n            if (initialUrl && initialUrl.includes(\"protegeresearchsurvey.com\")) {\n                let status = \"COMPLETED\";\n                if (initialUrl.includes(\"/quota\")) {\n                    status = \"QUOTA_FULL\";\n                } else if (initialUrl.includes(\"/not-eligible\") || initialUrl.includes(\"/disqualified\")) {\n                    status = \"DISQUALIFIED\";\n                }\n                setCurrentStatus(status);\n                handleStatusChange(status, {\n                    completionUrl: initialUrl\n                });\n            } else {\n                // Otherwise, mark as started\n                handleStatusChange(\"STARTED\");\n            }\n        } catch (error) {\n            // Cross-origin error, just mark as started\n            handleStatusChange(\"STARTED\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"iframe-container w-full h-full relative\",\n        children: [\n            currentStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center z-10 bg-white bg-opacity-90\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center p-8\",\n                    children: [\n                        currentStatus === \"COMPLETED\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl font-bold text-green-600 mb-4\",\n                                    children: \"Survey Completed\"\n                                }, void 0, false, {\n                                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                                    lineNumber: 149,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Thank you for completing the survey! You'll be redirected shortly.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                                    lineNumber: 150,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                            lineNumber: 148,\n                            columnNumber: 15\n                        }, undefined),\n                        currentStatus === \"QUOTA_FULL\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl font-bold text-blue-600 mb-4\",\n                                    children: \"Survey Quota Full\"\n                                }, void 0, false, {\n                                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                                    lineNumber: 156,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"The quota for this survey has been filled. Thank you for your interest!\"\n                                }, void 0, false, {\n                                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                                    lineNumber: 157,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                            lineNumber: 155,\n                            columnNumber: 15\n                        }, undefined),\n                        currentStatus === \"DISQUALIFIED\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl font-bold text-amber-600 mb-4\",\n                                    children: \"Not Eligible\"\n                                }, void 0, false, {\n                                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                                    lineNumber: 163,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"You don't match the criteria for this survey. Thank you for your interest!\"\n                                }, void 0, false, {\n                                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                                    lineNumber: 164,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                            lineNumber: 162,\n                            columnNumber: 15\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                    lineNumber: 146,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                lineNumber: 145,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                ref: iframeRef,\n                src: url,\n                onLoad: handleIframeLoad,\n                className: \"w-full h-full border-0 min-h-[500px]\",\n                allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n                sandbox: \"allow-same-origin allow-scripts allow-forms allow-popups\",\n                title: \"Survey iframe\"\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n                lineNumber: 171,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/IframeMonitor.tsx\",\n        lineNumber: 143,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IframeMonitor);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2dCQUNWTyxPQUFNO2dCQUNOQyxTQUFRO2dCQUNSQyxPQUFNOzs7Ozs7Ozs7Ozs7QUFJZDtBQUVBLGlFQUFlOUQsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cnZleS1saW5rLXdyYXBwZXIvLi9zcmMvY29tcG9uZW50cy9JZnJhbWVNb25pdG9yLnRzeD8xMTZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmludGVyZmFjZSBJZnJhbWVNb25pdG9yUHJvcHMge1xuICBwcm9qZWN0SWQ6IHN0cmluZztcbiAgdWlkOiBzdHJpbmc7XG4gIHVybDogc3RyaW5nO1xuICBvblN0YXR1c0NoYW5nZTogKHN0YXR1czogc3RyaW5nLCBkYXRhPzogYW55KSA9PiB2b2lkO1xufVxuXG4vKipcbiAqIENvbXBvbmVudCB0aGF0IG1vbml0b3JzIGFuIGlmcmFtZSBmb3IgZG9tYWluIGNoYW5nZXMgdG8gZGV0ZWN0IHN1cnZleSBjb21wbGV0aW9uXG4gKiBcbiAqIFRoaXMgY29tcG9uZW50IGVtYmVkcyBhIHN1cnZleSBVUkwgaW4gYW4gaWZyYW1lIGFuZCB3YXRjaGVzIGZvciByZWRpcmVjdHMgdG8gXG4gKiBwcmVkZXRlcm1pbmVkIGNvbXBsZXRpb24gVVJMcyB0byBkZXRlcm1pbmUgc3VydmV5IG91dGNvbWUuXG4gKi9cbmNvbnN0IElmcmFtZU1vbml0b3I6IFJlYWN0LkZDPElmcmFtZU1vbml0b3JQcm9wcz4gPSAoe1xuICBwcm9qZWN0SWQsXG4gIHVpZCxcbiAgdXJsLFxuICBvblN0YXR1c0NoYW5nZVxufSkgPT4ge1xuICBjb25zdCBbaWZyYW1lTG9hZGVkLCBzZXRJZnJhbWVMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VycmVudFN0YXR1cywgc2V0Q3VycmVudFN0YXR1c10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgaWZyYW1lUmVmID0gdXNlUmVmPEhUTUxJRnJhbWVFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW50ZXJ2YWxSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcblxuICAvLyBTZXQgdXAgbW9uaXRvcmluZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaWZyYW1lTG9hZGVkIHx8ICFpZnJhbWVSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIFxuICAgIGxldCBjaGVja0NvdW50ID0gMDtcbiAgICBjb25zdCBtYXhDaGVja3MgPSAzMDA7IC8vIENoZWNrIGZvciA1IG1pbnV0ZXMgKDMwMHMpIG1heFxuICAgIFxuICAgIC8vIFNldCB1cCBhbiBpbnRlcnZhbCB0byBwZXJpb2RpY2FsbHkgY2hlY2sgdGhlIGlmcmFtZSBsb2NhdGlvblxuICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBjaGVja0NvdW50Kys7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUcnkgdG8gYWNjZXNzIHRoZSBsb2NhdGlvbiB0byBjaGVjayBpZiBpdCdzIG9uIG91ciBkb21haW5cbiAgICAgICAgY29uc3QgaWZyYW1lTG9jYXRpb24gPSBpZnJhbWVSZWYuY3VycmVudD8uY29udGVudFdpbmRvdz8ubG9jYXRpb24uaHJlZjtcbiAgICAgICAgXG4gICAgICAgIGlmIChpZnJhbWVMb2NhdGlvbiAmJiBpZnJhbWVMb2NhdGlvbi5pbmNsdWRlcygncHJvdGVnZXJlc2VhcmNoc3VydmV5LmNvbScpKSB7XG4gICAgICAgICAgLy8gU3VydmV5IGhhcyByZWRpcmVjdGVkIHRvIG9uZSBvZiBvdXIgY29tcGxldGlvbiBwYWdlc1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCEpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIERldGVybWluZSBjb21wbGV0aW9uIHN0YXR1cyBiYXNlZCBvbiBVUkxcbiAgICAgICAgICBsZXQgc3RhdHVzID0gJ0NPTVBMRVRFRCc7XG4gICAgICAgICAgaWYgKGlmcmFtZUxvY2F0aW9uLmluY2x1ZGVzKCcvcXVvdGEnKSkge1xuICAgICAgICAgICAgc3RhdHVzID0gJ1FVT1RBX0ZVTEwnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWZyYW1lTG9jYXRpb24uaW5jbHVkZXMoJy9ub3QtZWxpZ2libGUnKSB8fCBpZnJhbWVMb2NhdGlvbi5pbmNsdWRlcygnL2Rpc3F1YWxpZmllZCcpKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSAnRElTUVVBTElGSUVEJztcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0Q3VycmVudFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgIGhhbmRsZVN0YXR1c0NoYW5nZShzdGF0dXMsIHsgY29tcGxldGlvblVybDogaWZyYW1lTG9jYXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElmIHdlIGdldCBhIGNyb3NzLW9yaWdpbiBlcnJvciwgdGhlIGlmcmFtZSBpcyBvbiBhIGRpZmZlcmVudCBkb21haW5cbiAgICAgICAgLy8gVGhpcyBpcyBleHBlY3RlZCB3aGVuIHRoZSBpZnJhbWUgaXMgc2hvd2luZyB0aGUgc3VydmV5XG4gICAgICAgIC8vIFdlJ2xsIGp1c3QgY29udGludWUgbW9uaXRvcmluZ1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTdG9wIG1vbml0b3JpbmcgYWZ0ZXIgbWF4IGNoZWNrc1xuICAgICAgaWYgKGNoZWNrQ291bnQgPj0gbWF4Q2hlY2tzKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCEpO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoaW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsUmVmLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtpZnJhbWVMb2FkZWQsIHByb2plY3RJZCwgdWlkXSk7XG5cbiAgLy8gSGFuZGxlIHN0YXR1cyBjaGFuZ2VzIGFuZCByZXBvcnQgdG8gYmFja2VuZFxuICBjb25zdCBoYW5kbGVTdGF0dXNDaGFuZ2UgPSBhc3luYyAoc3RhdHVzOiBzdHJpbmcsIGRhdGE/OiBhbnkpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gQ29sbGVjdCBhbGwgYXZhaWxhYmxlIG1ldGFkYXRhXG4gICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgY29tcGxldGlvblRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBicm93c2VyOiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICBzY3JlZW5TaXplOiB7XG4gICAgICAgICAgd2lkdGg6IHdpbmRvdy5zY3JlZW4ud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB3aW5kb3cuc2NyZWVuLmhlaWdodCxcbiAgICAgICAgICBjb2xvckRlcHRoOiB3aW5kb3cuc2NyZWVuLmNvbG9yRGVwdGgsXG4gICAgICAgIH0sXG4gICAgICAgIGxhbmd1YWdlOiBuYXZpZ2F0b3IubGFuZ3VhZ2UsXG4gICAgICAgIHRpbWVab25lOiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmUsXG4gICAgICAgIGNvbXBsZXRpb25Vcmw6IGRhdGE/LmNvbXBsZXRpb25VcmwsXG4gICAgICAgIHJlZmVycmVyOiBkb2N1bWVudC5yZWZlcnJlcixcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgc3VydmV5IGxpbmsgc3RhdHVzIHZpYSBBUElcbiAgICAgIGF3YWl0IGF4aW9zLnBvc3QoJy9hcGkvbGlua3MvdXBkYXRlLXN0YXR1cycsIHtcbiAgICAgICAgcHJvamVjdElkLFxuICAgICAgICB1aWQsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgbWV0YWRhdGFcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBOb3RpZnkgcGFyZW50IGNvbXBvbmVudFxuICAgICAgb25TdGF0dXNDaGFuZ2Uoc3RhdHVzLCB7XG4gICAgICAgIG1ldGFkYXRhLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgIH0pO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgc3VydmV5IHN0YXR1czonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhhbmRsZSBpZnJhbWUgbG9hZCBldmVudFxuICBjb25zdCBoYW5kbGVJZnJhbWVMb2FkID0gKCkgPT4ge1xuICAgIHNldElmcmFtZUxvYWRlZCh0cnVlKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IHRvIGdldCB0aGUgaW5pdGlhbCBVUkxcbiAgICAgIGNvbnN0IGluaXRpYWxVcmwgPSBpZnJhbWVSZWYuY3VycmVudD8uY29udGVudFdpbmRvdz8ubG9jYXRpb24uaHJlZjtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgYWxyZWFkeSBvbiBhIGNvbXBsZXRpb24gcGFnZSAodW5saWtlbHkgYnV0IHBvc3NpYmxlKVxuICAgICAgaWYgKGluaXRpYWxVcmwgJiYgaW5pdGlhbFVybC5pbmNsdWRlcygncHJvdGVnZXJlc2VhcmNoc3VydmV5LmNvbScpKSB7XG4gICAgICAgIGxldCBzdGF0dXMgPSAnQ09NUExFVEVEJztcbiAgICAgICAgaWYgKGluaXRpYWxVcmwuaW5jbHVkZXMoJy9xdW90YScpKSB7XG4gICAgICAgICAgc3RhdHVzID0gJ1FVT1RBX0ZVTEwnO1xuICAgICAgICB9IGVsc2UgaWYgKGluaXRpYWxVcmwuaW5jbHVkZXMoJy9ub3QtZWxpZ2libGUnKSB8fCBpbml0aWFsVXJsLmluY2x1ZGVzKCcvZGlzcXVhbGlmaWVkJykpIHtcbiAgICAgICAgICBzdGF0dXMgPSAnRElTUVVBTElGSUVEJztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0Q3VycmVudFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICBoYW5kbGVTdGF0dXNDaGFuZ2Uoc3RhdHVzLCB7IGNvbXBsZXRpb25Vcmw6IGluaXRpYWxVcmwgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UsIG1hcmsgYXMgc3RhcnRlZFxuICAgICAgICBoYW5kbGVTdGF0dXNDaGFuZ2UoJ1NUQVJURUQnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gQ3Jvc3Mtb3JpZ2luIGVycm9yLCBqdXN0IG1hcmsgYXMgc3RhcnRlZFxuICAgICAgaGFuZGxlU3RhdHVzQ2hhbmdlKCdTVEFSVEVEJyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJpZnJhbWUtY29udGFpbmVyIHctZnVsbCBoLWZ1bGwgcmVsYXRpdmVcIj5cbiAgICAgIHtjdXJyZW50U3RhdHVzICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotMTAgYmctd2hpdGUgYmctb3BhY2l0eS05MFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcC04XCI+XG4gICAgICAgICAgICB7Y3VycmVudFN0YXR1cyA9PT0gJ0NPTVBMRVRFRCcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWdyZWVuLTYwMCBtYi00XCI+U3VydmV5IENvbXBsZXRlZDwvaDM+XG4gICAgICAgICAgICAgICAgPHA+VGhhbmsgeW91IGZvciBjb21wbGV0aW5nIHRoZSBzdXJ2ZXkhIFlvdSdsbCBiZSByZWRpcmVjdGVkIHNob3J0bHkuPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtjdXJyZW50U3RhdHVzID09PSAnUVVPVEFfRlVMTCcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWJsdWUtNjAwIG1iLTRcIj5TdXJ2ZXkgUXVvdGEgRnVsbDwvaDM+XG4gICAgICAgICAgICAgICAgPHA+VGhlIHF1b3RhIGZvciB0aGlzIHN1cnZleSBoYXMgYmVlbiBmaWxsZWQuIFRoYW5rIHlvdSBmb3IgeW91ciBpbnRlcmVzdCE8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge2N1cnJlbnRTdGF0dXMgPT09ICdESVNRVUFMSUZJRUQnICYmIChcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1hbWJlci02MDAgbWItNFwiPk5vdCBFbGlnaWJsZTwvaDM+XG4gICAgICAgICAgICAgICAgPHA+WW91IGRvbid0IG1hdGNoIHRoZSBjcml0ZXJpYSBmb3IgdGhpcyBzdXJ2ZXkuIFRoYW5rIHlvdSBmb3IgeW91ciBpbnRlcmVzdCE8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICA8aWZyYW1lXG4gICAgICAgIHJlZj17aWZyYW1lUmVmfVxuICAgICAgICBzcmM9e3VybH1cbiAgICAgICAgb25Mb2FkPXtoYW5kbGVJZnJhbWVMb2FkfVxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIGJvcmRlci0wIG1pbi1oLVs1MDBweF1cIlxuICAgICAgICBhbGxvdz1cImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmVcIlxuICAgICAgICBzYW5kYm94PVwiYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0cyBhbGxvdy1mb3JtcyBhbGxvdy1wb3B1cHNcIlxuICAgICAgICB0aXRsZT1cIlN1cnZleSBpZnJhbWVcIlxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IElmcmFtZU1vbml0b3I7XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJheGlvcyIsIklmcmFtZU1vbml0b3IiLCJwcm9qZWN0SWQiLCJ1aWQiLCJ1cmwiLCJvblN0YXR1c0NoYW5nZSIsImlmcmFtZUxvYWRlZCIsInNldElmcmFtZUxvYWRlZCIsImN1cnJlbnRTdGF0dXMiLCJzZXRDdXJyZW50U3RhdHVzIiwiaWZyYW1lUmVmIiwiaW50ZXJ2YWxSZWYiLCJjdXJyZW50IiwiY2hlY2tDb3VudCIsIm1heENoZWNrcyIsInNldEludGVydmFsIiwiaWZyYW1lTG9jYXRpb24iLCJjb250ZW50V2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiaW5jbHVkZXMiLCJjbGVhckludGVydmFsIiwic3RhdHVzIiwiaGFuZGxlU3RhdHVzQ2hhbmdlIiwiY29tcGxldGlvblVybCIsImVycm9yIiwiZGF0YSIsIm1ldGFkYXRhIiwiY29tcGxldGlvblRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImJyb3dzZXIiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJzY3JlZW5TaXplIiwid2lkdGgiLCJ3aW5kb3ciLCJzY3JlZW4iLCJoZWlnaHQiLCJjb2xvckRlcHRoIiwibGFuZ3VhZ2UiLCJ0aW1lWm9uZSIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsInJlc29sdmVkT3B0aW9ucyIsInJlZmVycmVyIiwiZG9jdW1lbnQiLCJwb3N0IiwidGltZXN0YW1wIiwibm93IiwiY29uc29sZSIsImhhbmRsZUlmcmFtZUxvYWQiLCJpbml0aWFsVXJsIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDMiLCJwIiwiaWZyYW1lIiwicmVmIiwic3JjIiwib25Mb2FkIiwiYWxsb3ciLCJzYW5kYm94IiwidGl0bGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/IframeMonitor.tsx\n");

/***/ }),

/***/ "./src/components/SurveyFlow.tsx":
/*!***************************************!*\
  !*** ./src/components/SurveyFlow.tsx ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var _BehaviorTracker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BehaviorTracker */ \"./src/components/BehaviorTracker.tsx\");\n/* harmony import */ var _TrapQuestion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TrapQuestion */ \"./src/components/TrapQuestion.tsx\");\n/* harmony import */ var _CustomCaptcha__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CustomCaptcha */ \"./src/components/CustomCaptcha.tsx\");\n/* harmony import */ var _IframeMonitor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./IframeMonitor */ \"./src/components/IframeMonitor.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_3__, _TrapQuestion__WEBPACK_IMPORTED_MODULE_5__, _IframeMonitor__WEBPACK_IMPORTED_MODULE_7__]);\n([axios__WEBPACK_IMPORTED_MODULE_3__, _TrapQuestion__WEBPACK_IMPORTED_MODULE_5__, _IframeMonitor__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n/**\n * SurveyFlow manages the complete flow from CAPTCHA verification through \n * trap questions to survey completion\n */ const SurveyFlow = ({ projectId, uid, surveyUrl, vendorId })=>{\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"captcha\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [behaviorData, setBehaviorData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [captchaVerified, setCaptchaVerified] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [trapQuestionsVerified, setTrapQuestionsVerified] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sessionData, setSessionData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        token: Math.random().toString(36).substring(2, 15),\n        projectId,\n        uid,\n        vendorId,\n        startTime: Date.now(),\n        answers: [],\n        metadata: {}\n    });\n    // Track suspicious behaviors\n    const suspiciousActivity = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        rapidAnswers: false,\n        inconsistentAnswers: false,\n        botLikeBehavior: false,\n        flagged: false,\n        flags: []\n    });\n    // Validate survey link and check geography restrictions on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const validateSurveyAccess = async ()=>{\n            try {\n                const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"/api/links/validate\", {\n                    projectId,\n                    uid\n                });\n                if (!response.data.success) {\n                    // Handle different types of restrictions/errors\n                    if (response.data.redirect) {\n                        router.push(response.data.redirect);\n                        return;\n                    }\n                    setError(response.data.error || \"Survey access denied\");\n                    setCurrentStep(\"error\");\n                    return;\n                }\n                // If validation successful, continue with normal flow\n                console.log(\"Survey validation successful:\", response.data);\n            } catch (error) {\n                console.error(\"Survey validation failed:\", error);\n                setError(\"Failed to validate survey access\");\n                setCurrentStep(\"error\");\n            }\n        };\n        validateSurveyAccess();\n    }, [\n        projectId,\n        uid,\n        router\n    ]);\n    // Save session data to browser storage\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (sessionData) {\n            try {\n                sessionStorage.setItem(\"surveySession\", JSON.stringify(sessionData));\n            } catch (e) {\n                console.error(\"Failed to save session data to sessionStorage:\", e);\n            }\n        }\n    }, [\n        sessionData\n    ]);\n    // Handle behavior data collection\n    const handleBehaviorData = (data)=>{\n        setBehaviorData(data);\n        // Update session metadata with behavior data\n        setSessionData((prev)=>({\n                ...prev,\n                metadata: {\n                    ...prev.metadata,\n                    behavior: data\n                }\n            }));\n        // Check for suspicious patterns\n        const mouseMoveSpeed = data.mouseMovements / (data.idleTime || 1);\n        if (mouseMoveSpeed > 100) {\n            suspiciousActivity.current.botLikeBehavior = true;\n            suspiciousActivity.current.flags.push(\"Unusually fast mouse movements\");\n        }\n        if (data.copyPasteEvents > 5) {\n            suspiciousActivity.current.botLikeBehavior = true;\n            suspiciousActivity.current.flags.push(\"Excessive copy/paste detected\");\n        }\n        // Add suspicious activity to session data\n        if (suspiciousActivity.current.flags.length > 0) {\n            setSessionData((prev)=>({\n                    ...prev,\n                    metadata: {\n                        ...prev.metadata,\n                        suspiciousFlags: suspiciousActivity.current.flags\n                    }\n                }));\n        }\n    };\n    // Handle CAPTCHA verification\n    const handleCaptchaVerify = (verified)=>{\n        setCaptchaVerified(verified);\n        if (verified) {\n            setSessionData((prev)=>({\n                    ...prev,\n                    metadata: {\n                        ...prev.metadata,\n                        captchaVerified: true,\n                        captchaVerifiedAt: Date.now()\n                    }\n                }));\n            // Move to trap question if we have trap questions, otherwise directly to survey\n            setCurrentStep(\"trap-question\");\n        }\n    };\n    // Handle trap question answers\n    const handleTrapQuestionAnswer = async (question, answer, isCorrect)=>{\n        setSessionData((prev)=>({\n                ...prev,\n                answers: [\n                    ...prev.answers,\n                    {\n                        question,\n                        answer,\n                        isCorrect\n                    }\n                ]\n            }));\n        if (!isCorrect) {\n            // Flag suspicious activity if trap question is answered incorrectly\n            suspiciousActivity.current.inconsistentAnswers = true;\n            suspiciousActivity.current.flags.push(\"Incorrect trap question answer\");\n            // We should still continue to the survey but flag this\n            try {\n                await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"/api/links/flag\", {\n                    projectId,\n                    uid,\n                    reason: \"Failed trap question\",\n                    metadata: {\n                        question,\n                        answer,\n                        timestamp: Date.now()\n                    }\n                });\n            } catch (err) {\n                console.error(\"Failed to flag incorrect trap question:\", err);\n            }\n        }\n        setTrapQuestionsVerified(true);\n        setCurrentStep(\"survey\");\n    };\n    // Handle survey status changes from IframeMonitor\n    const handleSurveyStatusChange = (status, data)=>{\n        switch(status){\n            case \"COMPLETED\":\n                setCurrentStep(\"completed\");\n                // Redirect after a short delay\n                setTimeout(()=>{\n                    router.push(`/thank-you-completed?projectId=${projectId}&uid=${uid}`);\n                }, 2000);\n                break;\n            case \"QUOTA_FULL\":\n                setCurrentStep(\"quota-full\");\n                // Redirect after a short delay\n                setTimeout(()=>{\n                    router.push(`/sorry-quota-full?projectId=${projectId}&uid=${uid}`);\n                }, 2000);\n                break;\n            case \"DISQUALIFIED\":\n                setCurrentStep(\"disqualified\");\n                // Redirect after a short delay\n                setTimeout(()=>{\n                    router.push(`/sorry-disqualified?projectId=${projectId}&uid=${uid}`);\n                }, 2000);\n                break;\n            default:\n                break;\n        }\n    };\n    // Handle errors\n    const handleError = (errorMessage)=>{\n        setError(errorMessage);\n        setCurrentStep(\"error\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"survey-flow-container relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_BehaviorTracker__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                onDataCollected: handleBehaviorData,\n                startTracking: true\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                lineNumber: 228,\n                columnNumber: 7\n            }, undefined),\n            currentStep === \"captcha\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-6 max-w-md mx-auto bg-white rounded-xl shadow-md\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-medium text-gray-900 mb-4\",\n                        children: \"Please Verify You Are Human\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_CustomCaptcha__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        onVerify: handleCaptchaVerify,\n                        difficulty: \"medium\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                        lineNumber: 234,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                lineNumber: 232,\n                columnNumber: 9\n            }, undefined),\n            currentStep === \"trap-question\" && captchaVerified && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-6 max-w-md mx-auto bg-white rounded-xl shadow-md\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-medium text-gray-900 mb-4\",\n                        children: \"Quick Question\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                        lineNumber: 240,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TrapQuestion__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        projectId: projectId,\n                        onAnswer: handleTrapQuestionAnswer\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                        lineNumber: 241,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                lineNumber: 239,\n                columnNumber: 9\n            }, undefined),\n            currentStep === \"survey\" && captchaVerified && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full h-full\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_IframeMonitor__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    projectId: projectId,\n                    uid: uid,\n                    url: surveyUrl,\n                    onStatusChange: handleSurveyStatusChange\n                }, void 0, false, {\n                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                    lineNumber: 250,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                lineNumber: 249,\n                columnNumber: 9\n            }, undefined),\n            currentStep === \"error\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-6 max-w-md mx-auto bg-white rounded-xl shadow-md\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-medium text-red-600 mb-2\",\n                        children: \"Error\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                        lineNumber: 261,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-700\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                        lineNumber: 262,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setCurrentStep(\"captcha\"),\n                        className: \"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",\n                        children: \"Try Again\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                        lineNumber: 263,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                lineNumber: 260,\n                columnNumber: 9\n            }, undefined),\n            (currentStep === \"completed\" || currentStep === \"disqualified\" || currentStep === \"quota-full\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-6 max-w-md mx-auto bg-white rounded-xl shadow-md\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-medium text-gray-900 mb-4\",\n                        children: currentStep === \"completed\" ? \"Survey Completed\" : currentStep === \"quota-full\" ? \"Survey Quota Full\" : \"Not Eligible\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                        lineNumber: 274,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-700\",\n                        children: currentStep === \"completed\" ? \"Thank you for completing the survey. You will be redirected shortly.\" : currentStep === \"quota-full\" ? \"The quota for this survey has been filled. Thank you for your interest.\" : \"You do not match the criteria for this survey. Thank you for your interest.\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                        lineNumber: 278,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-gray-500 mt-4\",\n                        children: \"Redirecting you in a few seconds...\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                        lineNumber: 285,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n                lineNumber: 273,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/SurveyFlow.tsx\",\n        lineNumber: 226,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SurveyFlow);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGNBQ2YseUVBQ0RBLGdCQUFnQixlQUNmLDRFQUNBOzs7Ozs7a0NBRUosOERBQUM2RTt3QkFBRVQsV0FBVTtrQ0FBNkI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtwRDtBQUVBLGlFQUFlMUUsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cnZleS1saW5rLXdyYXBwZXIvLi9zcmMvY29tcG9uZW50cy9TdXJ2ZXlGbG93LnRzeD9jZjE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgQmVoYXZpb3JUcmFja2VyLCB7IEJlaGF2aW9yRGF0YSB9IGZyb20gJy4vQmVoYXZpb3JUcmFja2VyJztcbmltcG9ydCBUcmFwUXVlc3Rpb24gZnJvbSAnLi9UcmFwUXVlc3Rpb24nO1xuaW1wb3J0IEN1c3RvbUNhcHRjaGEgZnJvbSAnLi9DdXN0b21DYXB0Y2hhJztcbmltcG9ydCBJZnJhbWVNb25pdG9yIGZyb20gJy4vSWZyYW1lTW9uaXRvcic7XG5cbmludGVyZmFjZSBTdXJ2ZXlGbG93UHJvcHMge1xuICBwcm9qZWN0SWQ6IHN0cmluZztcbiAgdWlkOiBzdHJpbmc7XG4gIHN1cnZleVVybDogc3RyaW5nO1xuICB2ZW5kb3JJZD86IHN0cmluZztcbn1cblxudHlwZSBGbG93U3RlcCA9ICdjYXB0Y2hhJyB8ICd0cmFwLXF1ZXN0aW9uJyB8ICdzdXJ2ZXknIHwgJ2NvbXBsZXRlZCcgfCAnZGlzcXVhbGlmaWVkJyB8ICdxdW90YS1mdWxsJyB8ICdlcnJvcic7XG5cbi8qKlxuICogU3VydmV5RmxvdyBtYW5hZ2VzIHRoZSBjb21wbGV0ZSBmbG93IGZyb20gQ0FQVENIQSB2ZXJpZmljYXRpb24gdGhyb3VnaCBcbiAqIHRyYXAgcXVlc3Rpb25zIHRvIHN1cnZleSBjb21wbGV0aW9uXG4gKi9cbmNvbnN0IFN1cnZleUZsb3c6IFJlYWN0LkZDPFN1cnZleUZsb3dQcm9wcz4gPSAoe1xuICBwcm9qZWN0SWQsXG4gIHVpZCxcbiAgc3VydmV5VXJsLFxuICB2ZW5kb3JJZFxufSkgPT4ge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW2N1cnJlbnRTdGVwLCBzZXRDdXJyZW50U3RlcF0gPSB1c2VTdGF0ZTxGbG93U3RlcD4oJ2NhcHRjaGEnKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2JlaGF2aW9yRGF0YSwgc2V0QmVoYXZpb3JEYXRhXSA9IHVzZVN0YXRlPEJlaGF2aW9yRGF0YSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY2FwdGNoYVZlcmlmaWVkLCBzZXRDYXB0Y2hhVmVyaWZpZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdHJhcFF1ZXN0aW9uc1ZlcmlmaWVkLCBzZXRUcmFwUXVlc3Rpb25zVmVyaWZpZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2Vzc2lvbkRhdGEsIHNldFNlc3Npb25EYXRhXSA9IHVzZVN0YXRlPGFueT4oe1xuICAgIHRva2VuOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpLFxuICAgIHByb2plY3RJZCxcbiAgICB1aWQsXG4gICAgdmVuZG9ySWQsXG4gICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgIGFuc3dlcnM6IFtdLFxuICAgIG1ldGFkYXRhOiB7fVxuICB9KTtcblxuICAvLyBUcmFjayBzdXNwaWNpb3VzIGJlaGF2aW9yc1xuICBjb25zdCBzdXNwaWNpb3VzQWN0aXZpdHkgPSB1c2VSZWYoe1xuICAgIHJhcGlkQW5zd2VyczogZmFsc2UsXG4gICAgaW5jb25zaXN0ZW50QW5zd2VyczogZmFsc2UsXG4gICAgYm90TGlrZUJlaGF2aW9yOiBmYWxzZSxcbiAgICBmbGFnZ2VkOiBmYWxzZSxcbiAgICBmbGFnczogW10gYXMgc3RyaW5nW11cbiAgfSk7XG5cbiAgLy8gVmFsaWRhdGUgc3VydmV5IGxpbmsgYW5kIGNoZWNrIGdlb2dyYXBoeSByZXN0cmljdGlvbnMgb24gY29tcG9uZW50IG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdGVTdXJ2ZXlBY2Nlc3MgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJy9hcGkvbGlua3MvdmFsaWRhdGUnLCB7XG4gICAgICAgICAgcHJvamVjdElkLFxuICAgICAgICAgIHVpZFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgdHlwZXMgb2YgcmVzdHJpY3Rpb25zL2Vycm9yc1xuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlZGlyZWN0KSB7XG4gICAgICAgICAgICByb3V0ZXIucHVzaChyZXNwb25zZS5kYXRhLnJlZGlyZWN0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0RXJyb3IocmVzcG9uc2UuZGF0YS5lcnJvciB8fCAnU3VydmV5IGFjY2VzcyBkZW5pZWQnKTtcbiAgICAgICAgICBzZXRDdXJyZW50U3RlcCgnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB2YWxpZGF0aW9uIHN1Y2Nlc3NmdWwsIGNvbnRpbnVlIHdpdGggbm9ybWFsIGZsb3dcbiAgICAgICAgY29uc29sZS5sb2coJ1N1cnZleSB2YWxpZGF0aW9uIHN1Y2Nlc3NmdWw6JywgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIFxuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTdXJ2ZXkgdmFsaWRhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHZhbGlkYXRlIHN1cnZleSBhY2Nlc3MnKTtcbiAgICAgICAgc2V0Q3VycmVudFN0ZXAoJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhbGlkYXRlU3VydmV5QWNjZXNzKCk7XG4gIH0sIFtwcm9qZWN0SWQsIHVpZCwgcm91dGVyXSk7XG5cbiAgLy8gU2F2ZSBzZXNzaW9uIGRhdGEgdG8gYnJvd3NlciBzdG9yYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlc3Npb25EYXRhKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdzdXJ2ZXlTZXNzaW9uJywgSlNPTi5zdHJpbmdpZnkoc2Vzc2lvbkRhdGEpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgc2Vzc2lvbiBkYXRhIHRvIHNlc3Npb25TdG9yYWdlOicsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3Nlc3Npb25EYXRhXSk7XG5cbiAgLy8gSGFuZGxlIGJlaGF2aW9yIGRhdGEgY29sbGVjdGlvblxuICBjb25zdCBoYW5kbGVCZWhhdmlvckRhdGEgPSAoZGF0YTogQmVoYXZpb3JEYXRhKSA9PiB7XG4gICAgc2V0QmVoYXZpb3JEYXRhKGRhdGEpO1xuICAgICAgLy8gVXBkYXRlIHNlc3Npb24gbWV0YWRhdGEgd2l0aCBiZWhhdmlvciBkYXRhXG4gICAgc2V0U2Vzc2lvbkRhdGEoKHByZXY6IGFueSkgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICAuLi5wcmV2Lm1ldGFkYXRhLFxuICAgICAgICBiZWhhdmlvcjogZGF0YVxuICAgICAgfVxuICAgIH0pKTtcblxuICAgIC8vIENoZWNrIGZvciBzdXNwaWNpb3VzIHBhdHRlcm5zXG4gICAgY29uc3QgbW91c2VNb3ZlU3BlZWQgPSBkYXRhLm1vdXNlTW92ZW1lbnRzIC8gKGRhdGEuaWRsZVRpbWUgfHwgMSk7XG4gICAgXG4gICAgaWYgKG1vdXNlTW92ZVNwZWVkID4gMTAwKSB7IC8vIFVudXN1YWxseSBmYXN0IG1vdXNlIG1vdmVtZW50c1xuICAgICAgc3VzcGljaW91c0FjdGl2aXR5LmN1cnJlbnQuYm90TGlrZUJlaGF2aW9yID0gdHJ1ZTtcbiAgICAgIHN1c3BpY2lvdXNBY3Rpdml0eS5jdXJyZW50LmZsYWdzLnB1c2goJ1VudXN1YWxseSBmYXN0IG1vdXNlIG1vdmVtZW50cycpO1xuICAgIH1cblxuICAgIGlmIChkYXRhLmNvcHlQYXN0ZUV2ZW50cyA+IDUpIHsgLy8gRXhjZXNzaXZlIGNvcHktcGFzdGUgYWN0aW9uc1xuICAgICAgc3VzcGljaW91c0FjdGl2aXR5LmN1cnJlbnQuYm90TGlrZUJlaGF2aW9yID0gdHJ1ZTtcbiAgICAgIHN1c3BpY2lvdXNBY3Rpdml0eS5jdXJyZW50LmZsYWdzLnB1c2goJ0V4Y2Vzc2l2ZSBjb3B5L3Bhc3RlIGRldGVjdGVkJyk7XG4gICAgfVxuICAgICAgLy8gQWRkIHN1c3BpY2lvdXMgYWN0aXZpdHkgdG8gc2Vzc2lvbiBkYXRhXG4gICAgaWYgKHN1c3BpY2lvdXNBY3Rpdml0eS5jdXJyZW50LmZsYWdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHNldFNlc3Npb25EYXRhKChwcmV2OiBhbnkpID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgLi4ucHJldi5tZXRhZGF0YSxcbiAgICAgICAgICBzdXNwaWNpb3VzRmxhZ3M6IHN1c3BpY2lvdXNBY3Rpdml0eS5jdXJyZW50LmZsYWdzXG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIENBUFRDSEEgdmVyaWZpY2F0aW9uXG4gIGNvbnN0IGhhbmRsZUNhcHRjaGFWZXJpZnkgPSAodmVyaWZpZWQ6IGJvb2xlYW4pID0+IHtcbiAgICBzZXRDYXB0Y2hhVmVyaWZpZWQodmVyaWZpZWQpO1xuICAgIFxuICAgIGlmICh2ZXJpZmllZCkgeyAgICAgIC8vIEFkZCBDQVBUQ0hBIHZlcmlmaWNhdGlvbiB0byBzZXNzaW9uIGRhdGFcbiAgICAgIHNldFNlc3Npb25EYXRhKChwcmV2OiBhbnkpID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgLi4ucHJldi5tZXRhZGF0YSxcbiAgICAgICAgICBjYXB0Y2hhVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgICAgY2FwdGNoYVZlcmlmaWVkQXQ6IERhdGUubm93KClcbiAgICAgICAgfVxuICAgICAgfSkpO1xuXG4gICAgICAvLyBNb3ZlIHRvIHRyYXAgcXVlc3Rpb24gaWYgd2UgaGF2ZSB0cmFwIHF1ZXN0aW9ucywgb3RoZXJ3aXNlIGRpcmVjdGx5IHRvIHN1cnZleVxuICAgICAgc2V0Q3VycmVudFN0ZXAoJ3RyYXAtcXVlc3Rpb24nKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIHRyYXAgcXVlc3Rpb24gYW5zd2Vyc1xuICBjb25zdCBoYW5kbGVUcmFwUXVlc3Rpb25BbnN3ZXIgPSBhc3luYyAocXVlc3Rpb246IHN0cmluZywgYW5zd2VyOiBzdHJpbmcsIGlzQ29ycmVjdDogYm9vbGVhbikgPT4geyAgICAvLyBTdG9yZSBhbnN3ZXIgaW4gc2Vzc2lvbiBkYXRhXG4gICAgc2V0U2Vzc2lvbkRhdGEoKHByZXY6IGFueSkgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBhbnN3ZXJzOiBbLi4ucHJldi5hbnN3ZXJzLCB7IHF1ZXN0aW9uLCBhbnN3ZXIsIGlzQ29ycmVjdCB9XVxuICAgIH0pKTtcblxuICAgIGlmICghaXNDb3JyZWN0KSB7XG4gICAgICAvLyBGbGFnIHN1c3BpY2lvdXMgYWN0aXZpdHkgaWYgdHJhcCBxdWVzdGlvbiBpcyBhbnN3ZXJlZCBpbmNvcnJlY3RseVxuICAgICAgc3VzcGljaW91c0FjdGl2aXR5LmN1cnJlbnQuaW5jb25zaXN0ZW50QW5zd2VycyA9IHRydWU7XG4gICAgICBzdXNwaWNpb3VzQWN0aXZpdHkuY3VycmVudC5mbGFncy5wdXNoKCdJbmNvcnJlY3QgdHJhcCBxdWVzdGlvbiBhbnN3ZXInKTtcbiAgICAgIFxuICAgICAgLy8gV2Ugc2hvdWxkIHN0aWxsIGNvbnRpbnVlIHRvIHRoZSBzdXJ2ZXkgYnV0IGZsYWcgdGhpc1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgnL2FwaS9saW5rcy9mbGFnJywge1xuICAgICAgICAgIHByb2plY3RJZCxcbiAgICAgICAgICB1aWQsXG4gICAgICAgICAgcmVhc29uOiAnRmFpbGVkIHRyYXAgcXVlc3Rpb24nLFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBxdWVzdGlvbixcbiAgICAgICAgICAgIGFuc3dlcixcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZsYWcgaW5jb3JyZWN0IHRyYXAgcXVlc3Rpb246JywgZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRUcmFwUXVlc3Rpb25zVmVyaWZpZWQodHJ1ZSk7XG4gICAgc2V0Q3VycmVudFN0ZXAoJ3N1cnZleScpO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBzdXJ2ZXkgc3RhdHVzIGNoYW5nZXMgZnJvbSBJZnJhbWVNb25pdG9yXG4gIGNvbnN0IGhhbmRsZVN1cnZleVN0YXR1c0NoYW5nZSA9IChzdGF0dXM6IHN0cmluZywgZGF0YT86IGFueSkgPT4ge1xuICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICBjYXNlICdDT01QTEVURUQnOlxuICAgICAgICBzZXRDdXJyZW50U3RlcCgnY29tcGxldGVkJyk7XG4gICAgICAgIC8vIFJlZGlyZWN0IGFmdGVyIGEgc2hvcnQgZGVsYXlcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcm91dGVyLnB1c2goYC90aGFuay15b3UtY29tcGxldGVkP3Byb2plY3RJZD0ke3Byb2plY3RJZH0mdWlkPSR7dWlkfWApO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBcbiAgICAgIGNhc2UgJ1FVT1RBX0ZVTEwnOlxuICAgICAgICBzZXRDdXJyZW50U3RlcCgncXVvdGEtZnVsbCcpO1xuICAgICAgICAvLyBSZWRpcmVjdCBhZnRlciBhIHNob3J0IGRlbGF5XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHJvdXRlci5wdXNoKGAvc29ycnktcXVvdGEtZnVsbD9wcm9qZWN0SWQ9JHtwcm9qZWN0SWR9JnVpZD0ke3VpZH1gKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgXG4gICAgICBjYXNlICdESVNRVUFMSUZJRUQnOlxuICAgICAgICBzZXRDdXJyZW50U3RlcCgnZGlzcXVhbGlmaWVkJyk7XG4gICAgICAgIC8vIFJlZGlyZWN0IGFmdGVyIGEgc2hvcnQgZGVsYXlcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcm91dGVyLnB1c2goYC9zb3JyeS1kaXNxdWFsaWZpZWQ/cHJvamVjdElkPSR7cHJvamVjdElkfSZ1aWQ9JHt1aWR9YCk7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgICBicmVhaztcbiAgICAgIFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gT3RoZXIgc3RhdHVzIGNoYW5nZXMgZG9uJ3QgbmVlZCBwYWdlIG5hdmlnYXRpb25cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhhbmRsZSBlcnJvcnNcbiAgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyb3JNZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIHNldEN1cnJlbnRTdGVwKCdlcnJvcicpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzdXJ2ZXktZmxvdy1jb250YWluZXIgcmVsYXRpdmVcIj5cbiAgICAgIHsvKiBUcmFjayBiZWhhdmlvciB0aHJvdWdob3V0IGFsbCBzdGVwcyAqL31cbiAgICAgIDxCZWhhdmlvclRyYWNrZXIgb25EYXRhQ29sbGVjdGVkPXtoYW5kbGVCZWhhdmlvckRhdGF9IHN0YXJ0VHJhY2tpbmc9e3RydWV9IC8+XG4gICAgICBcbiAgICAgIHsvKiBSZW5kZXIgY3VycmVudCBzdGVwICovfVxuICAgICAge2N1cnJlbnRTdGVwID09PSAnY2FwdGNoYScgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBtYXgtdy1tZCBteC1hdXRvIGJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LW1kXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBtYi00XCI+UGxlYXNlIFZlcmlmeSBZb3UgQXJlIEh1bWFuPC9oMj5cbiAgICAgICAgICA8Q3VzdG9tQ2FwdGNoYSBvblZlcmlmeT17aGFuZGxlQ2FwdGNoYVZlcmlmeX0gZGlmZmljdWx0eT1cIm1lZGl1bVwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAge2N1cnJlbnRTdGVwID09PSAndHJhcC1xdWVzdGlvbicgJiYgY2FwdGNoYVZlcmlmaWVkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgbWF4LXctbWQgbXgtYXV0byBiZy13aGl0ZSByb3VuZGVkLXhsIHNoYWRvdy1tZFwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItNFwiPlF1aWNrIFF1ZXN0aW9uPC9oMj5cbiAgICAgICAgICA8VHJhcFF1ZXN0aW9uIFxuICAgICAgICAgICAgcHJvamVjdElkPXtwcm9qZWN0SWR9IFxuICAgICAgICAgICAgb25BbnN3ZXI9e2hhbmRsZVRyYXBRdWVzdGlvbkFuc3dlcn0gXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7Y3VycmVudFN0ZXAgPT09ICdzdXJ2ZXknICYmIGNhcHRjaGFWZXJpZmllZCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbFwiPlxuICAgICAgICAgIDxJZnJhbWVNb25pdG9yIFxuICAgICAgICAgICAgcHJvamVjdElkPXtwcm9qZWN0SWR9XG4gICAgICAgICAgICB1aWQ9e3VpZH1cbiAgICAgICAgICAgIHVybD17c3VydmV5VXJsfVxuICAgICAgICAgICAgb25TdGF0dXNDaGFuZ2U9e2hhbmRsZVN1cnZleVN0YXR1c0NoYW5nZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHtjdXJyZW50U3RlcCA9PT0gJ2Vycm9yJyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02IG1heC13LW1kIG14LWF1dG8gYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctbWRcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LW1lZGl1bSB0ZXh0LXJlZC02MDAgbWItMlwiPkVycm9yPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudFN0ZXAoJ2NhcHRjaGEnKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTQgcHgtNCBweS0yIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTYwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgVHJ5IEFnYWluXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgeyhjdXJyZW50U3RlcCA9PT0gJ2NvbXBsZXRlZCcgfHwgY3VycmVudFN0ZXAgPT09ICdkaXNxdWFsaWZpZWQnIHx8IGN1cnJlbnRTdGVwID09PSAncXVvdGEtZnVsbCcpICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgbWF4LXctbWQgbXgtYXV0byBiZy13aGl0ZSByb3VuZGVkLXhsIHNoYWRvdy1tZFwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItNFwiPlxuICAgICAgICAgICAge2N1cnJlbnRTdGVwID09PSAnY29tcGxldGVkJyA/ICdTdXJ2ZXkgQ29tcGxldGVkJyA6IFxuICAgICAgICAgICAgIGN1cnJlbnRTdGVwID09PSAncXVvdGEtZnVsbCcgPyAnU3VydmV5IFF1b3RhIEZ1bGwnIDogJ05vdCBFbGlnaWJsZSd9XG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICB7Y3VycmVudFN0ZXAgPT09ICdjb21wbGV0ZWQnID8gXG4gICAgICAgICAgICAgICdUaGFuayB5b3UgZm9yIGNvbXBsZXRpbmcgdGhlIHN1cnZleS4gWW91IHdpbGwgYmUgcmVkaXJlY3RlZCBzaG9ydGx5LicgOlxuICAgICAgICAgICAgIGN1cnJlbnRTdGVwID09PSAncXVvdGEtZnVsbCcgPyBcbiAgICAgICAgICAgICAgJ1RoZSBxdW90YSBmb3IgdGhpcyBzdXJ2ZXkgaGFzIGJlZW4gZmlsbGVkLiBUaGFuayB5b3UgZm9yIHlvdXIgaW50ZXJlc3QuJyA6XG4gICAgICAgICAgICAgICdZb3UgZG8gbm90IG1hdGNoIHRoZSBjcml0ZXJpYSBmb3IgdGhpcyBzdXJ2ZXkuIFRoYW5rIHlvdSBmb3IgeW91ciBpbnRlcmVzdC4nfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgbXQtNFwiPlJlZGlyZWN0aW5nIHlvdSBpbiBhIGZldyBzZWNvbmRzLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTdXJ2ZXlGbG93O1xuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlUm91dGVyIiwiYXhpb3MiLCJCZWhhdmlvclRyYWNrZXIiLCJUcmFwUXVlc3Rpb24iLCJDdXN0b21DYXB0Y2hhIiwiSWZyYW1lTW9uaXRvciIsIlN1cnZleUZsb3ciLCJwcm9qZWN0SWQiLCJ1aWQiLCJzdXJ2ZXlVcmwiLCJ2ZW5kb3JJZCIsInJvdXRlciIsImN1cnJlbnRTdGVwIiwic2V0Q3VycmVudFN0ZXAiLCJlcnJvciIsInNldEVycm9yIiwiYmVoYXZpb3JEYXRhIiwic2V0QmVoYXZpb3JEYXRhIiwiY2FwdGNoYVZlcmlmaWVkIiwic2V0Q2FwdGNoYVZlcmlmaWVkIiwidHJhcFF1ZXN0aW9uc1ZlcmlmaWVkIiwic2V0VHJhcFF1ZXN0aW9uc1ZlcmlmaWVkIiwic2Vzc2lvbkRhdGEiLCJzZXRTZXNzaW9uRGF0YSIsInRva2VuIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsImFuc3dlcnMiLCJtZXRhZGF0YSIsInN1c3BpY2lvdXNBY3Rpdml0eSIsInJhcGlkQW5zd2VycyIsImluY29uc2lzdGVudEFuc3dlcnMiLCJib3RMaWtlQmVoYXZpb3IiLCJmbGFnZ2VkIiwiZmxhZ3MiLCJ2YWxpZGF0ZVN1cnZleUFjY2VzcyIsInJlc3BvbnNlIiwicG9zdCIsImRhdGEiLCJzdWNjZXNzIiwicmVkaXJlY3QiLCJwdXNoIiwiY29uc29sZSIsImxvZyIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlIiwiaGFuZGxlQmVoYXZpb3JEYXRhIiwicHJldiIsImJlaGF2aW9yIiwibW91c2VNb3ZlU3BlZWQiLCJtb3VzZU1vdmVtZW50cyIsImlkbGVUaW1lIiwiY3VycmVudCIsImNvcHlQYXN0ZUV2ZW50cyIsImxlbmd0aCIsInN1c3BpY2lvdXNGbGFncyIsImhhbmRsZUNhcHRjaGFWZXJpZnkiLCJ2ZXJpZmllZCIsImNhcHRjaGFWZXJpZmllZEF0IiwiaGFuZGxlVHJhcFF1ZXN0aW9uQW5zd2VyIiwicXVlc3Rpb24iLCJhbnN3ZXIiLCJpc0NvcnJlY3QiLCJyZWFzb24iLCJ0aW1lc3RhbXAiLCJlcnIiLCJoYW5kbGVTdXJ2ZXlTdGF0dXNDaGFuZ2UiLCJzdGF0dXMiLCJzZXRUaW1lb3V0IiwiaGFuZGxlRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkRhdGFDb2xsZWN0ZWQiLCJzdGFydFRyYWNraW5nIiwiaDIiLCJvblZlcmlmeSIsImRpZmZpY3VsdHkiLCJvbkFuc3dlciIsInVybCIsIm9uU3RhdHVzQ2hhbmdlIiwicCIsImJ1dHRvbiIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/SurveyFlow.tsx\n");

/***/ }),

/***/ "./src/components/TrapQuestion.tsx":
/*!*****************************************!*\
  !*** ./src/components/TrapQuestion.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_amplify_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/amplify-data-service */ \"./src/lib/amplify-data-service.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_amplify_data_service__WEBPACK_IMPORTED_MODULE_2__]);\n_lib_amplify_data_service__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n/**\n * Component to present trap questions to users\n * These questions help detect bots and inattentive users\n */ const TrapQuestion = ({ projectId, onAnswer })=>{\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [question, setQuestion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [userAnswer, setUserAnswer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [submitted, setSubmitted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Load a random question\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchQuestion = async ()=>{\n            try {\n                setLoading(true);\n                setError(null);\n                const amplifyDataService = await (0,_lib_amplify_data_service__WEBPACK_IMPORTED_MODULE_2__.getAmplifyDataService)();\n                // Fetch questions for this project\n                const questionsResult = await amplifyDataService.questions.listByProject(projectId);\n                const questions = questionsResult.data || [];\n                if (questions.length === 0) {\n                    setError(\"No questions available\");\n                    setLoading(false);\n                    return;\n                }\n                // Select a random question\n                const randomIndex = Math.floor(Math.random() * questions.length);\n                const selectedQuestion = questions[randomIndex];\n                // Extract options from JSON if they exist\n                let options = [];\n                if (selectedQuestion.options) {\n                    try {\n                        if (typeof selectedQuestion.options === \"string\") {\n                            options = JSON.parse(selectedQuestion.options);\n                        } else if (Array.isArray(selectedQuestion.options)) {\n                            options = selectedQuestion.options;\n                        }\n                    } catch (e) {\n                        console.error(\"Error parsing question options:\", e);\n                    }\n                }\n                setQuestion({\n                    id: selectedQuestion.id,\n                    text: selectedQuestion.text,\n                    type: selectedQuestion.type || \"TEXT\",\n                    options: options,\n                    correctAnswer: typeof selectedQuestion.options === \"object\" && selectedQuestion.options !== null ? selectedQuestion.options.correctAnswer || \"\" : \"\"\n                });\n            } catch (err) {\n                console.error(\"Error fetching trap question:\", err);\n                setError(\"Failed to load question\");\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchQuestion();\n    }, [\n        projectId\n    ]);\n    // Handle form submission\n    const handleSubmit = (e)=>{\n        e.preventDefault();\n        setSubmitted(true);\n        if (!question) return;\n        // Check if the answer is correct\n        // For multiple choice, exact match is required\n        // For text input, we'll do a case-insensitive comparison\n        const isCorrect = question.type === \"MULTIPLE_CHOICE\" ? userAnswer === question.correctAnswer : userAnswer.toLowerCase().trim() === question.correctAnswer.toLowerCase().trim();\n        onAnswer(question.text, userAnswer, isCorrect);\n    };\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-red-50 p-4 rounded-md\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-red-600\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                lineNumber: 103,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n            lineNumber: 102,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex justify-center p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                lineNumber: 111,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n            lineNumber: 110,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (!question) {\n        return null;\n    }\n    if (submitted) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-green-50 p-4 rounded-md\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-green-600\",\n                children: \"Thank you for your response.\"\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                lineNumber: 123,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n            lineNumber: 122,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"border p-4 rounded-md shadow-sm mb-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                className: \"font-medium text-gray-800 mb-3\",\n                children: question.text\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                lineNumber: 130,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSubmit,\n                children: [\n                    question.type === \"MULTIPLE_CHOICE\" && question.options && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-2\",\n                        children: question.options.map((option, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"radio\",\n                                        id: `option-${index}`,\n                                        name: \"trapAnswer\",\n                                        value: option,\n                                        onChange: (e)=>setUserAnswer(e.target.value),\n                                        required: true,\n                                        className: \"mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                                        lineNumber: 137,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: `option-${index}`,\n                                        className: \"text-gray-700\",\n                                        children: option\n                                    }, void 0, false, {\n                                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                                        lineNumber: 146,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, index, true, {\n                                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                                lineNumber: 136,\n                                columnNumber: 15\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                        lineNumber: 134,\n                        columnNumber: 11\n                    }, undefined),\n                    question.type === \"TEXT\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        value: userAnswer,\n                        onChange: (e)=>setUserAnswer(e.target.value),\n                        required: true,\n                        placeholder: \"Enter your answer here\",\n                        className: \"w-full p-2 border border-gray-300 rounded-md\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                        lineNumber: 153,\n                        columnNumber: 11\n                    }, undefined),\n                    question.type === \"COUNTRY\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        value: userAnswer,\n                        onChange: (e)=>setUserAnswer(e.target.value),\n                        required: true,\n                        className: \"w-full p-2 border border-gray-300 rounded-md\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"\",\n                                children: \"Select your country\"\n                            }, void 0, false, {\n                                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                                lineNumber: 170,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"US\",\n                                children: \"United States\"\n                            }, void 0, false, {\n                                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                                lineNumber: 171,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"CA\",\n                                children: \"Canada\"\n                            }, void 0, false, {\n                                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                                lineNumber: 172,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"GB\",\n                                children: \"United Kingdom\"\n                            }, void 0, false, {\n                                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                                lineNumber: 173,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"AU\",\n                                children: \"Australia\"\n                            }, void 0, false, {\n                                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                                lineNumber: 174,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                        lineNumber: 164,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"submit\",\n                            className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n                            children: \"Submit Answer\"\n                        }, void 0, false, {\n                            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                            lineNumber: 180,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                        lineNumber: 179,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n                lineNumber: 132,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/components/TrapQuestion.tsx\",\n        lineNumber: 129,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TrapQuestion);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NkMsVUFBVSxDQUFDeEIsSUFBTXBCLGNBQWNvQixFQUFFeUIsTUFBTSxDQUFDRixLQUFLO3dCQUM3Q0csUUFBUTt3QkFDUkcsYUFBWTt3QkFDWmhCLFdBQVU7Ozs7OztvQkFJYnBDLFNBQVMyQixJQUFJLEtBQUssMkJBQ2pCLDhEQUFDMEI7d0JBQ0NQLE9BQU81Qzt3QkFDUDZDLFVBQVUsQ0FBQ3hCLElBQU1wQixjQUFjb0IsRUFBRXlCLE1BQU0sQ0FBQ0YsS0FBSzt3QkFDN0NHLFFBQVE7d0JBQ1JiLFdBQVU7OzBDQUVWLDhEQUFDTTtnQ0FBT0ksT0FBTTswQ0FBRzs7Ozs7OzBDQUNqQiw4REFBQ0o7Z0NBQU9JLE9BQU07MENBQUs7Ozs7OzswQ0FDbkIsOERBQUNKO2dDQUFPSSxPQUFNOzBDQUFLOzs7Ozs7MENBQ25CLDhEQUFDSjtnQ0FBT0ksT0FBTTswQ0FBSzs7Ozs7OzBDQUNuQiw4REFBQ0o7Z0NBQU9JLE9BQU07MENBQUs7Ozs7Ozs7Ozs7OztrQ0FLdkIsOERBQUNYO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDa0I7NEJBQ0MzQixNQUFLOzRCQUNMUyxXQUFVO3NDQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9YO0FBRUEsaUVBQWUzQyxZQUFZQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VydmV5LWxpbmstd3JhcHBlci8uL3NyYy9jb21wb25lbnRzL1RyYXBRdWVzdGlvbi50c3g/MTI2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0QW1wbGlmeURhdGFTZXJ2aWNlIH0gZnJvbSAnQC9saWIvYW1wbGlmeS1kYXRhLXNlcnZpY2UnO1xuXG5pbnRlcmZhY2UgVHJhcFF1ZXN0aW9uUHJvcHMge1xuICBwcm9qZWN0SWQ6IHN0cmluZztcbiAgb25BbnN3ZXI6IChxdWVzdGlvbjogc3RyaW5nLCBhbnN3ZXI6IHN0cmluZywgaXNDb3JyZWN0OiBib29sZWFuKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYXBRdWVzdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBvcHRpb25zPzogc3RyaW5nW107XG4gIGNvcnJlY3RBbnN3ZXI6IHN0cmluZztcbn1cblxuLyoqXG4gKiBDb21wb25lbnQgdG8gcHJlc2VudCB0cmFwIHF1ZXN0aW9ucyB0byB1c2Vyc1xuICogVGhlc2UgcXVlc3Rpb25zIGhlbHAgZGV0ZWN0IGJvdHMgYW5kIGluYXR0ZW50aXZlIHVzZXJzXG4gKi9cbmNvbnN0IFRyYXBRdWVzdGlvbjogUmVhY3QuRkM8VHJhcFF1ZXN0aW9uUHJvcHM+ID0gKHsgcHJvamVjdElkLCBvbkFuc3dlciB9KSA9PiB7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcXVlc3Rpb24sIHNldFF1ZXN0aW9uXSA9IHVzZVN0YXRlPFRyYXBRdWVzdGlvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdXNlckFuc3dlciwgc2V0VXNlckFuc3dlcl0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW3N1Ym1pdHRlZCwgc2V0U3VibWl0dGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBMb2FkIGEgcmFuZG9tIHF1ZXN0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hRdWVzdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYW1wbGlmeURhdGFTZXJ2aWNlID0gYXdhaXQgZ2V0QW1wbGlmeURhdGFTZXJ2aWNlKCk7XG4gICAgICAgIC8vIEZldGNoIHF1ZXN0aW9ucyBmb3IgdGhpcyBwcm9qZWN0XG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uc1Jlc3VsdCA9IGF3YWl0IGFtcGxpZnlEYXRhU2VydmljZS5xdWVzdGlvbnMubGlzdEJ5UHJvamVjdChwcm9qZWN0SWQpO1xuICAgICAgICBjb25zdCBxdWVzdGlvbnMgPSBxdWVzdGlvbnNSZXN1bHQuZGF0YSB8fCBbXTtcbiAgICAgICAgXG4gICAgICAgIGlmIChxdWVzdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgc2V0RXJyb3IoJ05vIHF1ZXN0aW9ucyBhdmFpbGFibGUnKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNlbGVjdCBhIHJhbmRvbSBxdWVzdGlvblxuICAgICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHF1ZXN0aW9ucy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZFF1ZXN0aW9uID0gcXVlc3Rpb25zW3JhbmRvbUluZGV4XTtcbiAgICAgICAgXG4gICAgICAgIC8vIEV4dHJhY3Qgb3B0aW9ucyBmcm9tIEpTT04gaWYgdGhleSBleGlzdFxuICAgICAgICBsZXQgb3B0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgaWYgKHNlbGVjdGVkUXVlc3Rpb24ub3B0aW9ucykge1xuICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RlZFF1ZXN0aW9uLm9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMgPSBKU09OLnBhcnNlKHNlbGVjdGVkUXVlc3Rpb24ub3B0aW9ucykgYXMgc3RyaW5nW107XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0ZWRRdWVzdGlvbi5vcHRpb25zKSkge1xuICAgICAgICAgICAgICBvcHRpb25zID0gc2VsZWN0ZWRRdWVzdGlvbi5vcHRpb25zIGFzIHN0cmluZ1tdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgcXVlc3Rpb24gb3B0aW9uczonLCBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldFF1ZXN0aW9uKHtcbiAgICAgICAgICBpZDogc2VsZWN0ZWRRdWVzdGlvbi5pZCxcbiAgICAgICAgICB0ZXh0OiBzZWxlY3RlZFF1ZXN0aW9uLnRleHQsXG4gICAgICAgICAgdHlwZTogc2VsZWN0ZWRRdWVzdGlvbi50eXBlIHx8ICdURVhUJyxcbiAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgIGNvcnJlY3RBbnN3ZXI6IHR5cGVvZiBzZWxlY3RlZFF1ZXN0aW9uLm9wdGlvbnMgPT09ICdvYmplY3QnICYmIHNlbGVjdGVkUXVlc3Rpb24ub3B0aW9ucyAhPT0gbnVsbCBcbiAgICAgICAgICAgID8gKHNlbGVjdGVkUXVlc3Rpb24ub3B0aW9ucyBhcyBhbnkpLmNvcnJlY3RBbnN3ZXIgfHwgJydcbiAgICAgICAgICAgIDogJydcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdHJhcCBxdWVzdGlvbjonLCBlcnIpO1xuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGxvYWQgcXVlc3Rpb24nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaFF1ZXN0aW9uKCk7XG4gIH0sIFtwcm9qZWN0SWRdKTtcblxuICAvLyBIYW5kbGUgZm9ybSBzdWJtaXNzaW9uXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2V0U3VibWl0dGVkKHRydWUpO1xuICAgIFxuICAgIGlmICghcXVlc3Rpb24pIHJldHVybjtcbiAgICBcbiAgICAvLyBDaGVjayBpZiB0aGUgYW5zd2VyIGlzIGNvcnJlY3RcbiAgICAvLyBGb3IgbXVsdGlwbGUgY2hvaWNlLCBleGFjdCBtYXRjaCBpcyByZXF1aXJlZFxuICAgIC8vIEZvciB0ZXh0IGlucHV0LCB3ZSdsbCBkbyBhIGNhc2UtaW5zZW5zaXRpdmUgY29tcGFyaXNvblxuICAgIGNvbnN0IGlzQ29ycmVjdCA9IHF1ZXN0aW9uLnR5cGUgPT09ICdNVUxUSVBMRV9DSE9JQ0UnXG4gICAgICA/IHVzZXJBbnN3ZXIgPT09IHF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJcbiAgICAgIDogdXNlckFuc3dlci50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gcXVlc3Rpb24uY29ycmVjdEFuc3dlci50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICBcbiAgICBvbkFuc3dlcihxdWVzdGlvbi50ZXh0LCB1c2VyQW5zd2VyLCBpc0NvcnJlY3QpO1xuICB9O1xuXG4gIGlmIChlcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC01MCBwLTQgcm91bmRlZC1tZFwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC02MDBcIj57ZXJyb3J9PC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItYmx1ZS02MDBcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoIXF1ZXN0aW9uKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoc3VibWl0dGVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNTAgcC00IHJvdW5kZWQtbWRcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi02MDBcIj5UaGFuayB5b3UgZm9yIHlvdXIgcmVzcG9uc2UuPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgcC00IHJvdW5kZWQtbWQgc2hhZG93LXNtIG1iLTRcIj5cbiAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktODAwIG1iLTNcIj57cXVlc3Rpb24udGV4dH08L2gzPlxuICAgICAgXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fT5cbiAgICAgICAge3F1ZXN0aW9uLnR5cGUgPT09ICdNVUxUSVBMRV9DSE9JQ0UnICYmIHF1ZXN0aW9uLm9wdGlvbnMgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICB7cXVlc3Rpb24ub3B0aW9ucy5tYXAoKG9wdGlvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgIGlkPXtgb3B0aW9uLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJ0cmFwQW5zd2VyXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtvcHRpb259XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFVzZXJBbnN3ZXIoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1yLTJcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9e2BvcHRpb24tJHtpbmRleH1gfSBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwXCI+e29wdGlvbn08L2xhYmVsPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAge3F1ZXN0aW9uLnR5cGUgPT09ICdURVhUJyAmJiAoXG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17dXNlckFuc3dlcn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VXNlckFuc3dlcihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciB5b3VyIGFuc3dlciBoZXJlXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAge3F1ZXN0aW9uLnR5cGUgPT09ICdDT1VOVFJZJyAmJiAoXG4gICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgdmFsdWU9e3VzZXJBbnN3ZXJ9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFVzZXJBbnN3ZXIoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IHlvdXIgY291bnRyeTwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlVTXCI+VW5pdGVkIFN0YXRlczwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkNBXCI+Q2FuYWRhPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiR0JcIj5Vbml0ZWQgS2luZ2RvbTwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkFVXCI+QXVzdHJhbGlhPC9vcHRpb24+XG4gICAgICAgICAgICB7LyogQWRkIG1vcmUgY291bnRyaWVzIGFzIG5lZWRlZCAqL31cbiAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCBob3ZlcjpiZy1ibHVlLTcwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgU3VibWl0IEFuc3dlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRyYXBRdWVzdGlvbjtcbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImdldEFtcGxpZnlEYXRhU2VydmljZSIsIlRyYXBRdWVzdGlvbiIsInByb2plY3RJZCIsIm9uQW5zd2VyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwicXVlc3Rpb24iLCJzZXRRdWVzdGlvbiIsInVzZXJBbnN3ZXIiLCJzZXRVc2VyQW5zd2VyIiwic3VibWl0dGVkIiwic2V0U3VibWl0dGVkIiwiZmV0Y2hRdWVzdGlvbiIsImFtcGxpZnlEYXRhU2VydmljZSIsInF1ZXN0aW9uc1Jlc3VsdCIsInF1ZXN0aW9ucyIsImxpc3RCeVByb2plY3QiLCJkYXRhIiwibGVuZ3RoIiwicmFuZG9tSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZWxlY3RlZFF1ZXN0aW9uIiwib3B0aW9ucyIsIkpTT04iLCJwYXJzZSIsIkFycmF5IiwiaXNBcnJheSIsImUiLCJjb25zb2xlIiwiaWQiLCJ0ZXh0IiwidHlwZSIsImNvcnJlY3RBbnN3ZXIiLCJlcnIiLCJoYW5kbGVTdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsImlzQ29ycmVjdCIsInRvTG93ZXJDYXNlIiwidHJpbSIsImRpdiIsImNsYXNzTmFtZSIsInAiLCJoMyIsImZvcm0iLCJvblN1Ym1pdCIsIm1hcCIsIm9wdGlvbiIsImluZGV4IiwiaW5wdXQiLCJuYW1lIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInJlcXVpcmVkIiwibGFiZWwiLCJodG1sRm9yIiwicGxhY2Vob2xkZXIiLCJzZWxlY3QiLCJidXR0b24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/TrapQuestion.tsx\n");

/***/ }),

/***/ "./src/lib/amplify-config.ts":
/*!***********************************!*\
  !*** ./src/lib/amplify-config.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAmplifyConfig: () => (/* binding */ getAmplifyConfig)\n/* harmony export */ });\n/* harmony import */ var _amplify_outputs_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../amplify_outputs.json */ \"./amplify_outputs.json\");\n\n// Export the Amplify Gen 2 configuration\nfunction getAmplifyConfig() {\n    return _amplify_outputs_json__WEBPACK_IMPORTED_MODULE_0__;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2FtcGxpZnktY29uZmlnLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdEO0FBRXhELHlDQUF5QztBQUNsQyxTQUFTQztJQUNkLE9BQU9ELGtEQUFjQTtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cnZleS1saW5rLXdyYXBwZXIvLi9zcmMvbGliL2FtcGxpZnktY29uZmlnLnRzPzRhYjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFtcGxpZnlPdXRwdXRzIGZyb20gJy4uLy4uL2FtcGxpZnlfb3V0cHV0cy5qc29uJztcblxuLy8gRXhwb3J0IHRoZSBBbXBsaWZ5IEdlbiAyIGNvbmZpZ3VyYXRpb25cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbXBsaWZ5Q29uZmlnKCkge1xuICByZXR1cm4gYW1wbGlmeU91dHB1dHM7XG59Il0sIm5hbWVzIjpbImFtcGxpZnlPdXRwdXRzIiwiZ2V0QW1wbGlmeUNvbmZpZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/amplify-config.ts\n");

/***/ }),

/***/ "./src/lib/amplify-data-service.ts":
/*!*****************************************!*\
  !*** ./src/lib/amplify-data-service.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAmplifyDataService: () => (/* binding */ getAmplifyDataService)\n/* harmony export */ });\n/* harmony import */ var aws_amplify_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-amplify/api */ \"aws-amplify/api\");\n/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ \"aws-amplify\");\n/* harmony import */ var _amplify_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./amplify-config */ \"./src/lib/amplify-config.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([aws_amplify_api__WEBPACK_IMPORTED_MODULE_0__, aws_amplify__WEBPACK_IMPORTED_MODULE_1__]);\n([aws_amplify_api__WEBPACK_IMPORTED_MODULE_0__, aws_amplify__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nlet amplifyDataService = null;\nasync function getAmplifyDataService() {\n    if (true) {\n        throw new Error(\"amplifyDataService can only be used on the client/browser.\");\n    }\n    if (amplifyDataService) return amplifyDataService;\n    const amplifyConfig = (0,_amplify_config__WEBPACK_IMPORTED_MODULE_2__.getAmplifyConfig)();\n    if (!amplifyConfig?.data?.url) {\n        throw new Error(\"Amplify config is missing GraphQL endpoint.\");\n    }\n    aws_amplify__WEBPACK_IMPORTED_MODULE_1__.Amplify.configure(amplifyConfig);\n    const client = (0,aws_amplify_api__WEBPACK_IMPORTED_MODULE_0__.generateClient)({\n        authMode: \"userPool\"\n    });\n    // Debug logging\n    console.log(\"Amplify Data client:\", client);\n    console.log(\"client.models:\", client.models);\n    // Check if models are available\n    if (!client.models || Object.keys(client.models).length === 0) {\n        console.error(\"client.models is empty! This usually means the Amplify backend is not properly connected.\");\n        throw new Error(\"Amplify Data models are not available. Please check your backend connection.\");\n    }\n    // Verify required models exist\n    const requiredModels = [\n        \"Project\",\n        \"Vendor\",\n        \"Question\",\n        \"SurveyLink\",\n        \"ProjectVendor\"\n    ];\n    for (const modelName of requiredModels){\n        if (!client.models[modelName]) {\n            console.error(`${modelName} model is missing from Amplify Data client!`);\n            throw new Error(`Required model ${modelName} is not available in the Amplify Data client.`);\n        }\n    }\n    console.log(\"All required models are available:\", requiredModels);\n    // Helper to safely unwrap data from Amplify responses\n    const unwrapData = (result)=>result.data;\n    // Helper to handle Amplify errors in a consistent way\n    const handleAmplifyError = (error, operation)=>{\n        const errorMessage = error.message || \"Unknown error\";\n        const errorName = error.name || \"Error\";\n        console.error(`Amplify Error (${operation}):`, {\n            name: errorName,\n            message: errorMessage\n        });\n        throw error;\n    };\n    amplifyDataService = {\n        client,\n        projects: {\n            create: async (data)=>{\n                try {\n                    const result = await client.models.Project.create(data);\n                    return {\n                        data: unwrapData(result)\n                    };\n                } catch (error) {\n                    handleAmplifyError(error, \"projects.create\");\n                    return {\n                        data: null\n                    };\n                }\n            },\n            get: async (id)=>{\n                const result = await client.models.Project.get({\n                    id\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            list: async (filter)=>{\n                const result = await client.models.Project.list(filter);\n                return {\n                    data: result.data || []\n                };\n            },\n            update: async (id, data)=>{\n                const result = await client.models.Project.update({\n                    id,\n                    ...data\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            delete: async (id)=>{\n                const result = await client.models.Project.delete({\n                    id\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            getWithRelations: async (id)=>{\n                // Fetch project and related data separately\n                const project = await client.models.Project.get({\n                    id\n                });\n                if (project.data) {\n                    // Fetch related data separately\n                    const surveyLinks = await client.models.SurveyLink.list({\n                        filter: {\n                            projectId: {\n                                eq: id\n                            }\n                        }\n                    });\n                    // First get ProjectVendor relationships for this project\n                    const projectVendors = await client.models.ProjectVendor.list({\n                        filter: {\n                            projectId: {\n                                eq: id\n                            }\n                        }\n                    });\n                    // Then get the actual vendors if there are project-vendor relationships\n                    const vendorIds = projectVendors.data.map((pv)=>pv.vendorId).filter((id)=>id !== null && id !== undefined);\n                    let vendorData = [];\n                    // Fetch vendors if there are any relationships\n                    if (vendorIds.length > 0) {\n                        const vendorResults = await Promise.all(vendorIds.map((vid)=>client.models.Vendor.get({\n                                id: vid\n                            })));\n                        // Extract data from each result\n                        vendorData = vendorResults.filter((result)=>result.data !== null).map((result)=>result.data);\n                    }\n                    const questions = await client.models.Question.list({\n                        filter: {\n                            projectId: {\n                                eq: id\n                            }\n                        }\n                    });\n                    // Combine project with its related data\n                    return {\n                        data: {\n                            ...project.data,\n                            surveyLinks: surveyLinks.data || [],\n                            vendors: vendorData,\n                            questions: questions.data || []\n                        }\n                    };\n                }\n                return {\n                    data: null\n                };\n            }\n        },\n        surveyLinks: {\n            create: async (data)=>{\n                const result = await client.models.SurveyLink.create(data);\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            get: async (id)=>{\n                const result = await client.models.SurveyLink.get({\n                    id\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            getByUid: async (uid)=>{\n                const results = await client.models.SurveyLink.list({\n                    filter: {\n                        uid: {\n                            eq: uid\n                        }\n                    }\n                });\n                return {\n                    data: results.data && results.data.length > 0 ? results.data[0] : null\n                };\n            },\n            update: async (id, data)=>{\n                const result = await client.models.SurveyLink.update({\n                    id,\n                    ...data\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            list: async (filter)=>{\n                const result = await client.models.SurveyLink.list(filter);\n                return {\n                    data: result.data || []\n                };\n            },\n            listByProject: async (projectId)=>{\n                const result = await client.models.SurveyLink.list({\n                    filter: {\n                        projectId: {\n                            eq: projectId\n                        }\n                    }\n                });\n                return {\n                    data: result.data || []\n                };\n            },\n            delete: async (id)=>{\n                const result = await client.models.SurveyLink.delete({\n                    id\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            }\n        },\n        vendors: {\n            create: async (data)=>{\n                const result = await client.models.Vendor.create(data);\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            get: async (id)=>{\n                const result = await client.models.Vendor.get({\n                    id\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            list: async (filter)=>{\n                const result = await client.models.Vendor.list(filter);\n                return {\n                    data: result.data || []\n                };\n            },\n            listByProject: async (projectId)=>{\n                // Get project-vendor relationships first\n                const projectVendors = await client.models.ProjectVendor.list({\n                    filter: {\n                        projectId: {\n                            eq: projectId\n                        }\n                    }\n                });\n                // Get vendor IDs from relationships\n                const vendorIds = projectVendors.data.map((pv)=>pv.vendorId).filter((id)=>id !== null && id !== undefined);\n                // Fetch each vendor individually if there are any relationships\n                if (vendorIds.length > 0) {\n                    const vendorResults = await Promise.all(vendorIds.map((vid)=>client.models.Vendor.get({\n                            id: vid\n                        })));\n                    // Extract data from each result and filter out nulls\n                    const vendorData = vendorResults.map((result)=>result.data).filter((v)=>v !== null);\n                    return {\n                        data: vendorData\n                    };\n                }\n                return {\n                    data: []\n                };\n            },\n            update: async (id, data)=>{\n                const result = await client.models.Vendor.update({\n                    id,\n                    ...data\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            delete: async (id)=>{\n                const result = await client.models.Vendor.delete({\n                    id\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            }\n        },\n        questions: {\n            create: async (data)=>{\n                const result = await client.models.Question.create(data);\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            get: async (id)=>{\n                const result = await client.models.Question.get({\n                    id\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            list: async (filter)=>{\n                const result = await client.models.Question.list(filter);\n                return {\n                    data: result.data || []\n                };\n            },\n            listByProject: async (projectId)=>{\n                const result = await client.models.Question.list({\n                    filter: {\n                        projectId: {\n                            eq: projectId\n                        }\n                    }\n                });\n                return {\n                    data: result.data || []\n                };\n            },\n            update: async (id, data)=>{\n                const result = await client.models.Question.update({\n                    id,\n                    ...data\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            },\n            delete: async (id)=>{\n                const result = await client.models.Question.delete({\n                    id\n                });\n                return {\n                    data: unwrapData(result)\n                };\n            }\n        },\n        // Helper for transactions (not directly supported in Amplify Data, using batch operations)\n        transaction: {\n            execute: async (operations)=>{\n                // Execute operations in sequence\n                const results = [];\n                for (const operation of operations){\n                    const result = await operation;\n                    results.push(result);\n                }\n                return results;\n            }\n        }\n    };\n    return amplifyDataService;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPO29CQUFFbkMsTUFBTWUsT0FBT2YsSUFBSSxJQUFJLEVBQUU7Z0JBQUM7WUFDbkM7WUFDQTZCLFFBQVEsT0FBT0gsSUFBWTFCO2dCQUN6QixNQUFNZSxTQUFTLE1BQU1aLE9BQU9JLE1BQU0sQ0FBQzRDLFFBQVEsQ0FBQ3RCLE1BQU0sQ0FBQztvQkFBRUg7b0JBQUksR0FBRzFCLElBQUk7Z0JBQUM7Z0JBQ2pFLE9BQU87b0JBQUVBLE1BQU1jLFdBQVdDO2dCQUFRO1lBQ3BDO1lBQ0FlLFFBQVEsT0FBT0o7Z0JBQ2IsTUFBTVgsU0FBUyxNQUFNWixPQUFPSSxNQUFNLENBQUM0QyxRQUFRLENBQUNyQixNQUFNLENBQUM7b0JBQUVKO2dCQUFHO2dCQUN4RCxPQUFPO29CQUFFMUIsTUFBTWMsV0FBV0M7Z0JBQVE7WUFDcEM7UUFDRjtRQUVBLDJGQUEyRjtRQUMzRjJDLGFBQWE7WUFDWEMsU0FBUyxPQUFPQztnQkFDZCxpQ0FBaUM7Z0JBQ2pDLE1BQU1MLFVBQVUsRUFBRTtnQkFDbEIsS0FBSyxNQUFNdEMsYUFBYTJDLFdBQVk7b0JBQ2xDLE1BQU03QyxTQUFTLE1BQU1FO29CQUNyQnNDLFFBQVFNLElBQUksQ0FBQzlDO2dCQUNmO2dCQUNBLE9BQU93QztZQUNUO1FBQ0Y7SUFDRjtJQUVBLE9BQU8zRDtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VydmV5LWxpbmstd3JhcHBlci8uL3NyYy9saWIvYW1wbGlmeS1kYXRhLXNlcnZpY2UudHM/NDU5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmF0ZUNsaWVudCB9IGZyb20gJ2F3cy1hbXBsaWZ5L2FwaSc7XG5pbXBvcnQgeyBBbXBsaWZ5IH0gZnJvbSAnYXdzLWFtcGxpZnknO1xuaW1wb3J0IHsgZ2V0QW1wbGlmeUNvbmZpZyB9IGZyb20gJy4vYW1wbGlmeS1jb25maWcnO1xuaW1wb3J0IHR5cGUgeyBTY2hlbWEgfSBmcm9tICcuLi8uLi9hbXBsaWZ5L2RhdGEvcmVzb3VyY2UnO1xuXG5sZXQgYW1wbGlmeURhdGFTZXJ2aWNlOiBhbnkgPSBudWxsO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QW1wbGlmeURhdGFTZXJ2aWNlKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2FtcGxpZnlEYXRhU2VydmljZSBjYW4gb25seSBiZSB1c2VkIG9uIHRoZSBjbGllbnQvYnJvd3Nlci4nKTtcbiAgfVxuICBpZiAoYW1wbGlmeURhdGFTZXJ2aWNlKSByZXR1cm4gYW1wbGlmeURhdGFTZXJ2aWNlO1xuXG4gIGNvbnN0IGFtcGxpZnlDb25maWcgPSBnZXRBbXBsaWZ5Q29uZmlnKCk7XG4gIGlmICghYW1wbGlmeUNvbmZpZz8uZGF0YT8udXJsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbXBsaWZ5IGNvbmZpZyBpcyBtaXNzaW5nIEdyYXBoUUwgZW5kcG9pbnQuJyk7XG4gIH1cbiAgQW1wbGlmeS5jb25maWd1cmUoYW1wbGlmeUNvbmZpZyk7XG5cbiAgY29uc3QgY2xpZW50ID0gZ2VuZXJhdGVDbGllbnQ8U2NoZW1hPih7IGF1dGhNb2RlOiAndXNlclBvb2wnIH0pO1xuICBcbiAgLy8gRGVidWcgbG9nZ2luZ1xuICBjb25zb2xlLmxvZygnQW1wbGlmeSBEYXRhIGNsaWVudDonLCBjbGllbnQpO1xuICBjb25zb2xlLmxvZygnY2xpZW50Lm1vZGVsczonLCBjbGllbnQubW9kZWxzKTtcbiAgXG4gIC8vIENoZWNrIGlmIG1vZGVscyBhcmUgYXZhaWxhYmxlXG4gIGlmICghY2xpZW50Lm1vZGVscyB8fCBPYmplY3Qua2V5cyhjbGllbnQubW9kZWxzKS5sZW5ndGggPT09IDApIHtcbiAgICBjb25zb2xlLmVycm9yKCdjbGllbnQubW9kZWxzIGlzIGVtcHR5ISBUaGlzIHVzdWFsbHkgbWVhbnMgdGhlIEFtcGxpZnkgYmFja2VuZCBpcyBub3QgcHJvcGVybHkgY29ubmVjdGVkLicpO1xuICAgIHRocm93IG5ldyBFcnJvcignQW1wbGlmeSBEYXRhIG1vZGVscyBhcmUgbm90IGF2YWlsYWJsZS4gUGxlYXNlIGNoZWNrIHlvdXIgYmFja2VuZCBjb25uZWN0aW9uLicpO1xuICB9XG4gIFxuICAvLyBWZXJpZnkgcmVxdWlyZWQgbW9kZWxzIGV4aXN0XG4gIGNvbnN0IHJlcXVpcmVkTW9kZWxzID0gWydQcm9qZWN0JywgJ1ZlbmRvcicsICdRdWVzdGlvbicsICdTdXJ2ZXlMaW5rJywgJ1Byb2plY3RWZW5kb3InXSBhcyBjb25zdDtcbiAgZm9yIChjb25zdCBtb2RlbE5hbWUgb2YgcmVxdWlyZWRNb2RlbHMpIHtcbiAgICBpZiAoIWNsaWVudC5tb2RlbHNbbW9kZWxOYW1lXSkge1xuICAgICAgY29uc29sZS5lcnJvcihgJHttb2RlbE5hbWV9IG1vZGVsIGlzIG1pc3NpbmcgZnJvbSBBbXBsaWZ5IERhdGEgY2xpZW50IWApO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXF1aXJlZCBtb2RlbCAke21vZGVsTmFtZX0gaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgQW1wbGlmeSBEYXRhIGNsaWVudC5gKTtcbiAgICB9XG4gIH1cbiAgXG4gIGNvbnNvbGUubG9nKCdBbGwgcmVxdWlyZWQgbW9kZWxzIGFyZSBhdmFpbGFibGU6JywgcmVxdWlyZWRNb2RlbHMpO1xuXG4gIC8vIEhlbHBlciB0byBzYWZlbHkgdW53cmFwIGRhdGEgZnJvbSBBbXBsaWZ5IHJlc3BvbnNlc1xuICBjb25zdCB1bndyYXBEYXRhID0gPFQ+KHJlc3VsdDogeyBkYXRhOiBUIHwgbnVsbCB9KTogVCB8IG51bGwgPT4gcmVzdWx0LmRhdGE7XG4gIFxuICAvLyBIZWxwZXIgdG8gaGFuZGxlIEFtcGxpZnkgZXJyb3JzIGluIGEgY29uc2lzdGVudCB3YXlcbiAgY29uc3QgaGFuZGxlQW1wbGlmeUVycm9yID0gKGVycm9yOiBhbnksIG9wZXJhdGlvbjogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcic7XG4gICAgY29uc3QgZXJyb3JOYW1lID0gZXJyb3IubmFtZSB8fCAnRXJyb3InO1xuICAgIGNvbnNvbGUuZXJyb3IoYEFtcGxpZnkgRXJyb3IgKCR7b3BlcmF0aW9ufSk6YCwgeyBuYW1lOiBlcnJvck5hbWUsIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSB9KTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfTtcblxuICBhbXBsaWZ5RGF0YVNlcnZpY2UgPSB7XG4gICAgY2xpZW50LFxuICAgIHByb2plY3RzOiB7XG4gICAgICBjcmVhdGU6IGFzeW5jIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlByb2plY3QuY3JlYXRlKGRhdGEpO1xuICAgICAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGhhbmRsZUFtcGxpZnlFcnJvcihlcnJvciwgJ3Byb2plY3RzLmNyZWF0ZScpO1xuICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldDogYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0LmdldCh7IGlkIH0pO1xuICAgICAgICByZXR1cm4geyBkYXRhOiB1bndyYXBEYXRhKHJlc3VsdCkgfTtcbiAgICAgIH0sXG4gICAgICBsaXN0OiBhc3luYyAoZmlsdGVyPzogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuUHJvamVjdC5saXN0KGZpbHRlcik7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhIHx8IFtdIH07XG4gICAgICB9LFxuICAgICAgdXBkYXRlOiBhc3luYyAoaWQ6IHN0cmluZywgZGF0YTogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuUHJvamVjdC51cGRhdGUoeyBpZCwgLi4uZGF0YSB9KTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XG4gICAgICB9LFxuICAgICAgZGVsZXRlOiBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlByb2plY3QuZGVsZXRlKHsgaWQgfSk7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xuICAgICAgfSxcbiAgICAgIGdldFdpdGhSZWxhdGlvbnM6IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIC8vIEZldGNoIHByb2plY3QgYW5kIHJlbGF0ZWQgZGF0YSBzZXBhcmF0ZWx5XG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCBjbGllbnQubW9kZWxzLlByb2plY3QuZ2V0KHsgaWQgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAocHJvamVjdC5kYXRhKSB7XG4gICAgICAgICAgLy8gRmV0Y2ggcmVsYXRlZCBkYXRhIHNlcGFyYXRlbHlcbiAgICAgICAgICBjb25zdCBzdXJ2ZXlMaW5rcyA9IGF3YWl0IGNsaWVudC5tb2RlbHMuU3VydmV5TGluay5saXN0KHtcbiAgICAgICAgICAgIGZpbHRlcjogeyBwcm9qZWN0SWQ6IHsgZXE6IGlkIH0gfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZpcnN0IGdldCBQcm9qZWN0VmVuZG9yIHJlbGF0aW9uc2hpcHMgZm9yIHRoaXMgcHJvamVjdFxuICAgICAgICAgIGNvbnN0IHByb2plY3RWZW5kb3JzID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0VmVuZG9yLmxpc3Qoe1xuICAgICAgICAgICAgZmlsdGVyOiB7IHByb2plY3RJZDogeyBlcTogaWQgfSB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVGhlbiBnZXQgdGhlIGFjdHVhbCB2ZW5kb3JzIGlmIHRoZXJlIGFyZSBwcm9qZWN0LXZlbmRvciByZWxhdGlvbnNoaXBzXG4gICAgICAgICAgY29uc3QgdmVuZG9ySWRzID0gcHJvamVjdFZlbmRvcnMuZGF0YVxuICAgICAgICAgICAgLm1hcCgocHY6IGFueSkgPT4gcHYudmVuZG9ySWQpXG4gICAgICAgICAgICAuZmlsdGVyKChpZDogYW55KTogaWQgaXMgc3RyaW5nID0+IGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGxldCB2ZW5kb3JEYXRhOiBhbnlbXSA9IFtdO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZldGNoIHZlbmRvcnMgaWYgdGhlcmUgYXJlIGFueSByZWxhdGlvbnNoaXBzXG4gICAgICAgICAgaWYgKHZlbmRvcklkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB2ZW5kb3JSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgIHZlbmRvcklkcy5tYXAoKHZpZDogc3RyaW5nKSA9PiBjbGllbnQubW9kZWxzLlZlbmRvci5nZXQoeyBpZDogdmlkIH0pKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgZGF0YSBmcm9tIGVhY2ggcmVzdWx0XG4gICAgICAgICAgICB2ZW5kb3JEYXRhID0gdmVuZG9yUmVzdWx0c1xuICAgICAgICAgICAgICAuZmlsdGVyKChyZXN1bHQ6IGFueSkgPT4gcmVzdWx0LmRhdGEgIT09IG51bGwpXG4gICAgICAgICAgICAgIC5tYXAoKHJlc3VsdDogYW55KSA9PiByZXN1bHQuZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHF1ZXN0aW9ucyA9IGF3YWl0IGNsaWVudC5tb2RlbHMuUXVlc3Rpb24ubGlzdCh7XG4gICAgICAgICAgICBmaWx0ZXI6IHsgcHJvamVjdElkOiB7IGVxOiBpZCB9IH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb21iaW5lIHByb2plY3Qgd2l0aCBpdHMgcmVsYXRlZCBkYXRhXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgLi4ucHJvamVjdC5kYXRhLFxuICAgICAgICAgICAgICBzdXJ2ZXlMaW5rczogc3VydmV5TGlua3MuZGF0YSB8fCBbXSxcbiAgICAgICAgICAgICAgdmVuZG9yczogdmVuZG9yRGF0YSxcbiAgICAgICAgICAgICAgcXVlc3Rpb25zOiBxdWVzdGlvbnMuZGF0YSB8fCBbXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHN1cnZleUxpbmtzOiB7XG4gICAgICBjcmVhdGU6IGFzeW5jIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5TdXJ2ZXlMaW5rLmNyZWF0ZShkYXRhKTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XG4gICAgICB9LFxuICAgICAgZ2V0OiBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlN1cnZleUxpbmsuZ2V0KHsgaWQgfSk7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xuICAgICAgfSxcbiAgICAgIGdldEJ5VWlkOiBhc3luYyAodWlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGNsaWVudC5tb2RlbHMuU3VydmV5TGluay5saXN0KHsgZmlsdGVyOiB7IHVpZDogeyBlcTogdWlkIH0gfSB9KTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogKHJlc3VsdHMuZGF0YSAmJiByZXN1bHRzLmRhdGEubGVuZ3RoID4gMCkgPyByZXN1bHRzLmRhdGFbMF0gOiBudWxsIH07XG4gICAgICB9LFxuICAgICAgdXBkYXRlOiBhc3luYyAoaWQ6IHN0cmluZywgZGF0YTogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuU3VydmV5TGluay51cGRhdGUoeyBpZCwgLi4uZGF0YSB9KTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XG4gICAgICB9LFxuICAgICAgbGlzdDogYXN5bmMgKGZpbHRlcj86IGFueSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlN1cnZleUxpbmsubGlzdChmaWx0ZXIpO1xuICAgICAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YSB8fCBbXSB9O1xuICAgICAgfSxcbiAgICAgIGxpc3RCeVByb2plY3Q6IGFzeW5jIChwcm9qZWN0SWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlN1cnZleUxpbmsubGlzdCh7IGZpbHRlcjogeyBwcm9qZWN0SWQ6IHsgZXE6IHByb2plY3RJZCB9IH0gfSk7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhIHx8IFtdIH07XG4gICAgICB9LFxuICAgICAgZGVsZXRlOiBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlN1cnZleUxpbmsuZGVsZXRlKHsgaWQgfSk7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xuICAgICAgfVxuICAgIH0sXG4gICAgdmVuZG9yczoge1xuICAgICAgY3JlYXRlOiBhc3luYyAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuVmVuZG9yLmNyZWF0ZShkYXRhKTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XG4gICAgICB9LFxuICAgICAgZ2V0OiBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlZlbmRvci5nZXQoeyBpZCB9KTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XG4gICAgICB9LFxuICAgICAgbGlzdDogYXN5bmMgKGZpbHRlcj86IGFueSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlZlbmRvci5saXN0KGZpbHRlcik7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhIHx8IFtdIH07XG4gICAgICB9LFxuICAgICAgbGlzdEJ5UHJvamVjdDogYXN5bmMgKHByb2plY3RJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIC8vIEdldCBwcm9qZWN0LXZlbmRvciByZWxhdGlvbnNoaXBzIGZpcnN0XG4gICAgICAgIGNvbnN0IHByb2plY3RWZW5kb3JzID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0VmVuZG9yLmxpc3Qoe1xuICAgICAgICAgIGZpbHRlcjogeyBwcm9qZWN0SWQ6IHsgZXE6IHByb2plY3RJZCB9IH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEdldCB2ZW5kb3IgSURzIGZyb20gcmVsYXRpb25zaGlwc1xuICAgICAgICBjb25zdCB2ZW5kb3JJZHMgPSBwcm9qZWN0VmVuZG9ycy5kYXRhXG4gICAgICAgICAgLm1hcCgocHY6IGFueSkgPT4gcHYudmVuZG9ySWQpXG4gICAgICAgICAgLmZpbHRlcigoaWQ6IGFueSk6IGlkIGlzIHN0cmluZyA9PiBpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgLy8gRmV0Y2ggZWFjaCB2ZW5kb3IgaW5kaXZpZHVhbGx5IGlmIHRoZXJlIGFyZSBhbnkgcmVsYXRpb25zaGlwc1xuICAgICAgICBpZiAodmVuZG9ySWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCB2ZW5kb3JSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICB2ZW5kb3JJZHMubWFwKCh2aWQ6IHN0cmluZykgPT4gY2xpZW50Lm1vZGVscy5WZW5kb3IuZ2V0KHsgaWQ6IHZpZCB9KSlcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIEV4dHJhY3QgZGF0YSBmcm9tIGVhY2ggcmVzdWx0IGFuZCBmaWx0ZXIgb3V0IG51bGxzXG4gICAgICAgICAgY29uc3QgdmVuZG9yRGF0YSA9IHZlbmRvclJlc3VsdHNcbiAgICAgICAgICAgIC5tYXAoKHJlc3VsdDogYW55KSA9PiByZXN1bHQuZGF0YSlcbiAgICAgICAgICAgIC5maWx0ZXIoKHY6IGFueSk6IHYgaXMgTm9uTnVsbGFibGU8dHlwZW9mIHY+ID0+IHYgIT09IG51bGwpO1xuICAgICAgICAgIHJldHVybiB7IGRhdGE6IHZlbmRvckRhdGEgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkYXRhOiBbXSB9O1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogYXN5bmMgKGlkOiBzdHJpbmcsIGRhdGE6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlZlbmRvci51cGRhdGUoeyBpZCwgLi4uZGF0YSB9KTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XG4gICAgICB9LFxuICAgICAgZGVsZXRlOiBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlZlbmRvci5kZWxldGUoeyBpZCB9KTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBxdWVzdGlvbnM6IHtcbiAgICAgIGNyZWF0ZTogYXN5bmMgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlF1ZXN0aW9uLmNyZWF0ZShkYXRhKTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XG4gICAgICB9LFxuICAgICAgZ2V0OiBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlF1ZXN0aW9uLmdldCh7IGlkIH0pO1xuICAgICAgICByZXR1cm4geyBkYXRhOiB1bndyYXBEYXRhKHJlc3VsdCkgfTtcbiAgICAgIH0sXG4gICAgICBsaXN0OiBhc3luYyAoZmlsdGVyPzogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuUXVlc3Rpb24ubGlzdChmaWx0ZXIpO1xuICAgICAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YSB8fCBbXSB9O1xuICAgICAgfSxcbiAgICAgIGxpc3RCeVByb2plY3Q6IGFzeW5jIChwcm9qZWN0SWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlF1ZXN0aW9uLmxpc3QoeyBmaWx0ZXI6IHsgcHJvamVjdElkOiB7IGVxOiBwcm9qZWN0SWQgfSB9IH0pO1xuICAgICAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YSB8fCBbXSB9O1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogYXN5bmMgKGlkOiBzdHJpbmcsIGRhdGE6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlF1ZXN0aW9uLnVwZGF0ZSh7IGlkLCAuLi5kYXRhIH0pO1xuICAgICAgICByZXR1cm4geyBkYXRhOiB1bndyYXBEYXRhKHJlc3VsdCkgfTtcbiAgICAgIH0sXG4gICAgICBkZWxldGU6IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuUXVlc3Rpb24uZGVsZXRlKHsgaWQgfSk7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBIZWxwZXIgZm9yIHRyYW5zYWN0aW9ucyAobm90IGRpcmVjdGx5IHN1cHBvcnRlZCBpbiBBbXBsaWZ5IERhdGEsIHVzaW5nIGJhdGNoIG9wZXJhdGlvbnMpXG4gICAgdHJhbnNhY3Rpb246IHtcbiAgICAgIGV4ZWN1dGU6IGFzeW5jIChvcGVyYXRpb25zOiBhbnlbXSkgPT4ge1xuICAgICAgICAvLyBFeGVjdXRlIG9wZXJhdGlvbnMgaW4gc2VxdWVuY2VcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiBvcGVyYXRpb25zKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlcmF0aW9uO1xuICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgXG4gIHJldHVybiBhbXBsaWZ5RGF0YVNlcnZpY2U7XG59Il0sIm5hbWVzIjpbImdlbmVyYXRlQ2xpZW50IiwiQW1wbGlmeSIsImdldEFtcGxpZnlDb25maWciLCJhbXBsaWZ5RGF0YVNlcnZpY2UiLCJnZXRBbXBsaWZ5RGF0YVNlcnZpY2UiLCJFcnJvciIsImFtcGxpZnlDb25maWciLCJkYXRhIiwidXJsIiwiY29uZmlndXJlIiwiY2xpZW50IiwiYXV0aE1vZGUiLCJjb25zb2xlIiwibG9nIiwibW9kZWxzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImVycm9yIiwicmVxdWlyZWRNb2RlbHMiLCJtb2RlbE5hbWUiLCJ1bndyYXBEYXRhIiwicmVzdWx0IiwiaGFuZGxlQW1wbGlmeUVycm9yIiwib3BlcmF0aW9uIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImVycm9yTmFtZSIsIm5hbWUiLCJwcm9qZWN0cyIsImNyZWF0ZSIsIlByb2plY3QiLCJnZXQiLCJpZCIsImxpc3QiLCJmaWx0ZXIiLCJ1cGRhdGUiLCJkZWxldGUiLCJnZXRXaXRoUmVsYXRpb25zIiwicHJvamVjdCIsInN1cnZleUxpbmtzIiwiU3VydmV5TGluayIsInByb2plY3RJZCIsImVxIiwicHJvamVjdFZlbmRvcnMiLCJQcm9qZWN0VmVuZG9yIiwidmVuZG9ySWRzIiwibWFwIiwicHYiLCJ2ZW5kb3JJZCIsInVuZGVmaW5lZCIsInZlbmRvckRhdGEiLCJ2ZW5kb3JSZXN1bHRzIiwiUHJvbWlzZSIsImFsbCIsInZpZCIsIlZlbmRvciIsInF1ZXN0aW9ucyIsIlF1ZXN0aW9uIiwidmVuZG9ycyIsImdldEJ5VWlkIiwidWlkIiwicmVzdWx0cyIsImxpc3RCeVByb2plY3QiLCJ2IiwidHJhbnNhY3Rpb24iLCJleGVjdXRlIiwib3BlcmF0aW9ucyIsInB1c2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/amplify-data-service.ts\n");

/***/ }),

/***/ "./src/lib/amplify-server-service.ts":
/*!*******************************************!*\
  !*** ./src/lib/amplify-server-service.ts ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAmplifyServerService: () => (/* binding */ getAmplifyServerService)\n/* harmony export */ });\n/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-amplify */ \"aws-amplify\");\n/* harmony import */ var _amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../amplify_outputs.json */ \"./amplify_outputs.json\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([aws_amplify__WEBPACK_IMPORTED_MODULE_0__]);\naws_amplify__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// Initialize Amplify\naws_amplify__WEBPACK_IMPORTED_MODULE_0__.Amplify.configure(_amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__);\nclass AmplifyServerService {\n    constructor(){\n        this.apiEndpoint = _amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__.data.url;\n        this.apiKey = _amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__.data.api_key;\n    }\n    async makeGraphQLRequest(query, variables = {}) {\n        try {\n            const response = await fetch(this.apiEndpoint, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"x-api-key\": this.apiKey\n                },\n                body: JSON.stringify({\n                    query,\n                    variables\n                })\n            });\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            const result = await response.json();\n            if (result.errors) {\n                console.error(`GraphQL errors:`, result.errors);\n            }\n            return result;\n        } catch (error) {\n            console.error(\"GraphQL request failed:\", error);\n            throw error;\n        }\n    }\n    // Project operations\n    async getProject(id) {\n        const query = `\n      query GetProject($id: ID!) {\n        getProject(id: $id) {\n          id\n          name\n          description\n          status\n          targetCompletions\n          currentCompletions\n          surveyUrl\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            id\n        });\n        return {\n            data: result.data?.getProject || null\n        };\n    }\n    async listProjects() {\n        const query = `\n      query ListProjects {\n        listProjects {\n          items {\n            id\n            name\n            description\n            status\n            targetCompletions\n            currentCompletions\n            surveyUrl\n            settings\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query);\n        return {\n            data: result.data?.listProjects?.items || []\n        };\n    }\n    // Vendor operations\n    async getVendor(id) {\n        const query = `\n      query GetVendor($id: ID!) {\n        getVendor(id: $id) {\n          id\n          name\n          contactName\n          contactEmail\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            id\n        });\n        return {\n            data: result.data?.getVendor || null\n        };\n    }\n    async listVendors(filter) {\n        const query = `\n      query ListVendors($filter: ModelVendorFilterInput) {\n        listVendors(filter: $filter) {\n          items {\n            id\n            name\n            contactName\n            contactEmail\n            settings\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listVendors?.items || []\n        };\n    }\n    async createVendor(input) {\n        const query = `\n      mutation CreateVendor($input: CreateVendorInput!) {\n        createVendor(input: $input) {\n          id\n          name\n          contactName\n          contactEmail\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.createVendor || null\n        };\n    }\n    async deleteVendor(input) {\n        const query = `\n      mutation DeleteVendor($input: DeleteVendorInput!) {\n        deleteVendor(input: $input) {\n          id\n          name\n          contactName\n          contactEmail\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.deleteVendor || null\n        };\n    }\n    // SurveyLink operations\n    async createSurveyLink(input) {\n        const query = `\n      mutation CreateSurveyLink($input: CreateSurveyLinkInput!) {\n        createSurveyLink(input: $input) {\n          id\n          projectId\n          uid\n          vendorId\n          status\n          metadata\n          createdAt\n          updatedAt\n          clickedAt\n          completedAt\n          ipAddress\n          userAgent\n          geoData\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.createSurveyLink || null\n        };\n    }\n    async listSurveyLinksByProject(projectId) {\n        const query = `\n      query ListSurveyLinks($filter: ModelSurveyLinkFilterInput) {\n        listSurveyLinks(filter: $filter) {\n          items {\n            id\n            projectId\n            uid\n            vendorId\n            status\n            metadata\n            createdAt\n            updatedAt\n            clickedAt\n            completedAt\n            ipAddress\n            userAgent\n            geoData\n          }\n        }\n      }\n    `;\n        const filter = {\n            projectId: {\n                eq: projectId\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listSurveyLinks?.items || []\n        };\n    }\n    async getSurveyLinkByUid(uid) {\n        const query = `\n      query ListSurveyLinks($filter: ModelSurveyLinkFilterInput) {\n        listSurveyLinks(filter: $filter) {\n          items {\n            id\n            projectId\n            uid\n            vendorId\n            status\n            metadata\n            createdAt\n            updatedAt\n            clickedAt\n            completedAt\n            ipAddress\n            userAgent\n            geoData\n          }\n        }\n      }\n    `;\n        const filter = {\n            uid: {\n                eq: uid\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        const items = result.data?.listSurveyLinks?.items || [];\n        return {\n            data: items.length > 0 ? items[0] : null\n        };\n    }\n    async updateSurveyLink(id, input) {\n        const query = `\n      mutation UpdateSurveyLink($input: UpdateSurveyLinkInput!) {\n        updateSurveyLink(input: $input) {\n          id\n          projectId\n          uid\n          vendorId\n          status\n          metadata\n          createdAt\n          updatedAt\n          clickedAt\n          completedAt\n          ipAddress\n          userAgent\n          geoData\n        }\n      }\n    `;\n        const updateInput = {\n            id,\n            ...input\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            input: updateInput\n        });\n        return {\n            data: result.data?.updateSurveyLink || null\n        };\n    }\n    // Question operations\n    async createQuestion(input) {\n        const query = `\n      mutation CreateQuestion($input: CreateQuestionInput!) {\n        createQuestion(input: $input) {\n          id\n          projectId\n          text\n          type\n          options\n          sequence\n          isRequired\n          isTrap\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.createQuestion || null\n        };\n    }\n    async listQuestionsByProject(projectId) {\n        const query = `\n      query ListQuestions($filter: ModelQuestionFilterInput) {\n        listQuestions(filter: $filter) {\n          items {\n            id\n            projectId\n            text\n            type\n            options\n            sequence\n            isRequired\n            isTrap\n            settings\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const filter = {\n            projectId: {\n                eq: projectId\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listQuestions?.items || []\n        };\n    }\n    async deleteQuestion(id) {\n        const query = `\n      mutation DeleteQuestion($input: DeleteQuestionInput!) {\n        deleteQuestion(input: $input) {\n          id\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input: {\n                id\n            }\n        });\n        return {\n            data: result.data?.deleteQuestion || null\n        };\n    }\n    // Response operations\n    async createResponse(input) {\n        const query = `\n      mutation CreateResponse($input: CreateResponseInput!) {\n        createResponse(input: $input) {\n          id\n          surveyLinkId\n          questionId\n          answer\n          metadata\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.createResponse || null\n        };\n    }\n    async listResponsesBySurveyLink(surveyLinkId) {\n        const query = `\n      query ListResponses($filter: ModelResponseFilterInput) {\n        listResponses(filter: $filter) {\n          items {\n            id\n            surveyLinkId\n            questionId\n            answer\n            metadata\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const filter = {\n            surveyLinkId: {\n                eq: surveyLinkId\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listResponses?.items || []\n        };\n    }\n    // ProjectVendor operations\n    async listProjectVendors(filter) {\n        const query = `\n      query ListProjectVendors($filter: ModelProjectVendorFilterInput) {\n        listProjectVendors(filter: $filter) {\n          items {\n            id\n            projectId\n            vendorId\n            quota\n            currentCount\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listProjectVendors?.items || []\n        };\n    }\n    async createProjectVendor(input) {\n        const query = `\n      mutation CreateProjectVendor($input: CreateProjectVendorInput!) {\n        createProjectVendor(input: $input) {\n          id\n          projectId\n          vendorId\n          quota\n          currentCount\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const createInput = {\n            projectId: input.projectId,\n            vendorId: input.vendorId,\n            quota: input.quota || 0,\n            currentCount: input.currentCount || 0\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            input: createInput\n        });\n        return {\n            data: result.data?.createProjectVendor || null\n        };\n    }\n    async updateProjectVendor(projectId, vendorId, updates) {\n        // First find the ProjectVendor record\n        const existingResult = await this.listProjectVendors({\n            and: [\n                {\n                    projectId: {\n                        eq: projectId\n                    }\n                },\n                {\n                    vendorId: {\n                        eq: vendorId\n                    }\n                }\n            ]\n        });\n        if (existingResult.data.length === 0) {\n            return {\n                data: null\n            };\n        }\n        const projectVendor = existingResult.data[0];\n        const query = `\n      mutation UpdateProjectVendor($input: UpdateProjectVendorInput!) {\n        updateProjectVendor(input: $input) {\n          id\n          projectId\n          vendorId\n          quota\n          currentCount\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const input = {\n            id: projectVendor.id,\n            ...updates\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.updateProjectVendor || null\n        };\n    }\n}\n// Create a singleton instance\nlet serverService = null;\nfunction getAmplifyServerService() {\n    if (!serverService) {\n        serverService = new AmplifyServerService();\n    }\n    return serverService;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTWlCLE9BQU9qQixJQUFJLEVBQUV3RCx1QkFBdUI7UUFBSztJQUMxRDtBQUNGO0FBRUEsOEJBQThCO0FBQzlCLElBQUlLLGdCQUE2QztBQUUxQyxTQUFTQztJQUNkLElBQUksQ0FBQ0QsZUFBZTtRQUNsQkEsZ0JBQWdCLElBQUloRTtJQUN0QjtJQUNBLE9BQU9nRTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VydmV5LWxpbmstd3JhcHBlci8uL3NyYy9saWIvYW1wbGlmeS1zZXJ2ZXItc2VydmljZS50cz9lYjk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICdhd3MtYW1wbGlmeSc7XG5pbXBvcnQgb3V0cHV0cyBmcm9tICcuLi8uLi9hbXBsaWZ5X291dHB1dHMuanNvbic7XG5cbi8vIEluaXRpYWxpemUgQW1wbGlmeVxuQW1wbGlmeS5jb25maWd1cmUob3V0cHV0cyk7XG5cbi8vIFR5cGUgZGVmaW5pdGlvbnMgbWF0Y2hpbmcgdGhlIHNjaGVtYVxudHlwZSBQcm9qZWN0U3RhdHVzID0gJ0FDVElWRScgfCAnUEFVU0VEJyB8ICdDT01QTEVURUQnO1xudHlwZSBTdXJ2ZXlMaW5rU3RhdHVzID0gJ1VOVVNFRCcgfCAnQ0xJQ0tFRCcgfCAnQ09NUExFVEVEJyB8ICdESVNRVUFMSUZJRUQnIHwgJ1FVT1RBX0ZVTEwnO1xuXG5pbnRlcmZhY2UgUHJvamVjdCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHN0YXR1czogUHJvamVjdFN0YXR1cztcbiAgdGFyZ2V0Q29tcGxldGlvbnM6IG51bWJlcjtcbiAgY3VycmVudENvbXBsZXRpb25zOiBudW1iZXI7XG4gIHN1cnZleVVybDogc3RyaW5nO1xuICBzZXR0aW5ncz86IGFueTtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVmVuZG9yIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBjb250YWN0TmFtZT86IHN0cmluZztcbiAgY29udGFjdEVtYWlsPzogc3RyaW5nO1xuICBzZXR0aW5ncz86IGFueTtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU3VydmV5TGluayB7XG4gIGlkOiBzdHJpbmc7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICB1aWQ6IHN0cmluZztcbiAgdmVuZG9ySWQ/OiBzdHJpbmc7XG4gIHN0YXR1czogU3VydmV5TGlua1N0YXR1cztcbiAgY2xpY2tlZEF0Pzogc3RyaW5nO1xuICBjb21wbGV0ZWRBdD86IHN0cmluZztcbiAgaXBBZGRyZXNzPzogc3RyaW5nO1xuICB1c2VyQWdlbnQ/OiBzdHJpbmc7XG4gIGdlb0RhdGE/OiBhbnk7XG4gIG1ldGFkYXRhPzogYW55O1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBRdWVzdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG4gIHR5cGU6IHN0cmluZztcbiAgb3B0aW9ucz86IGFueTtcbiAgc2VxdWVuY2U6IG51bWJlcjtcbiAgaXNSZXF1aXJlZDogYm9vbGVhbjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUmVzcG9uc2Uge1xuICBpZDogc3RyaW5nO1xuICBzdXJ2ZXlMaW5rSWQ6IHN0cmluZztcbiAgcXVlc3Rpb25JZDogc3RyaW5nO1xuICBhbnN3ZXI6IHN0cmluZztcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUHJvamVjdFZlbmRvciB7XG4gIGlkOiBzdHJpbmc7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICB2ZW5kb3JJZDogc3RyaW5nO1xuICBxdW90YTogbnVtYmVyO1xuICBjdXJyZW50Q291bnQ6IG51bWJlcjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgR3JhcGhRTFJlc3BvbnNlPFQ+IHtcbiAgZGF0YT86IFQ7XG4gIGVycm9ycz86IEFycmF5PHsgbWVzc2FnZTogc3RyaW5nIH0+O1xufVxuXG5jbGFzcyBBbXBsaWZ5U2VydmVyU2VydmljZSB7XG4gIHByaXZhdGUgYXBpRW5kcG9pbnQ6IHN0cmluZztcbiAgcHJpdmF0ZSBhcGlLZXk6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFwaUVuZHBvaW50ID0gb3V0cHV0cy5kYXRhLnVybDtcbiAgICB0aGlzLmFwaUtleSA9IG91dHB1dHMuZGF0YS5hcGlfa2V5O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBtYWtlR3JhcGhRTFJlcXVlc3Q8VD4ocXVlcnk6IHN0cmluZywgdmFyaWFibGVzOiBhbnkgPSB7fSk6IFByb21pc2U8R3JhcGhRTFJlc3BvbnNlPFQ+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5hcGlFbmRwb2ludCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ3gtYXBpLWtleSc6IHRoaXMuYXBpS2V5LFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcXVlcnksXG4gICAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0LmVycm9ycykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBHcmFwaFFMIGVycm9yczpgLCByZXN1bHQuZXJyb3JzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignR3JhcGhRTCByZXF1ZXN0IGZhaWxlZDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBQcm9qZWN0IG9wZXJhdGlvbnNcbiAgYXN5bmMgZ2V0UHJvamVjdChpZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IFByb2plY3QgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIHF1ZXJ5IEdldFByb2plY3QoJGlkOiBJRCEpIHtcbiAgICAgICAgZ2V0UHJvamVjdChpZDogJGlkKSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBuYW1lXG4gICAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgICAgICBzdGF0dXNcbiAgICAgICAgICB0YXJnZXRDb21wbGV0aW9uc1xuICAgICAgICAgIGN1cnJlbnRDb21wbGV0aW9uc1xuICAgICAgICAgIHN1cnZleVVybFxuICAgICAgICAgIHNldHRpbmdzXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBnZXRQcm9qZWN0OiBQcm9qZWN0IH0+KHF1ZXJ5LCB7IGlkIH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5nZXRQcm9qZWN0IHx8IG51bGwgfTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RQcm9qZWN0cygpOiBQcm9taXNlPHsgZGF0YTogUHJvamVjdFtdIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIHF1ZXJ5IExpc3RQcm9qZWN0cyB7XG4gICAgICAgIGxpc3RQcm9qZWN0cyB7XG4gICAgICAgICAgaXRlbXMge1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICBzdGF0dXNcbiAgICAgICAgICAgIHRhcmdldENvbXBsZXRpb25zXG4gICAgICAgICAgICBjdXJyZW50Q29tcGxldGlvbnNcbiAgICAgICAgICAgIHN1cnZleVVybFxuICAgICAgICAgICAgc2V0dGluZ3NcbiAgICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgbGlzdFByb2plY3RzOiB7IGl0ZW1zOiBQcm9qZWN0W10gfSB9PihxdWVyeSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/Lmxpc3RQcm9qZWN0cz8uaXRlbXMgfHwgW10gfTtcbiAgfVxuXG4gIC8vIFZlbmRvciBvcGVyYXRpb25zXG4gIGFzeW5jIGdldFZlbmRvcihpZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IFZlbmRvciB8IG51bGwgfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgcXVlcnkgR2V0VmVuZG9yKCRpZDogSUQhKSB7XG4gICAgICAgIGdldFZlbmRvcihpZDogJGlkKSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBuYW1lXG4gICAgICAgICAgY29udGFjdE5hbWVcbiAgICAgICAgICBjb250YWN0RW1haWxcbiAgICAgICAgICBzZXR0aW5nc1xuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgZ2V0VmVuZG9yOiBWZW5kb3IgfT4ocXVlcnksIHsgaWQgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LmdldFZlbmRvciB8fCBudWxsIH07XG4gIH1cblxuICBhc3luYyBsaXN0VmVuZG9ycyhmaWx0ZXI/OiBhbnkpOiBQcm9taXNlPHsgZGF0YTogVmVuZG9yW10gfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgcXVlcnkgTGlzdFZlbmRvcnMoJGZpbHRlcjogTW9kZWxWZW5kb3JGaWx0ZXJJbnB1dCkge1xuICAgICAgICBsaXN0VmVuZG9ycyhmaWx0ZXI6ICRmaWx0ZXIpIHtcbiAgICAgICAgICBpdGVtcyB7XG4gICAgICAgICAgICBpZFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgY29udGFjdE5hbWVcbiAgICAgICAgICAgIGNvbnRhY3RFbWFpbFxuICAgICAgICAgICAgc2V0dGluZ3NcbiAgICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgbGlzdFZlbmRvcnM6IHsgaXRlbXM6IFZlbmRvcltdIH0gfT4ocXVlcnksIHsgZmlsdGVyIH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5saXN0VmVuZG9ycz8uaXRlbXMgfHwgW10gfTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVZlbmRvcihpbnB1dDoge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBjb250YWN0TmFtZT86IHN0cmluZztcbiAgICBjb250YWN0RW1haWw/OiBzdHJpbmc7XG4gICAgc2V0dGluZ3M/OiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPHsgZGF0YTogVmVuZG9yIHwgbnVsbCB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBtdXRhdGlvbiBDcmVhdGVWZW5kb3IoJGlucHV0OiBDcmVhdGVWZW5kb3JJbnB1dCEpIHtcbiAgICAgICAgY3JlYXRlVmVuZG9yKGlucHV0OiAkaW5wdXQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgICBjb250YWN0TmFtZVxuICAgICAgICAgIGNvbnRhY3RFbWFpbFxuICAgICAgICAgIHNldHRpbmdzXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBjcmVhdGVWZW5kb3I6IFZlbmRvciB9PihxdWVyeSwgeyBpbnB1dCB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8uY3JlYXRlVmVuZG9yIHx8IG51bGwgfTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVZlbmRvcihpbnB1dDogeyBpZDogc3RyaW5nIH0pOiBQcm9taXNlPHsgZGF0YTogVmVuZG9yIHwgbnVsbCB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBtdXRhdGlvbiBEZWxldGVWZW5kb3IoJGlucHV0OiBEZWxldGVWZW5kb3JJbnB1dCEpIHtcbiAgICAgICAgZGVsZXRlVmVuZG9yKGlucHV0OiAkaW5wdXQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgICBjb250YWN0TmFtZVxuICAgICAgICAgIGNvbnRhY3RFbWFpbFxuICAgICAgICAgIHNldHRpbmdzXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBkZWxldGVWZW5kb3I6IFZlbmRvciB9PihxdWVyeSwgeyBpbnB1dCB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8uZGVsZXRlVmVuZG9yIHx8IG51bGwgfTtcbiAgfVxuXG4gIC8vIFN1cnZleUxpbmsgb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVTdXJ2ZXlMaW5rKGlucHV0OiB7XG4gICAgcHJvamVjdElkOiBzdHJpbmc7XG4gICAgdWlkOiBzdHJpbmc7XG4gICAgdmVuZG9ySWQ/OiBzdHJpbmc7XG4gICAgc3RhdHVzOiBzdHJpbmc7XG4gICAgbWV0YWRhdGE/OiBzdHJpbmc7XG4gICAgZ2VvRGF0YT86IGFueTtcbiAgfSk6IFByb21pc2U8eyBkYXRhOiBTdXJ2ZXlMaW5rIHwgbnVsbCB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBtdXRhdGlvbiBDcmVhdGVTdXJ2ZXlMaW5rKCRpbnB1dDogQ3JlYXRlU3VydmV5TGlua0lucHV0ISkge1xuICAgICAgICBjcmVhdGVTdXJ2ZXlMaW5rKGlucHV0OiAkaW5wdXQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIHByb2plY3RJZFxuICAgICAgICAgIHVpZFxuICAgICAgICAgIHZlbmRvcklkXG4gICAgICAgICAgc3RhdHVzXG4gICAgICAgICAgbWV0YWRhdGFcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgICBjbGlja2VkQXRcbiAgICAgICAgICBjb21wbGV0ZWRBdFxuICAgICAgICAgIGlwQWRkcmVzc1xuICAgICAgICAgIHVzZXJBZ2VudFxuICAgICAgICAgIGdlb0RhdGFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGNyZWF0ZVN1cnZleUxpbms6IFN1cnZleUxpbmsgfT4ocXVlcnksIHsgaW5wdXQgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LmNyZWF0ZVN1cnZleUxpbmsgfHwgbnVsbCB9O1xuICB9XG5cbiAgYXN5bmMgbGlzdFN1cnZleUxpbmtzQnlQcm9qZWN0KHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IFN1cnZleUxpbmtbXSB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBxdWVyeSBMaXN0U3VydmV5TGlua3MoJGZpbHRlcjogTW9kZWxTdXJ2ZXlMaW5rRmlsdGVySW5wdXQpIHtcbiAgICAgICAgbGlzdFN1cnZleUxpbmtzKGZpbHRlcjogJGZpbHRlcikge1xuICAgICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgICAgIHVpZFxuICAgICAgICAgICAgdmVuZG9ySWRcbiAgICAgICAgICAgIHN0YXR1c1xuICAgICAgICAgICAgbWV0YWRhdGFcbiAgICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgICAgICBjbGlja2VkQXRcbiAgICAgICAgICAgIGNvbXBsZXRlZEF0XG4gICAgICAgICAgICBpcEFkZHJlc3NcbiAgICAgICAgICAgIHVzZXJBZ2VudFxuICAgICAgICAgICAgZ2VvRGF0YVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCBmaWx0ZXIgPSB7XG4gICAgICBwcm9qZWN0SWQ6IHsgZXE6IHByb2plY3RJZCB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgbGlzdFN1cnZleUxpbmtzOiB7IGl0ZW1zOiBTdXJ2ZXlMaW5rW10gfSB9PihxdWVyeSwgeyBmaWx0ZXIgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/Lmxpc3RTdXJ2ZXlMaW5rcz8uaXRlbXMgfHwgW10gfTtcbiAgfVxuXG4gIGFzeW5jIGdldFN1cnZleUxpbmtCeVVpZCh1aWQ6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBTdXJ2ZXlMaW5rIHwgbnVsbCB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBxdWVyeSBMaXN0U3VydmV5TGlua3MoJGZpbHRlcjogTW9kZWxTdXJ2ZXlMaW5rRmlsdGVySW5wdXQpIHtcbiAgICAgICAgbGlzdFN1cnZleUxpbmtzKGZpbHRlcjogJGZpbHRlcikge1xuICAgICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgICAgIHVpZFxuICAgICAgICAgICAgdmVuZG9ySWRcbiAgICAgICAgICAgIHN0YXR1c1xuICAgICAgICAgICAgbWV0YWRhdGFcbiAgICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgICAgICBjbGlja2VkQXRcbiAgICAgICAgICAgIGNvbXBsZXRlZEF0XG4gICAgICAgICAgICBpcEFkZHJlc3NcbiAgICAgICAgICAgIHVzZXJBZ2VudFxuICAgICAgICAgICAgZ2VvRGF0YVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCBmaWx0ZXIgPSB7XG4gICAgICB1aWQ6IHsgZXE6IHVpZCB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgbGlzdFN1cnZleUxpbmtzOiB7IGl0ZW1zOiBTdXJ2ZXlMaW5rW10gfSB9PihxdWVyeSwgeyBmaWx0ZXIgfSk7XG4gICAgY29uc3QgaXRlbXMgPSByZXN1bHQuZGF0YT8ubGlzdFN1cnZleUxpbmtzPy5pdGVtcyB8fCBbXTtcbiAgICByZXR1cm4geyBkYXRhOiBpdGVtcy5sZW5ndGggPiAwID8gaXRlbXNbMF0gOiBudWxsIH07XG4gIH1cblxuICBhc3luYyB1cGRhdGVTdXJ2ZXlMaW5rKGlkOiBzdHJpbmcsIGlucHV0OiB7XG4gICAgc3RhdHVzPzogc3RyaW5nO1xuICAgIGNsaWNrZWRBdD86IHN0cmluZztcbiAgICBjb21wbGV0ZWRBdD86IHN0cmluZztcbiAgICBpcEFkZHJlc3M/OiBzdHJpbmc7XG4gICAgdXNlckFnZW50Pzogc3RyaW5nO1xuICAgIGdlb0RhdGE/OiBhbnk7XG4gICAgbWV0YWRhdGE/OiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPHsgZGF0YTogU3VydmV5TGluayB8IG51bGwgfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgbXV0YXRpb24gVXBkYXRlU3VydmV5TGluaygkaW5wdXQ6IFVwZGF0ZVN1cnZleUxpbmtJbnB1dCEpIHtcbiAgICAgICAgdXBkYXRlU3VydmV5TGluayhpbnB1dDogJGlucHV0KSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgICB1aWRcbiAgICAgICAgICB2ZW5kb3JJZFxuICAgICAgICAgIHN0YXR1c1xuICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgICAgY2xpY2tlZEF0XG4gICAgICAgICAgY29tcGxldGVkQXRcbiAgICAgICAgICBpcEFkZHJlc3NcbiAgICAgICAgICB1c2VyQWdlbnRcbiAgICAgICAgICBnZW9EYXRhXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgdXBkYXRlSW5wdXQgPSB7IGlkLCAuLi5pbnB1dCB9O1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgdXBkYXRlU3VydmV5TGluazogU3VydmV5TGluayB9PihxdWVyeSwgeyBpbnB1dDogdXBkYXRlSW5wdXQgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LnVwZGF0ZVN1cnZleUxpbmsgfHwgbnVsbCB9O1xuICB9XG5cbiAgLy8gUXVlc3Rpb24gb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVRdWVzdGlvbihpbnB1dDoge1xuICAgIHByb2plY3RJZDogc3RyaW5nO1xuICAgIHRleHQ6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgb3B0aW9ucz86IGFueTtcbiAgICBzZXF1ZW5jZTogbnVtYmVyO1xuICAgIGlzUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIGlzVHJhcD86IGJvb2xlYW47XG4gICAgc2V0dGluZ3M/OiBhbnk7XG4gIH0pOiBQcm9taXNlPHsgZGF0YTogYW55IHwgbnVsbCB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBtdXRhdGlvbiBDcmVhdGVRdWVzdGlvbigkaW5wdXQ6IENyZWF0ZVF1ZXN0aW9uSW5wdXQhKSB7XG4gICAgICAgIGNyZWF0ZVF1ZXN0aW9uKGlucHV0OiAkaW5wdXQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIHByb2plY3RJZFxuICAgICAgICAgIHRleHRcbiAgICAgICAgICB0eXBlXG4gICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgIHNlcXVlbmNlXG4gICAgICAgICAgaXNSZXF1aXJlZFxuICAgICAgICAgIGlzVHJhcFxuICAgICAgICAgIHNldHRpbmdzXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBjcmVhdGVRdWVzdGlvbjogYW55IH0+KHF1ZXJ5LCB7IGlucHV0IH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5jcmVhdGVRdWVzdGlvbiB8fCBudWxsIH07XG4gIH1cblxuICBhc3luYyBsaXN0UXVlc3Rpb25zQnlQcm9qZWN0KHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IGFueVtdIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIHF1ZXJ5IExpc3RRdWVzdGlvbnMoJGZpbHRlcjogTW9kZWxRdWVzdGlvbkZpbHRlcklucHV0KSB7XG4gICAgICAgIGxpc3RRdWVzdGlvbnMoZmlsdGVyOiAkZmlsdGVyKSB7XG4gICAgICAgICAgaXRlbXMge1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIHByb2plY3RJZFxuICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgc2VxdWVuY2VcbiAgICAgICAgICAgIGlzUmVxdWlyZWRcbiAgICAgICAgICAgIGlzVHJhcFxuICAgICAgICAgICAgc2V0dGluZ3NcbiAgICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IGZpbHRlciA9IHtcbiAgICAgIHByb2plY3RJZDogeyBlcTogcHJvamVjdElkIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBsaXN0UXVlc3Rpb25zOiB7IGl0ZW1zOiBhbnlbXSB9IH0+KHF1ZXJ5LCB7IGZpbHRlciB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8ubGlzdFF1ZXN0aW9ucz8uaXRlbXMgfHwgW10gfTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVF1ZXN0aW9uKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogYW55IHwgbnVsbCB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBtdXRhdGlvbiBEZWxldGVRdWVzdGlvbigkaW5wdXQ6IERlbGV0ZVF1ZXN0aW9uSW5wdXQhKSB7XG4gICAgICAgIGRlbGV0ZVF1ZXN0aW9uKGlucHV0OiAkaW5wdXQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgZGVsZXRlUXVlc3Rpb246IGFueSB9PihxdWVyeSwgeyBpbnB1dDogeyBpZCB9IH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5kZWxldGVRdWVzdGlvbiB8fCBudWxsIH07XG4gIH1cblxuICAvLyBSZXNwb25zZSBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZVJlc3BvbnNlKGlucHV0OiB7XG4gICAgc3VydmV5TGlua0lkOiBzdHJpbmc7XG4gICAgcXVlc3Rpb25JZDogc3RyaW5nO1xuICAgIGFuc3dlcjogc3RyaW5nO1xuICAgIG1ldGFkYXRhPzogYW55O1xuICB9KTogUHJvbWlzZTx7IGRhdGE6IGFueSB8IG51bGwgfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgbXV0YXRpb24gQ3JlYXRlUmVzcG9uc2UoJGlucHV0OiBDcmVhdGVSZXNwb25zZUlucHV0ISkge1xuICAgICAgICBjcmVhdGVSZXNwb25zZShpbnB1dDogJGlucHV0KSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBzdXJ2ZXlMaW5rSWRcbiAgICAgICAgICBxdWVzdGlvbklkXG4gICAgICAgICAgYW5zd2VyXG4gICAgICAgICAgbWV0YWRhdGFcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGNyZWF0ZVJlc3BvbnNlOiBhbnkgfT4ocXVlcnksIHsgaW5wdXQgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LmNyZWF0ZVJlc3BvbnNlIHx8IG51bGwgfTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RSZXNwb25zZXNCeVN1cnZleUxpbmsoc3VydmV5TGlua0lkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogYW55W10gfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgcXVlcnkgTGlzdFJlc3BvbnNlcygkZmlsdGVyOiBNb2RlbFJlc3BvbnNlRmlsdGVySW5wdXQpIHtcbiAgICAgICAgbGlzdFJlc3BvbnNlcyhmaWx0ZXI6ICRmaWx0ZXIpIHtcbiAgICAgICAgICBpdGVtcyB7XG4gICAgICAgICAgICBpZFxuICAgICAgICAgICAgc3VydmV5TGlua0lkXG4gICAgICAgICAgICBxdWVzdGlvbklkXG4gICAgICAgICAgICBhbnN3ZXJcbiAgICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCBmaWx0ZXIgPSB7XG4gICAgICBzdXJ2ZXlMaW5rSWQ6IHsgZXE6IHN1cnZleUxpbmtJZCB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgbGlzdFJlc3BvbnNlczogeyBpdGVtczogYW55W10gfSB9PihxdWVyeSwgeyBmaWx0ZXIgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/Lmxpc3RSZXNwb25zZXM/Lml0ZW1zIHx8IFtdIH07XG4gIH1cblxuICAvLyBQcm9qZWN0VmVuZG9yIG9wZXJhdGlvbnNcbiAgYXN5bmMgbGlzdFByb2plY3RWZW5kb3JzKGZpbHRlcj86IGFueSk6IFByb21pc2U8eyBkYXRhOiBhbnlbXSB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBxdWVyeSBMaXN0UHJvamVjdFZlbmRvcnMoJGZpbHRlcjogTW9kZWxQcm9qZWN0VmVuZG9yRmlsdGVySW5wdXQpIHtcbiAgICAgICAgbGlzdFByb2plY3RWZW5kb3JzKGZpbHRlcjogJGZpbHRlcikge1xuICAgICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgICAgIHZlbmRvcklkXG4gICAgICAgICAgICBxdW90YVxuICAgICAgICAgICAgY3VycmVudENvdW50XG4gICAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGxpc3RQcm9qZWN0VmVuZG9yczogeyBpdGVtczogYW55W10gfSB9PihxdWVyeSwgeyBmaWx0ZXIgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/Lmxpc3RQcm9qZWN0VmVuZG9ycz8uaXRlbXMgfHwgW10gfTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVByb2plY3RWZW5kb3IoaW5wdXQ6IHtcbiAgICBwcm9qZWN0SWQ6IHN0cmluZztcbiAgICB2ZW5kb3JJZDogc3RyaW5nO1xuICAgIHF1b3RhPzogbnVtYmVyO1xuICAgIGN1cnJlbnRDb3VudD86IG51bWJlcjtcbiAgfSk6IFByb21pc2U8eyBkYXRhOiBhbnkgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIG11dGF0aW9uIENyZWF0ZVByb2plY3RWZW5kb3IoJGlucHV0OiBDcmVhdGVQcm9qZWN0VmVuZG9ySW5wdXQhKSB7XG4gICAgICAgIGNyZWF0ZVByb2plY3RWZW5kb3IoaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgcHJvamVjdElkXG4gICAgICAgICAgdmVuZG9ySWRcbiAgICAgICAgICBxdW90YVxuICAgICAgICAgIGN1cnJlbnRDb3VudFxuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IGNyZWF0ZUlucHV0ID0ge1xuICAgICAgcHJvamVjdElkOiBpbnB1dC5wcm9qZWN0SWQsXG4gICAgICB2ZW5kb3JJZDogaW5wdXQudmVuZG9ySWQsXG4gICAgICBxdW90YTogaW5wdXQucXVvdGEgfHwgMCxcbiAgICAgIGN1cnJlbnRDb3VudDogaW5wdXQuY3VycmVudENvdW50IHx8IDBcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBjcmVhdGVQcm9qZWN0VmVuZG9yOiBhbnkgfT4ocXVlcnksIHsgaW5wdXQ6IGNyZWF0ZUlucHV0IH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5jcmVhdGVQcm9qZWN0VmVuZG9yIHx8IG51bGwgfTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVByb2plY3RWZW5kb3IocHJvamVjdElkOiBzdHJpbmcsIHZlbmRvcklkOiBzdHJpbmcsIHVwZGF0ZXM6IHtcbiAgICBjdXJyZW50Q291bnQ/OiBudW1iZXI7XG4gICAgcXVvdGE/OiBudW1iZXI7XG4gIH0pOiBQcm9taXNlPHsgZGF0YTogYW55IHwgbnVsbCB9PiB7XG4gICAgLy8gRmlyc3QgZmluZCB0aGUgUHJvamVjdFZlbmRvciByZWNvcmRcbiAgICBjb25zdCBleGlzdGluZ1Jlc3VsdCA9IGF3YWl0IHRoaXMubGlzdFByb2plY3RWZW5kb3JzKHtcbiAgICAgIGFuZDogW1xuICAgICAgICB7IHByb2plY3RJZDogeyBlcTogcHJvamVjdElkIH0gfSxcbiAgICAgICAgeyB2ZW5kb3JJZDogeyBlcTogdmVuZG9ySWQgfSB9XG4gICAgICBdXG4gICAgfSk7XG5cbiAgICBpZiAoZXhpc3RpbmdSZXN1bHQuZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwgfTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9qZWN0VmVuZG9yID0gZXhpc3RpbmdSZXN1bHQuZGF0YVswXTtcblxuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgbXV0YXRpb24gVXBkYXRlUHJvamVjdFZlbmRvcigkaW5wdXQ6IFVwZGF0ZVByb2plY3RWZW5kb3JJbnB1dCEpIHtcbiAgICAgICAgdXBkYXRlUHJvamVjdFZlbmRvcihpbnB1dDogJGlucHV0KSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgICB2ZW5kb3JJZFxuICAgICAgICAgIHF1b3RhXG4gICAgICAgICAgY3VycmVudENvdW50XG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICBpZDogcHJvamVjdFZlbmRvci5pZCxcbiAgICAgIC4uLnVwZGF0ZXNcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyB1cGRhdGVQcm9qZWN0VmVuZG9yOiBhbnkgfT4ocXVlcnksIHsgaW5wdXQgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LnVwZGF0ZVByb2plY3RWZW5kb3IgfHwgbnVsbCB9O1xuICB9XG59XG5cbi8vIENyZWF0ZSBhIHNpbmdsZXRvbiBpbnN0YW5jZVxubGV0IHNlcnZlclNlcnZpY2U6IEFtcGxpZnlTZXJ2ZXJTZXJ2aWNlIHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbXBsaWZ5U2VydmVyU2VydmljZSgpOiBBbXBsaWZ5U2VydmVyU2VydmljZSB7XG4gIGlmICghc2VydmVyU2VydmljZSkge1xuICAgIHNlcnZlclNlcnZpY2UgPSBuZXcgQW1wbGlmeVNlcnZlclNlcnZpY2UoKTtcbiAgfVxuICByZXR1cm4gc2VydmVyU2VydmljZTtcbn1cbiJdLCJuYW1lcyI6WyJBbXBsaWZ5Iiwib3V0cHV0cyIsImNvbmZpZ3VyZSIsIkFtcGxpZnlTZXJ2ZXJTZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJhcGlFbmRwb2ludCIsImRhdGEiLCJ1cmwiLCJhcGlLZXkiLCJhcGlfa2V5IiwibWFrZUdyYXBoUUxSZXF1ZXN0IiwicXVlcnkiLCJ2YXJpYWJsZXMiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJFcnJvciIsInN0YXR1cyIsInJlc3VsdCIsImpzb24iLCJlcnJvcnMiLCJjb25zb2xlIiwiZXJyb3IiLCJnZXRQcm9qZWN0IiwiaWQiLCJsaXN0UHJvamVjdHMiLCJpdGVtcyIsImdldFZlbmRvciIsImxpc3RWZW5kb3JzIiwiZmlsdGVyIiwiY3JlYXRlVmVuZG9yIiwiaW5wdXQiLCJkZWxldGVWZW5kb3IiLCJjcmVhdGVTdXJ2ZXlMaW5rIiwibGlzdFN1cnZleUxpbmtzQnlQcm9qZWN0IiwicHJvamVjdElkIiwiZXEiLCJsaXN0U3VydmV5TGlua3MiLCJnZXRTdXJ2ZXlMaW5rQnlVaWQiLCJ1aWQiLCJsZW5ndGgiLCJ1cGRhdGVTdXJ2ZXlMaW5rIiwidXBkYXRlSW5wdXQiLCJjcmVhdGVRdWVzdGlvbiIsImxpc3RRdWVzdGlvbnNCeVByb2plY3QiLCJsaXN0UXVlc3Rpb25zIiwiZGVsZXRlUXVlc3Rpb24iLCJjcmVhdGVSZXNwb25zZSIsImxpc3RSZXNwb25zZXNCeVN1cnZleUxpbmsiLCJzdXJ2ZXlMaW5rSWQiLCJsaXN0UmVzcG9uc2VzIiwibGlzdFByb2plY3RWZW5kb3JzIiwiY3JlYXRlUHJvamVjdFZlbmRvciIsImNyZWF0ZUlucHV0IiwidmVuZG9ySWQiLCJxdW90YSIsImN1cnJlbnRDb3VudCIsInVwZGF0ZVByb2plY3RWZW5kb3IiLCJ1cGRhdGVzIiwiZXhpc3RpbmdSZXN1bHQiLCJhbmQiLCJwcm9qZWN0VmVuZG9yIiwic2VydmVyU2VydmljZSIsImdldEFtcGxpZnlTZXJ2ZXJTZXJ2aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/amplify-server-service.ts\n");

/***/ }),

/***/ "./src/lib/auth-provider.tsx":
/*!***********************************!*\
  !*** ./src/lib/auth-provider.tsx ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth-service */ \"./src/lib/auth-service.ts\");\n/* harmony import */ var _cookie_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cookie-manager */ \"./src/lib/cookie-manager.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_auth_service__WEBPACK_IMPORTED_MODULE_2__]);\n_auth_service__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// Create the context with a default value\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n// Provider component that wraps your app and makes auth object available to any child component\nfunction AuthProvider({ children }) {\n    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Function to check authentication status and update state\n    const checkAuth = async ()=>{\n        try {\n            setIsLoading(true);\n            // Check if user is authenticated\n            const authenticated = await _auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService.isAuthenticated();\n            setIsAuthenticated(authenticated);\n            // If authenticated, get user info\n            if (authenticated) {\n                const currentUser = await _auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService.getCurrentUser();\n                const attributes = await _auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService.getUserAttributes();\n                setUser({\n                    ...currentUser,\n                    attributes\n                });\n            } else {\n                setUser(null);\n            }\n        } catch (error) {\n            console.error(\"Error checking authentication:\", error);\n            setIsAuthenticated(false);\n            setUser(null);\n            // Try fixing cookie issues if auth check fails\n            (0,_cookie_manager__WEBPACK_IMPORTED_MODULE_3__.fixProblemCookies)();\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Check auth status when the component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        checkAuth();\n        // Set up a refresh interval to periodically check authentication status\n        // Only check every 10 minutes instead of 5 for better performance\n        const interval = setInterval(async ()=>{\n            try {\n                const authenticated = await _auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService.isAuthenticated();\n                if (authenticated !== isAuthenticated) {\n                    checkAuth();\n                }\n            } catch (error) {\n                console.error(\"Error refreshing authentication status\");\n            }\n        }, 10 * 60 * 1000); // Check every 10 minutes\n        return ()=>clearInterval(interval);\n    }, [\n        isAuthenticated\n    ]);\n    // Login function that uses AuthService\n    const login = async (username, password)=>{\n        const result = await _auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService.signIn({\n            username,\n            password\n        });\n        if (result.isSuccess) {\n            await checkAuth();\n        }\n        return result;\n    };\n    // Logout function\n    const logout = async ()=>{\n        await _auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService.signOut();\n        await checkAuth();\n    };\n    // Wrapper for signup that refreshes auth state on success\n    const signUp = async (params)=>{\n        const result = await _auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService.signUp(params);\n        return result;\n    };\n    // Wrapper for completeNewPassword\n    const completeNewPassword = async (newPassword)=>{\n        const result = await _auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService.completeNewPassword(newPassword);\n        if (result.isSuccess) {\n            await checkAuth();\n        }\n        return result;\n    };\n    // Function to manually refresh auth state\n    const refreshAuthState = async ()=>{\n        try {\n            // Call the new method to force refresh token validation\n            await _auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService.refreshAuthState();\n            // Then check auth status again\n            await checkAuth();\n            // If we've refreshed multiple times without success, try a hard reload\n            if (false) {}\n        } catch (error) {\n            console.error(\"Error refreshing auth state:\", error);\n        }\n    };\n    // Provide the auth context value\n    const contextValue = {\n        isAuthenticated,\n        isLoading,\n        user,\n        login,\n        logout,\n        signUp,\n        confirmSignUp: _auth_service__WEBPACK_IMPORTED_MODULE_2__.AuthService.confirmSignUp,\n        completeNewPassword,\n        refreshAuthState\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: contextValue,\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/lib/auth-provider.tsx\",\n        lineNumber: 157,\n        columnNumber: 10\n    }, this);\n}\n// Custom hook to use the auth context\nfunction useAuth() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNGO0lBRUEsaUNBQWlDO0lBQ2pDLE1BQU0wQixlQUFnQztRQUNwQ3RDO1FBQ0FFO1FBQ0FFO1FBQ0FhO1FBQ0FNO1FBQ0FFO1FBQ0FjLGVBQWU3QyxzREFBV0EsQ0FBQzZDLGFBQWE7UUFDeENaO1FBQ0FFO0lBQ0Y7SUFFQSxxQkFBTyw4REFBQ2pDLFlBQVk0QyxRQUFRO1FBQUNDLE9BQU9IO2tCQUFldkM7Ozs7OztBQUNyRDtBQUVBLHNDQUFzQztBQUMvQixTQUFTMkM7SUFDZCxNQUFNQyxVQUFVcEQsaURBQVVBLENBQUNLO0lBQzNCLElBQUkrQyxZQUFZOUMsV0FBVztRQUN6QixNQUFNLElBQUkrQyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cnZleS1saW5rLXdyYXBwZXIvLi9zcmMvbGliL2F1dGgtcHJvdmlkZXIudHN4Pzc1OGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSAnLi9hdXRoLXNlcnZpY2UnO1xuaW1wb3J0IHsgZml4UHJvYmxlbUNvb2tpZXMgfSBmcm9tICcuL2Nvb2tpZS1tYW5hZ2VyJztcblxuLy8gUmVtb3ZlIGltcG9ydCB7IGNvbmZpZ3VyZUFtcGxpZnkgfSBmcm9tICcuL2FtcGxpZnktY29uZmlnJztcbi8vIElmIHlvdSBuZWVkIGNvbmZpZywgdXNlOlxuLy8gaW1wb3J0IHsgZ2V0QW1wbGlmeUNvbmZpZyB9IGZyb20gJy4vYW1wbGlmeS1jb25maWcnO1xuXG4vLyBEZWZpbmUgdGhlIGF1dGhlbnRpY2F0aW9uIGNvbnRleHQgdHlwZVxuaW50ZXJmYWNlIEF1dGhDb250ZXh0VHlwZSB7XG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhbjtcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICB1c2VyOiBhbnk7XG4gIGxvZ2luOiAodXNlcm5hbWU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTxhbnk+O1xuICBsb2dvdXQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHNpZ25VcDogKHBhcmFtczogYW55KSA9PiBQcm9taXNlPGFueT47XG4gIGNvbmZpcm1TaWduVXA6ICh1c2VybmFtZTogc3RyaW5nLCBjb2RlOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIGNvbXBsZXRlTmV3UGFzc3dvcmQ6IChuZXdQYXNzd29yZDogc3RyaW5nKSA9PiBQcm9taXNlPGFueT47XG4gIHJlZnJlc2hBdXRoU3RhdGU6ICgpID0+IFByb21pc2U8dm9pZD47XG59XG5cbi8vIENyZWF0ZSB0aGUgY29udGV4dCB3aXRoIGEgZGVmYXVsdCB2YWx1ZVxuY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF1dGhDb250ZXh0VHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuLy8gUHJvdmlkZXIgY29tcG9uZW50IHRoYXQgd3JhcHMgeW91ciBhcHAgYW5kIG1ha2VzIGF1dGggb2JqZWN0IGF2YWlsYWJsZSB0byBhbnkgY2hpbGQgY29tcG9uZW50XG5leHBvcnQgZnVuY3Rpb24gQXV0aFByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgW2lzQXV0aGVudGljYXRlZCwgc2V0SXNBdXRoZW50aWNhdGVkXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxhbnk+KG51bGwpO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGF1dGhlbnRpY2F0aW9uIHN0YXR1cyBhbmQgdXBkYXRlIHN0YXRlXG4gIGNvbnN0IGNoZWNrQXV0aCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICAgIGNvbnN0IGF1dGhlbnRpY2F0ZWQgPSBhd2FpdCBBdXRoU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIHNldElzQXV0aGVudGljYXRlZChhdXRoZW50aWNhdGVkKTtcbiAgICAgIFxuICAgICAgLy8gSWYgYXV0aGVudGljYXRlZCwgZ2V0IHVzZXIgaW5mb1xuICAgICAgaWYgKGF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBhd2FpdCBBdXRoU2VydmljZS5nZXRDdXJyZW50VXNlcigpO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gYXdhaXQgQXV0aFNlcnZpY2UuZ2V0VXNlckF0dHJpYnV0ZXMoKTtcbiAgICAgICAgc2V0VXNlcih7IC4uLmN1cnJlbnRVc2VyLCBhdHRyaWJ1dGVzIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgYXV0aGVudGljYXRpb246JywgZXJyb3IpO1xuICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKGZhbHNlKTtcbiAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICBcbiAgICAgIC8vIFRyeSBmaXhpbmcgY29va2llIGlzc3VlcyBpZiBhdXRoIGNoZWNrIGZhaWxzXG4gICAgICBmaXhQcm9ibGVtQ29va2llcygpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDaGVjayBhdXRoIHN0YXR1cyB3aGVuIHRoZSBjb21wb25lbnQgbW91bnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2hlY2tBdXRoKCk7XG4gICAgXG4gICAgLy8gU2V0IHVwIGEgcmVmcmVzaCBpbnRlcnZhbCB0byBwZXJpb2RpY2FsbHkgY2hlY2sgYXV0aGVudGljYXRpb24gc3RhdHVzXG4gICAgLy8gT25seSBjaGVjayBldmVyeSAxMCBtaW51dGVzIGluc3RlYWQgb2YgNSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhdXRoZW50aWNhdGVkID0gYXdhaXQgQXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCk7XG4gICAgICAgIGlmIChhdXRoZW50aWNhdGVkICE9PSBpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICBjaGVja0F1dGgoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVmcmVzaGluZyBhdXRoZW50aWNhdGlvbiBzdGF0dXMnKTtcbiAgICAgIH1cbiAgICB9LCAxMCAqIDYwICogMTAwMCk7IC8vIENoZWNrIGV2ZXJ5IDEwIG1pbnV0ZXNcbiAgICBcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWRdKTtcblxuICAvLyBMb2dpbiBmdW5jdGlvbiB0aGF0IHVzZXMgQXV0aFNlcnZpY2VcbiAgY29uc3QgbG9naW4gPSBhc3luYyAodXNlcm5hbWU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEF1dGhTZXJ2aWNlLnNpZ25Jbih7IHVzZXJuYW1lLCBwYXNzd29yZCB9KTtcbiAgICBpZiAocmVzdWx0LmlzU3VjY2Vzcykge1xuICAgICAgYXdhaXQgY2hlY2tBdXRoKCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gTG9nb3V0IGZ1bmN0aW9uXG4gIGNvbnN0IGxvZ291dCA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBBdXRoU2VydmljZS5zaWduT3V0KCk7XG4gICAgYXdhaXQgY2hlY2tBdXRoKCk7XG4gIH07XG5cbiAgLy8gV3JhcHBlciBmb3Igc2lnbnVwIHRoYXQgcmVmcmVzaGVzIGF1dGggc3RhdGUgb24gc3VjY2Vzc1xuICBjb25zdCBzaWduVXAgPSBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBBdXRoU2VydmljZS5zaWduVXAocGFyYW1zKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFdyYXBwZXIgZm9yIGNvbXBsZXRlTmV3UGFzc3dvcmRcbiAgY29uc3QgY29tcGxldGVOZXdQYXNzd29yZCA9IGFzeW5jIChuZXdQYXNzd29yZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQXV0aFNlcnZpY2UuY29tcGxldGVOZXdQYXNzd29yZChuZXdQYXNzd29yZCk7XG4gICAgaWYgKHJlc3VsdC5pc1N1Y2Nlc3MpIHtcbiAgICAgIGF3YWl0IGNoZWNrQXV0aCgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIG1hbnVhbGx5IHJlZnJlc2ggYXV0aCBzdGF0ZVxuICBjb25zdCByZWZyZXNoQXV0aFN0YXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBDYWxsIHRoZSBuZXcgbWV0aG9kIHRvIGZvcmNlIHJlZnJlc2ggdG9rZW4gdmFsaWRhdGlvblxuICAgICAgYXdhaXQgQXV0aFNlcnZpY2UucmVmcmVzaEF1dGhTdGF0ZSgpO1xuICAgICAgLy8gVGhlbiBjaGVjayBhdXRoIHN0YXR1cyBhZ2FpblxuICAgICAgYXdhaXQgY2hlY2tBdXRoKCk7XG4gICAgICBcbiAgICAgIC8vIElmIHdlJ3ZlIHJlZnJlc2hlZCBtdWx0aXBsZSB0aW1lcyB3aXRob3V0IHN1Y2Nlc3MsIHRyeSBhIGhhcmQgcmVsb2FkXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgd2luID0gd2luZG93IGFzIGFueTtcbiAgICAgICAgaWYgKHdpbi5fYXV0aFJlZnJlc2hDb3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgd2luLl9hdXRoUmVmcmVzaENvdW50ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW4uX2F1dGhSZWZyZXNoQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHdpbi5fYXV0aFJlZnJlc2hDb3VudCA+IDIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTXVsdGlwbGUgYXV0aCByZWZyZXNoZXMgYXR0ZW1wdGVkLCB0cnlpbmcgaGFyZCByZWxvYWQnKTtcbiAgICAgICAgICB3aW4uX2F1dGhSZWZyZXNoQ291bnQgPSAwO1xuICAgICAgICAgIC8vIE9ubHkgcmVsb2FkIGlmIHdlJ3JlIG9uIGEgcGFnZSB0aGF0IG5lZWRzIGF1dGhcbiAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9hZG1pbicpICYmIFxuICAgICAgICAgICAgICAhd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9hZG1pbi9sb2dpbicpICYmIFxuICAgICAgICAgICAgICAhd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9hZG1pbi9zaWdudXAnKSAmJiBcbiAgICAgICAgICAgICAgIXdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCcvYWRtaW4vdmVyaWZ5JykpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVmcmVzaGluZyBhdXRoIHN0YXRlOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUHJvdmlkZSB0aGUgYXV0aCBjb250ZXh0IHZhbHVlXG4gIGNvbnN0IGNvbnRleHRWYWx1ZTogQXV0aENvbnRleHRUeXBlID0ge1xuICAgIGlzQXV0aGVudGljYXRlZCxcbiAgICBpc0xvYWRpbmcsXG4gICAgdXNlcixcbiAgICBsb2dpbixcbiAgICBsb2dvdXQsXG4gICAgc2lnblVwLFxuICAgIGNvbmZpcm1TaWduVXA6IEF1dGhTZXJ2aWNlLmNvbmZpcm1TaWduVXAsXG4gICAgY29tcGxldGVOZXdQYXNzd29yZCxcbiAgICByZWZyZXNoQXV0aFN0YXRlXG4gIH07XG5cbiAgcmV0dXJuIDxBdXRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT57Y2hpbGRyZW59PC9BdXRoQ29udGV4dC5Qcm92aWRlcj47XG59XG5cbi8vIEN1c3RvbSBob29rIHRvIHVzZSB0aGUgYXV0aCBjb250ZXh0XG5leHBvcnQgZnVuY3Rpb24gdXNlQXV0aCgpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQXV0aENvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VBdXRoIG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gQXV0aFByb3ZpZGVyJyk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkF1dGhTZXJ2aWNlIiwiZml4UHJvYmxlbUNvb2tpZXMiLCJBdXRoQ29udGV4dCIsInVuZGVmaW5lZCIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwiaXNBdXRoZW50aWNhdGVkIiwic2V0SXNBdXRoZW50aWNhdGVkIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwidXNlciIsInNldFVzZXIiLCJjaGVja0F1dGgiLCJhdXRoZW50aWNhdGVkIiwiY3VycmVudFVzZXIiLCJnZXRDdXJyZW50VXNlciIsImF0dHJpYnV0ZXMiLCJnZXRVc2VyQXR0cmlidXRlcyIsImVycm9yIiwiY29uc29sZSIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicmVzdWx0Iiwic2lnbkluIiwiaXNTdWNjZXNzIiwibG9nb3V0Iiwic2lnbk91dCIsInNpZ25VcCIsInBhcmFtcyIsImNvbXBsZXRlTmV3UGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsInJlZnJlc2hBdXRoU3RhdGUiLCJ3aW4iLCJ3aW5kb3ciLCJfYXV0aFJlZnJlc2hDb3VudCIsImxvZyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJzdGFydHNXaXRoIiwicmVsb2FkIiwiY29udGV4dFZhbHVlIiwiY29uZmlybVNpZ25VcCIsIlByb3ZpZGVyIiwidmFsdWUiLCJ1c2VBdXRoIiwiY29udGV4dCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/auth-provider.tsx\n");

/***/ }),

/***/ "./src/lib/auth-service.ts":
/*!*********************************!*\
  !*** ./src/lib/auth-service.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthService: () => (/* binding */ AuthService)\n/* harmony export */ });\n/* harmony import */ var aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-amplify/auth */ \"aws-amplify/auth\");\n/* harmony import */ var _amplify_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./amplify-config */ \"./src/lib/amplify-config.ts\");\n/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aws-amplify */ \"aws-amplify\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__, aws_amplify__WEBPACK_IMPORTED_MODULE_2__]);\n([aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__, aws_amplify__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Initialize Amplify with config (client-side only, and with required fields)\nif (false) {}\n/**\n * Service to handle AWS Cognito authentication\n */ class AuthService {\n    static{\n        this.sessionCheckPromise = null;\n    }\n    static{\n        this.lastSessionCheck = 0;\n    }\n    static{\n        this.sessionCheckInterval = 30000 // 30 seconds\n        ;\n    }\n    static{\n        this.forceRefresh = false;\n    }\n    /**\n   * Sign up a new user\n   */ static async signUp(params) {\n        try {\n            const { username, password, email, firstName, lastName } = params;\n            const attributes = {\n                email,\n                ...firstName && {\n                    name: firstName\n                },\n                ...lastName && {\n                    family_name: lastName\n                }\n            };\n            const result = await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.signUp)({\n                username,\n                password,\n                options: {\n                    userAttributes: attributes\n                }\n            });\n            return {\n                isSuccess: true,\n                message: \"Sign up successful! Please check your email for a verification code.\",\n                data: result\n            };\n        } catch (error) {\n            console.error(\"Sign up error:\", error);\n            if (error.name === \"UsernameExistsException\") {\n                return {\n                    isSuccess: false,\n                    message: \"This username is already taken. Please try another one.\"\n                };\n            }\n            return {\n                isSuccess: false,\n                message: error.message || \"Failed to sign up. Please try again.\"\n            };\n        }\n    }\n    /**\n   * Sign in a user\n   */ static async signIn(params) {\n        try {\n            // Clear any existing auth cookies before signing in to prevent conflicts\n            if (typeof document !== \"undefined\") {\n                document.cookie.split(\";\").forEach((cookie)=>{\n                    const [name] = cookie.split(\"=\").map((c)=>c.trim());\n                    if (name.includes(\"CognitoIdentityServiceProvider\") || name.includes(\"amplify\") || name.includes(\"Token\")) {\n                        document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n                    }\n                });\n            }\n            const { username, password } = params;\n            const result = await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.signIn)({\n                username,\n                password\n            });\n            // Wait for session to be established\n            await new Promise((resolve)=>setTimeout(resolve, 500));\n            await this.waitForSession();\n            return {\n                isSuccess: true,\n                message: \"Successfully signed in\",\n                data: result,\n                nextStep: result.nextStep\n            };\n        } catch (error) {\n            console.error(\"Sign in error:\", error);\n            if (error.name === \"UserNotConfirmedException\") {\n                return {\n                    isSuccess: false,\n                    message: \"Please confirm your account by entering the verification code sent to your email.\"\n                };\n            }\n            if (error.name === \"NotAuthorizedException\") {\n                return {\n                    isSuccess: false,\n                    message: \"Incorrect username or password.\"\n                };\n            }\n            if (error.name === \"UserNotFoundException\") {\n                return {\n                    isSuccess: false,\n                    message: \"User does not exist.\"\n                };\n            }\n            return {\n                isSuccess: false,\n                message: error.message || \"Failed to sign in. Please try again.\"\n            };\n        }\n    }\n    /**\n   * Confirm a user's sign up with verification code\n   */ static async confirmSignUp(username, code) {\n        try {\n            await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.confirmSignUp)({\n                username,\n                confirmationCode: code\n            });\n        } catch (error) {\n            console.error(\"Confirm sign up error:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Sign out the current user\n   */ static async signOut() {\n        try {\n            await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.signOut)({\n                global: true\n            });\n            this.lastSessionCheck = 0;\n            this.sessionCheckPromise = null;\n            // Clear all auth-related cookies manually after signout\n            if (typeof document !== \"undefined\") {\n                document.cookie.split(\";\").forEach((cookie)=>{\n                    const [name] = cookie.split(\"=\").map((c)=>c.trim());\n                    if (name.includes(\"CognitoIdentityServiceProvider\") || name.includes(\"amplify\") || name.includes(\"Token\") || name.includes(\"auth\")) {\n                        console.log(\"Clearing cookie after signout:\", name);\n                        document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n                    }\n                });\n            }\n            // If we're in a browser, redirect to login page after signout\n            if (false) {}\n        } catch (error) {\n            console.error(\"Sign out error:\", error);\n            // Even if there was an error, try to clear cookies\n            if (typeof document !== \"undefined\") {\n                document.cookie.split(\";\").forEach((cookie)=>{\n                    const [name] = cookie.split(\"=\").map((c)=>c.trim());\n                    if (name.includes(\"CognitoIdentityServiceProvider\") || name.includes(\"amplify\") || name.includes(\"Token\")) {\n                        document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n                    }\n                });\n            }\n            throw error;\n        }\n    }\n    /**\n   * Get the current authenticated user\n   */ static async getCurrentUser() {\n        try {\n            const user = await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.getCurrentUser)();\n            return user;\n        } catch (error) {\n            return null;\n        }\n    }\n    /**\n   * Wait for a valid session to be established\n   */ static async waitForSession(maxAttempts = 5) {\n        for(let i = 0; i < maxAttempts; i++){\n            try {\n                await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.fetchAuthSession)();\n                return true;\n            } catch (error) {\n                if (i === maxAttempts - 1) {\n                    return false;\n                }\n                await new Promise((resolve)=>setTimeout(resolve, 1000));\n            }\n        }\n        return false;\n    }\n    /**\n   * Check if a user is authenticated with caching\n   */ static async isAuthenticated() {\n        const now = Date.now();\n        // Skip cache when force refresh happens\n        if (this.forceRefresh) {\n            this.forceRefresh = false;\n            this.lastSessionCheck = 0;\n            this.sessionCheckPromise = null;\n        }\n        // Return cached result if still valid and not too old\n        if (this.sessionCheckPromise && now - this.lastSessionCheck < this.sessionCheckInterval) {\n            return this.sessionCheckPromise;\n        }\n        // Create new check promise with better error handling\n        this.sessionCheckPromise = (async ()=>{\n            try {\n                const session = await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.fetchAuthSession)();\n                const isValid = !!session.tokens?.accessToken;\n                if (isValid) {\n                    console.log(\"Valid authentication session found\");\n                } else {\n                    console.log(\"No valid authentication session\");\n                }\n                return isValid;\n            } catch (error) {\n                console.error(\"Error checking authentication:\", error);\n                // If we get a \"No current user\" error, definitely not authenticated\n                if (error instanceof Error && error.message.includes(\"No current user\")) {\n                    return false;\n                }\n                // For other errors, we can't be sure, default to not authenticated\n                return false;\n            }\n        })();\n        this.lastSessionCheck = now;\n        return this.sessionCheckPromise;\n    }\n    /**\n   * Get the current user's attributes\n   */ static async getUserAttributes() {\n        try {\n            const attributes = await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.fetchUserAttributes)();\n            return attributes;\n        } catch (error) {\n            return null;\n        }\n    }\n    /**\n   * Update user attributes\n   */ static async updateUserAttributes(attributes) {\n        try {\n            await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.updateUserAttributes)({\n                userAttributes: attributes\n            });\n            return {\n                isSuccess: true,\n                message: \"User attributes updated successfully.\"\n            };\n        } catch (error) {\n            console.error(\"Update user attributes error:\", error);\n            return {\n                isSuccess: false,\n                message: error.message || \"Failed to update user attributes.\"\n            };\n        }\n    }\n    /**\n   * Complete new password challenge\n   */ static async completeNewPassword(newPassword) {\n        try {\n            const result = await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.confirmSignIn)({\n                challengeResponse: newPassword\n            });\n            // Wait for session to be established after password change\n            await this.waitForSession();\n            return {\n                isSuccess: result.isSignedIn,\n                message: \"Password set successfully.\"\n            };\n        } catch (error) {\n            console.error(\"Complete new password error:\", error);\n            return {\n                isSuccess: false,\n                message: error.message || \"Failed to set new password.\"\n            };\n        }\n    }\n    /**\n   * Get current user's ID token\n   */ static async getIdToken() {\n        try {\n            const session = await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.fetchAuthSession)();\n            return session.tokens?.idToken?.toString() || null;\n        } catch (error) {\n            console.error(\"Error getting ID token:\", error);\n            return null;\n        }\n    }\n    /**\n   * Force a refresh of the authentication state\n   */ static async refreshAuthState() {\n        this.forceRefresh = true;\n        this.lastSessionCheck = 0;\n        this.sessionCheckPromise = null;\n        try {\n            // Try to fetch the auth session to refresh the tokens\n            const session = await (0,aws_amplify_auth__WEBPACK_IMPORTED_MODULE_0__.fetchAuthSession)();\n            console.log(\"Auth session refreshed successfully\", {\n                hasIdToken: !!session.tokens?.idToken,\n                hasAccessToken: !!session.tokens?.accessToken,\n                // Check for tokens object existence instead of specific refreshToken property\n                hasTokens: !!session.tokens\n            });\n        } catch (error) {\n            console.error(\"Error refreshing auth session:\", error);\n            // Clear problematic cookies if there's an error\n            if (false) {}\n        }\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVFFLE1BQU0sRUFBRUM7Z0JBQ2xDLDhFQUE4RTtnQkFDOUVhLFdBQVcsQ0FBQyxDQUFDaEIsUUFBUUUsTUFBTTtZQUM3QjtRQUNGLEVBQUUsT0FBTzlCLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtDQUFrQ0E7WUFFaEQsZ0RBQWdEO1lBQ2hELElBQUksS0FBa0IsRUFBYSxFQVVsQztRQUNIO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cnZleS1saW5rLXdyYXBwZXIvLi9zcmMvbGliL2F1dGgtc2VydmljZS50cz9hOGNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNpZ25Jbiwgc2lnblVwLCBzaWduT3V0LCBjb25maXJtU2lnblVwLCByZXNldFBhc3N3b3JkLCBjb25maXJtUmVzZXRQYXNzd29yZCwgXG4gIGdldEN1cnJlbnRVc2VyLCBmZXRjaFVzZXJBdHRyaWJ1dGVzLCB1cGRhdGVVc2VyQXR0cmlidXRlcywgZmV0Y2hBdXRoU2Vzc2lvbixcbiAgcmVzZW5kU2lnblVwQ29kZSwgY29uZmlybVNpZ25JbiB9IGZyb20gJ2F3cy1hbXBsaWZ5L2F1dGgnO1xuaW1wb3J0IHsgZ2V0QW1wbGlmeUNvbmZpZyB9IGZyb20gJy4vYW1wbGlmeS1jb25maWcnO1xuaW1wb3J0IHsgQW1wbGlmeSB9IGZyb20gJ2F3cy1hbXBsaWZ5JztcblxuLy8gSW5pdGlhbGl6ZSBBbXBsaWZ5IHdpdGggY29uZmlnIChjbGllbnQtc2lkZSBvbmx5LCBhbmQgd2l0aCByZXF1aXJlZCBmaWVsZHMpXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgQW1wbGlmeSAmJiB0eXBlb2YgQW1wbGlmeS5jb25maWd1cmUgPT09ICdmdW5jdGlvbicpIHtcbiAgY29uc3QgYW1wbGlmeUNvbmZpZyA9IGdldEFtcGxpZnlDb25maWcoKTtcbiAgQW1wbGlmeS5jb25maWd1cmUoYW1wbGlmeUNvbmZpZyk7XG59XG5cbnR5cGUgU2lnblVwUGFyYW1zID0ge1xuICB1c2VybmFtZTogc3RyaW5nO1xuICBwYXNzd29yZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBmaXJzdE5hbWU/OiBzdHJpbmc7XG4gIGxhc3ROYW1lPzogc3RyaW5nO1xufTtcblxudHlwZSBTaWduSW5QYXJhbXMgPSB7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG59O1xuXG50eXBlIEF1dGhSZXN1bHQgPSB7XG4gIGlzU3VjY2VzczogYm9vbGVhbjtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBkYXRhPzogYW55O1xuICBuZXh0U3RlcD86IHtcbiAgICBzaWduSW5TdGVwOiBzdHJpbmc7XG4gICAgW2tleTogc3RyaW5nXTogYW55O1xuICB9O1xufTtcblxudHlwZSBVc2VyQXR0cmlidXRlcyA9IHtcbiAgZW1haWw6IHN0cmluZztcbiAgZW1haWxfdmVyaWZpZWQ6IHN0cmluZyB8IGJvb2xlYW47XG4gIHN1Yjogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBmYW1pbHlfbmFtZT86IHN0cmluZztcbiAgJ2N1c3RvbTpyb2xlJz86IHN0cmluZztcbiAgW2tleTogc3RyaW5nXTogYW55O1xufTtcblxuLyoqXG4gKiBTZXJ2aWNlIHRvIGhhbmRsZSBBV1MgQ29nbml0byBhdXRoZW50aWNhdGlvblxuICovXG5leHBvcnQgY2xhc3MgQXV0aFNlcnZpY2Uge1xuICBwcml2YXRlIHN0YXRpYyBzZXNzaW9uQ2hlY2tQcm9taXNlOiBQcm9taXNlPGJvb2xlYW4+IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgc3RhdGljIGxhc3RTZXNzaW9uQ2hlY2s6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgc3RhdGljIHNlc3Npb25DaGVja0ludGVydmFsID0gMzAwMDA7IC8vIDMwIHNlY29uZHNcbiAgcHJpdmF0ZSBzdGF0aWMgZm9yY2VSZWZyZXNoID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFNpZ24gdXAgYSBuZXcgdXNlclxuICAgKi9cbiAgc3RhdGljIGFzeW5jIHNpZ25VcChwYXJhbXM6IFNpZ25VcFBhcmFtcyk6IFByb21pc2U8QXV0aFJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCwgZW1haWwsIGZpcnN0TmFtZSwgbGFzdE5hbWUgfSA9IHBhcmFtcztcblxuICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIC4uLihmaXJzdE5hbWUgJiYgeyBuYW1lOiBmaXJzdE5hbWUgfSksXG4gICAgICAgIC4uLihsYXN0TmFtZSAmJiB7IGZhbWlseV9uYW1lOiBsYXN0TmFtZSB9KVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnblVwKHtcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHBhc3N3b3JkLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgdXNlckF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXNcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzU3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogJ1NpZ24gdXAgc3VjY2Vzc2Z1bCEgUGxlYXNlIGNoZWNrIHlvdXIgZW1haWwgZm9yIGEgdmVyaWZpY2F0aW9uIGNvZGUuJyxcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1NpZ24gdXAgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1VzZXJuYW1lRXhpc3RzRXhjZXB0aW9uJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzU3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogJ1RoaXMgdXNlcm5hbWUgaXMgYWxyZWFkeSB0YWtlbi4gUGxlYXNlIHRyeSBhbm90aGVyIG9uZS4nXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzU3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzaWduIHVwLiBQbGVhc2UgdHJ5IGFnYWluLidcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNpZ24gaW4gYSB1c2VyXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgc2lnbkluKHBhcmFtczogU2lnbkluUGFyYW1zKTogUHJvbWlzZTxBdXRoUmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyBhdXRoIGNvb2tpZXMgYmVmb3JlIHNpZ25pbmcgaW4gdG8gcHJldmVudCBjb25mbGljdHNcbiAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpLmZvckVhY2goY29va2llID0+IHtcbiAgICAgICAgICBjb25zdCBbbmFtZV0gPSBjb29raWUuc3BsaXQoJz0nKS5tYXAoYyA9PiBjLnRyaW0oKSk7XG4gICAgICAgICAgaWYgKG5hbWUuaW5jbHVkZXMoJ0NvZ25pdG9JZGVudGl0eVNlcnZpY2VQcm92aWRlcicpIHx8IFxuICAgICAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdhbXBsaWZ5JykgfHwgXG4gICAgICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ1Rva2VuJykpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWV9PTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIFVUQzsgcGF0aD0vO2A7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHBhcmFtcztcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluKHtcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHBhc3N3b3JkXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gV2FpdCBmb3Igc2Vzc2lvbiB0byBiZSBlc3RhYmxpc2hlZFxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU2Vzc2lvbigpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1N1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgc2lnbmVkIGluJyxcbiAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICBuZXh0U3RlcDogcmVzdWx0Lm5leHRTdGVwXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1NpZ24gaW4gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1VzZXJOb3RDb25maXJtZWRFeGNlcHRpb24nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXNTdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGNvbmZpcm0geW91ciBhY2NvdW50IGJ5IGVudGVyaW5nIHRoZSB2ZXJpZmljYXRpb24gY29kZSBzZW50IHRvIHlvdXIgZW1haWwuJ1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ05vdEF1dGhvcml6ZWRFeGNlcHRpb24nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXNTdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiAnSW5jb3JyZWN0IHVzZXJuYW1lIG9yIHBhc3N3b3JkLidcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdVc2VyTm90Rm91bmRFeGNlcHRpb24nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXNTdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiAnVXNlciBkb2VzIG5vdCBleGlzdC4nXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzU3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzaWduIGluLiBQbGVhc2UgdHJ5IGFnYWluLidcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpcm0gYSB1c2VyJ3Mgc2lnbiB1cCB3aXRoIHZlcmlmaWNhdGlvbiBjb2RlXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY29uZmlybVNpZ25VcCh1c2VybmFtZTogc3RyaW5nLCBjb2RlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY29uZmlybVNpZ25VcCh7XG4gICAgICAgIHVzZXJuYW1lLCBcbiAgICAgICAgY29uZmlybWF0aW9uQ29kZTogY29kZVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignQ29uZmlybSBzaWduIHVwIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduIG91dCB0aGUgY3VycmVudCB1c2VyXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgc2lnbk91dCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2lnbk91dCh7IGdsb2JhbDogdHJ1ZSB9KTtcbiAgICAgIHRoaXMubGFzdFNlc3Npb25DaGVjayA9IDA7XG4gICAgICB0aGlzLnNlc3Npb25DaGVja1Byb21pc2UgPSBudWxsO1xuICAgICAgXG4gICAgICAvLyBDbGVhciBhbGwgYXV0aC1yZWxhdGVkIGNvb2tpZXMgbWFudWFsbHkgYWZ0ZXIgc2lnbm91dFxuICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JykuZm9yRWFjaChjb29raWUgPT4ge1xuICAgICAgICAgIGNvbnN0IFtuYW1lXSA9IGNvb2tpZS5zcGxpdCgnPScpLm1hcChjID0+IGMudHJpbSgpKTtcbiAgICAgICAgICBpZiAobmFtZS5pbmNsdWRlcygnQ29nbml0b0lkZW50aXR5U2VydmljZVByb3ZpZGVyJykgfHwgXG4gICAgICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ2FtcGxpZnknKSB8fCBcbiAgICAgICAgICAgICAgbmFtZS5pbmNsdWRlcygnVG9rZW4nKSB8fFxuICAgICAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdhdXRoJykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGVhcmluZyBjb29raWUgYWZ0ZXIgc2lnbm91dDonLCBuYW1lKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWV9PTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIFVUQzsgcGF0aD0vO2A7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgd2UncmUgaW4gYSBicm93c2VyLCByZWRpcmVjdCB0byBsb2dpbiBwYWdlIGFmdGVyIHNpZ25vdXRcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWRtaW4vbG9naW4/Zml4ZWQ9dHJ1ZSc7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1NpZ24gb3V0IGVycm9yOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gRXZlbiBpZiB0aGVyZSB3YXMgYW4gZXJyb3IsIHRyeSB0byBjbGVhciBjb29raWVzXG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKS5mb3JFYWNoKGNvb2tpZSA9PiB7XG4gICAgICAgICAgY29uc3QgW25hbWVdID0gY29va2llLnNwbGl0KCc9JykubWFwKGMgPT4gYy50cmltKCkpO1xuICAgICAgICAgIGlmIChuYW1lLmluY2x1ZGVzKCdDb2duaXRvSWRlbnRpdHlTZXJ2aWNlUHJvdmlkZXInKSB8fCBcbiAgICAgICAgICAgICAgbmFtZS5pbmNsdWRlcygnYW1wbGlmeScpIHx8IFxuICAgICAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdUb2tlbicpKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBgJHtuYW1lfT07IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBVVEM7IHBhdGg9LztgO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgYXV0aGVudGljYXRlZCB1c2VyXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0Q3VycmVudFVzZXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xuICAgICAgcmV0dXJuIHVzZXI7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0IGZvciBhIHZhbGlkIHNlc3Npb24gdG8gYmUgZXN0YWJsaXNoZWRcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGFzeW5jIHdhaXRGb3JTZXNzaW9uKG1heEF0dGVtcHRzID0gNSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4QXR0ZW1wdHM7IGkrKykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZmV0Y2hBdXRoU2Vzc2lvbigpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChpID09PSBtYXhBdHRlbXB0cyAtIDEpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdXNlciBpcyBhdXRoZW50aWNhdGVkIHdpdGggY2FjaGluZ1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGlzQXV0aGVudGljYXRlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIFxuICAgIC8vIFNraXAgY2FjaGUgd2hlbiBmb3JjZSByZWZyZXNoIGhhcHBlbnNcbiAgICBpZiAodGhpcy5mb3JjZVJlZnJlc2gpIHtcbiAgICAgIHRoaXMuZm9yY2VSZWZyZXNoID0gZmFsc2U7XG4gICAgICB0aGlzLmxhc3RTZXNzaW9uQ2hlY2sgPSAwO1xuICAgICAgdGhpcy5zZXNzaW9uQ2hlY2tQcm9taXNlID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgLy8gUmV0dXJuIGNhY2hlZCByZXN1bHQgaWYgc3RpbGwgdmFsaWQgYW5kIG5vdCB0b28gb2xkXG4gICAgaWYgKHRoaXMuc2Vzc2lvbkNoZWNrUHJvbWlzZSAmJiAobm93IC0gdGhpcy5sYXN0U2Vzc2lvbkNoZWNrKSA8IHRoaXMuc2Vzc2lvbkNoZWNrSW50ZXJ2YWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlc3Npb25DaGVja1Byb21pc2U7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG5ldyBjaGVjayBwcm9taXNlIHdpdGggYmV0dGVyIGVycm9yIGhhbmRsaW5nXG4gICAgdGhpcy5zZXNzaW9uQ2hlY2tQcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBmZXRjaEF1dGhTZXNzaW9uKCk7XG4gICAgICAgIGNvbnN0IGlzVmFsaWQgPSAhIXNlc3Npb24udG9rZW5zPy5hY2Nlc3NUb2tlbjtcbiAgICAgICAgXG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1ZhbGlkIGF1dGhlbnRpY2F0aW9uIHNlc3Npb24gZm91bmQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTm8gdmFsaWQgYXV0aGVudGljYXRpb24gc2Vzc2lvbicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGF1dGhlbnRpY2F0aW9uOicsIGVycm9yKTtcbiAgICAgICAgLy8gSWYgd2UgZ2V0IGEgXCJObyBjdXJyZW50IHVzZXJcIiBlcnJvciwgZGVmaW5pdGVseSBub3QgYXV0aGVudGljYXRlZFxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdObyBjdXJyZW50IHVzZXInKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3Igb3RoZXIgZXJyb3JzLCB3ZSBjYW4ndCBiZSBzdXJlLCBkZWZhdWx0IHRvIG5vdCBhdXRoZW50aWNhdGVkXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgdGhpcy5sYXN0U2Vzc2lvbkNoZWNrID0gbm93O1xuICAgIHJldHVybiB0aGlzLnNlc3Npb25DaGVja1Byb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHVzZXIncyBhdHRyaWJ1dGVzXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0VXNlckF0dHJpYnV0ZXMoKTogUHJvbWlzZTxVc2VyQXR0cmlidXRlcyB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGF3YWl0IGZldGNoVXNlckF0dHJpYnV0ZXMoKTtcbiAgICAgIHJldHVybiBhdHRyaWJ1dGVzIGFzIHVua25vd24gYXMgVXNlckF0dHJpYnV0ZXM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdXNlciBhdHRyaWJ1dGVzXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgdXBkYXRlVXNlckF0dHJpYnV0ZXMoYXR0cmlidXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPik6IFByb21pc2U8QXV0aFJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB1cGRhdGVVc2VyQXR0cmlidXRlcyh7XG4gICAgICAgIHVzZXJBdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNTdWNjZXNzOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiAnVXNlciBhdHRyaWJ1dGVzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LidcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignVXBkYXRlIHVzZXIgYXR0cmlidXRlcyBlcnJvcjonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzU3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgdXNlciBhdHRyaWJ1dGVzLidcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbXBsZXRlIG5ldyBwYXNzd29yZCBjaGFsbGVuZ2VcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjb21wbGV0ZU5ld1Bhc3N3b3JkKG5ld1Bhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPEF1dGhSZXN1bHQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29uZmlybVNpZ25Jbih7XG4gICAgICAgIGNoYWxsZW5nZVJlc3BvbnNlOiBuZXdQYXNzd29yZFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFdhaXQgZm9yIHNlc3Npb24gdG8gYmUgZXN0YWJsaXNoZWQgYWZ0ZXIgcGFzc3dvcmQgY2hhbmdlXG4gICAgICBhd2FpdCB0aGlzLndhaXRGb3JTZXNzaW9uKCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzU3VjY2VzczogcmVzdWx0LmlzU2lnbmVkSW4sXG4gICAgICAgIG1lc3NhZ2U6ICdQYXNzd29yZCBzZXQgc3VjY2Vzc2Z1bGx5LidcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignQ29tcGxldGUgbmV3IHBhc3N3b3JkIGVycm9yOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNTdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNldCBuZXcgcGFzc3dvcmQuJ1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgdXNlcidzIElEIHRva2VuXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0SWRUb2tlbigpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGZldGNoQXV0aFNlc3Npb24oKTtcbiAgICAgIHJldHVybiBzZXNzaW9uLnRva2Vucz8uaWRUb2tlbj8udG9TdHJpbmcoKSB8fCBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIElEIHRva2VuOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZSBhIHJlZnJlc2ggb2YgdGhlIGF1dGhlbnRpY2F0aW9uIHN0YXRlXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgcmVmcmVzaEF1dGhTdGF0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmZvcmNlUmVmcmVzaCA9IHRydWU7XG4gICAgdGhpcy5sYXN0U2Vzc2lvbkNoZWNrID0gMDtcbiAgICB0aGlzLnNlc3Npb25DaGVja1Byb21pc2UgPSBudWxsO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgdG8gZmV0Y2ggdGhlIGF1dGggc2Vzc2lvbiB0byByZWZyZXNoIHRoZSB0b2tlbnNcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBmZXRjaEF1dGhTZXNzaW9uKCk7XG4gICAgICBjb25zb2xlLmxvZygnQXV0aCBzZXNzaW9uIHJlZnJlc2hlZCBzdWNjZXNzZnVsbHknLCB7XG4gICAgICAgIGhhc0lkVG9rZW46ICEhc2Vzc2lvbi50b2tlbnM/LmlkVG9rZW4sXG4gICAgICAgIGhhc0FjY2Vzc1Rva2VuOiAhIXNlc3Npb24udG9rZW5zPy5hY2Nlc3NUb2tlbixcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHRva2VucyBvYmplY3QgZXhpc3RlbmNlIGluc3RlYWQgb2Ygc3BlY2lmaWMgcmVmcmVzaFRva2VuIHByb3BlcnR5XG4gICAgICAgIGhhc1Rva2VuczogISFzZXNzaW9uLnRva2Vuc1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlZnJlc2hpbmcgYXV0aCBzZXNzaW9uOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgcHJvYmxlbWF0aWMgY29va2llcyBpZiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpLmZvckVhY2goY29va2llID0+IHtcbiAgICAgICAgICBjb25zdCBbbmFtZV0gPSBjb29raWUuc3BsaXQoJz0nKS5tYXAoYyA9PiBjLnRyaW0oKSk7XG4gICAgICAgICAgaWYgKG5hbWUuaW5jbHVkZXMoJ0NvZ25pdG9JZGVudGl0eVNlcnZpY2VQcm92aWRlcicpIHx8IFxuICAgICAgICAgICAgICBuYW1lLmluY2x1ZGVzKCdhbXBsaWZ5JykgfHwgXG4gICAgICAgICAgICAgIG5hbWUuaW5jbHVkZXMoJ1Rva2VuJykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDbGVhcmluZyBwcm9ibGVtYXRpYyBjb29raWU6JywgbmFtZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBgJHtuYW1lfT07IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBVVEM7IHBhdGg9LztgO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59Il0sIm5hbWVzIjpbInNpZ25JbiIsInNpZ25VcCIsInNpZ25PdXQiLCJjb25maXJtU2lnblVwIiwiZ2V0Q3VycmVudFVzZXIiLCJmZXRjaFVzZXJBdHRyaWJ1dGVzIiwidXBkYXRlVXNlckF0dHJpYnV0ZXMiLCJmZXRjaEF1dGhTZXNzaW9uIiwiY29uZmlybVNpZ25JbiIsImdldEFtcGxpZnlDb25maWciLCJBbXBsaWZ5IiwiY29uZmlndXJlIiwiYW1wbGlmeUNvbmZpZyIsIkF1dGhTZXJ2aWNlIiwic2Vzc2lvbkNoZWNrUHJvbWlzZSIsImxhc3RTZXNzaW9uQ2hlY2siLCJzZXNzaW9uQ2hlY2tJbnRlcnZhbCIsImZvcmNlUmVmcmVzaCIsInBhcmFtcyIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJlbWFpbCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiYXR0cmlidXRlcyIsIm5hbWUiLCJmYW1pbHlfbmFtZSIsInJlc3VsdCIsIm9wdGlvbnMiLCJ1c2VyQXR0cmlidXRlcyIsImlzU3VjY2VzcyIsIm1lc3NhZ2UiLCJkYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwiZG9jdW1lbnQiLCJjb29raWUiLCJzcGxpdCIsImZvckVhY2giLCJtYXAiLCJjIiwidHJpbSIsImluY2x1ZGVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0Iiwid2FpdEZvclNlc3Npb24iLCJuZXh0U3RlcCIsImNvZGUiLCJjb25maXJtYXRpb25Db2RlIiwiZ2xvYmFsIiwibG9nIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwidXNlciIsIm1heEF0dGVtcHRzIiwiaSIsImlzQXV0aGVudGljYXRlZCIsIm5vdyIsIkRhdGUiLCJzZXNzaW9uIiwiaXNWYWxpZCIsInRva2VucyIsImFjY2Vzc1Rva2VuIiwiRXJyb3IiLCJnZXRVc2VyQXR0cmlidXRlcyIsImNvbXBsZXRlTmV3UGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsImNoYWxsZW5nZVJlc3BvbnNlIiwiaXNTaWduZWRJbiIsImdldElkVG9rZW4iLCJpZFRva2VuIiwidG9TdHJpbmciLCJyZWZyZXNoQXV0aFN0YXRlIiwiaGFzSWRUb2tlbiIsImhhc0FjY2Vzc1Rva2VuIiwiaGFzVG9rZW5zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/auth-service.ts\n");

/***/ }),

/***/ "./src/lib/cookie-manager.ts":
/*!***********************************!*\
  !*** ./src/lib/cookie-manager.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearAuthCookies: () => (/* binding */ clearAuthCookies),\n/* harmony export */   deleteCookie: () => (/* binding */ deleteCookie),\n/* harmony export */   fixProblemCookies: () => (/* binding */ fixProblemCookies),\n/* harmony export */   getCookie: () => (/* binding */ getCookie),\n/* harmony export */   getCookieDomain: () => (/* binding */ getCookieDomain),\n/* harmony export */   initCookieFixes: () => (/* binding */ initCookieFixes),\n/* harmony export */   setCookie: () => (/* binding */ setCookie)\n/* harmony export */ });\n/**\n * Cookie manager utility for handling authentication cookies\n */ // Get a cookie by name\nfunction getCookie(name) {\n    if (typeof document === \"undefined\") return null;\n    const cookieValue = document.cookie.split(\"; \").find((row)=>row.startsWith(`${name}=`))?.split(\"=\")[1];\n    return cookieValue ? decodeURIComponent(cookieValue) : null;\n}\n// Set a cookie with domain and expiration\nfunction setCookie(name, value, options = {}) {\n    if (typeof document === \"undefined\") return;\n    const { days = 7, path = \"/\", domain, secure = true, sameSite = \"lax\" } = options;\n    // Calculate expiration\n    const expires = new Date();\n    expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);\n    // Build the cookie string\n    let cookieString = `${name}=${encodeURIComponent(value)}; expires=${expires.toUTCString()}; path=${path}`;\n    if (domain) {\n        cookieString += `; domain=${domain}`;\n    }\n    if (secure) {\n        cookieString += \"; secure\";\n    }\n    cookieString += `; samesite=${sameSite}`;\n    document.cookie = cookieString;\n}\n// Delete a cookie\nfunction deleteCookie(name, options = {}) {\n    if (typeof document === \"undefined\") return;\n    const { path = \"/\", domain } = options;\n    // Set expiration to the past to delete\n    let cookieString = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${path}`;\n    if (domain) {\n        cookieString += `; domain=${domain}`;\n    }\n    document.cookie = cookieString;\n}\n// Get current domain for cookie operations\nfunction getCookieDomain() {\n    if (true) return undefined;\n    const hostname = window.location.hostname;\n    // Don't set domain for localhost\n    if (hostname === \"localhost\" || hostname === \"127.0.0.1\") {\n        return undefined;\n    }\n    // For amplifyapp.com domain, use the full hostname\n    if (hostname.includes(\"amplifyapp.com\")) {\n        return hostname;\n    }\n    // For custom domains, use the domain itself (no need to handle subdomains anymore)\n    return hostname;\n}\n// Clear all cookies related to authentication\nfunction clearAuthCookies() {\n    if (typeof document === \"undefined\") return;\n    const domain = getCookieDomain();\n    // Common authentication-related cookies\n    const authCookies = [\n        \"amplify-signin-with-hostedUI\",\n        \"amplify-redirected-from-hosted-ui\",\n        \"amplify.auth.tokens\",\n        \"CognitoIdentityServiceProvider.*\",\n        \"amazon-cognito-advanced-security-data\",\n        \"aws.cognito.*\",\n        \"idToken\",\n        \"accessToken\",\n        \"refreshToken\",\n        \"auth_tokens\",\n        \"CognitoIdentityServiceProvider.*\",\n        \"Authorization\"\n    ];\n    // Delete all authentication cookies\n    authCookies.forEach((cookieName)=>{\n        if (cookieName.includes(\"*\")) {\n            // For pattern cookies, we need to find all matches\n            document.cookie.split(\";\").forEach((cookie)=>{\n                const name = cookie.split(\"=\")[0].trim();\n                if (name.includes(cookieName.replace(\"*\", \"\"))) {\n                    deleteCookie(name, {\n                        domain\n                    });\n                    // Also try with no domain to catch all\n                    deleteCookie(name);\n                }\n            });\n        } else {\n            deleteCookie(cookieName, {\n                domain\n            });\n            // Also try with no domain to catch all\n            deleteCookie(cookieName);\n        }\n    });\n    // Reset redirect count\n    setCookie(\"redirect_count\", \"0\", {\n        days: 1\n    });\n    console.log(\"All authentication cookies cleared\");\n}\n// Fix any problem cookies that might be causing redirect loops\nfunction fixProblemCookies() {\n    if (typeof document === \"undefined\") return;\n    // Reset redirect count to prevent loop detection from blocking legitimate redirects\n    setCookie(\"redirect_count\", \"0\", {\n        days: 1\n    });\n    // Check for auth-related cookies with incorrect settings\n    const authHeaderCookie = getCookie(\"Authorization\");\n    if (authHeaderCookie) {\n        // If auth is stored in a header cookie, it might be causing issues - clear it\n        deleteCookie(\"Authorization\");\n    }\n    // Get the current domain\n    const hostname = window.location.hostname;\n    // Try to fix auth cookies - first check if we can detect any bad ones\n    const cookiesToCheck = [\n        \"amplify-signin-with-hostedUI\",\n        \"amplify-redirected-from-hosted-ui\",\n        \"idToken\",\n        \"accessToken\",\n        \"refreshToken\"\n    ];\n    // Log cookie state for debugging\n    console.log(\"Checking cookies state...\");\n    // Check each cookie and fix if needed\n    let problemFound = false;\n    cookiesToCheck.forEach((cookieName)=>{\n        const cookieValue = getCookie(cookieName);\n        if (cookieValue) {\n            console.log(`Found potentially problematic cookie: ${cookieName}`);\n            problemFound = true;\n            // Delete the cookie and set again with correct domain\n            deleteCookie(cookieName);\n            deleteCookie(cookieName, {\n                domain: hostname\n            });\n        }\n    });\n    // If we found problems, attempt a more thorough cleanup\n    if (problemFound) {\n        console.log(\"Performing thorough cookie cleanup\");\n        clearAuthCookies();\n    }\n    // Check for any infinite redirect related query params\n    if (false) {}\n}\n// Initialize cookie fixes when the page loads\nfunction initCookieFixes() {\n    if (true) return;\n    // Function to run when the page loads\n    const fixCookiesOnLoad = ()=>{\n        // Reset redirect count and fix any other problem cookies\n        fixProblemCookies();\n        // Check the URL for signs of redirect loop\n        if (window.location.href.includes(\"ERR_TOO_MANY_REDIRECTS\") || window.location.href.includes(\"error=redirect_loop\")) {\n            // If there's a redirect loop indication, clear all auth cookies\n            console.log(\"Detected redirect loop, clearing all authentication cookies\");\n            clearAuthCookies();\n            // Reload the page to break the loop\n            window.location.href = window.location.origin + \"/admin/login?fixed=true\";\n        }\n        // Check if there's a fixed=true parameter to handle a previously detected redirect loop\n        if (window.location.href.includes(\"fixed=true\")) {\n            console.log(\"Fixed parameter detected, clearing all authentication cookies again\");\n            // Double check that all cookies are cleared\n            clearAuthCookies();\n        }\n    };\n    // Run fixes when DOM content is loaded\n    if (document.readyState === \"loading\") {\n        document.addEventListener(\"DOMContentLoaded\", fixCookiesOnLoad);\n    } else {\n        // DOM already loaded, run immediately\n        fixCookiesOnLoad();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0RBQXdEO0lBQ3hELElBQUllLGNBQWM7UUFDaEJMLFFBQVFDLEdBQUcsQ0FBQztRQUNaUDtJQUNGO0lBRUEsdURBQXVEO0lBQ3ZELElBQUksS0FBa0IsRUFBYSxFQWlCbEM7QUFDSDtBQUVBLDhDQUE4QztBQUN2QyxTQUFTdUI7SUFDZCxJQUFJLElBQWtCLEVBQWE7SUFFbkMsc0NBQXNDO0lBQ3RDLE1BQU1DLG1CQUFtQjtRQUN2Qix5REFBeUQ7UUFDekRoQjtRQUVBLDJDQUEyQztRQUMzQyxJQUFJWCxPQUFPQyxRQUFRLENBQUNnQixJQUFJLENBQUNmLFFBQVEsQ0FBQyw2QkFDOUJGLE9BQU9DLFFBQVEsQ0FBQ2dCLElBQUksQ0FBQ2YsUUFBUSxDQUFDLHdCQUF3QjtZQUN4RCxnRUFBZ0U7WUFDaEVPLFFBQVFDLEdBQUcsQ0FBQztZQUNaUDtZQUVBLG9DQUFvQztZQUNwQ0gsT0FBT0MsUUFBUSxDQUFDZ0IsSUFBSSxHQUFHakIsT0FBT0MsUUFBUSxDQUFDMkIsTUFBTSxHQUFHO1FBQ2xEO1FBRUEsd0ZBQXdGO1FBQ3hGLElBQUk1QixPQUFPQyxRQUFRLENBQUNnQixJQUFJLENBQUNmLFFBQVEsQ0FBQyxlQUFlO1lBQy9DTyxRQUFRQyxHQUFHLENBQUM7WUFDWiw0Q0FBNEM7WUFDNUNQO1FBQ0Y7SUFDRjtJQUVBLHVDQUF1QztJQUN2QyxJQUFJOUIsU0FBU3dELFVBQVUsS0FBSyxXQUFXO1FBQ3JDeEQsU0FBU3lELGdCQUFnQixDQUFDLG9CQUFvQkg7SUFDaEQsT0FBTztRQUNMLHNDQUFzQztRQUN0Q0E7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VydmV5LWxpbmstd3JhcHBlci8uL3NyYy9saWIvY29va2llLW1hbmFnZXIudHM/MjFkOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvb2tpZSBtYW5hZ2VyIHV0aWxpdHkgZm9yIGhhbmRsaW5nIGF1dGhlbnRpY2F0aW9uIGNvb2tpZXNcbiAqL1xuXG4vLyBHZXQgYSBjb29raWUgYnkgbmFtZVxuZXhwb3J0IGZ1bmN0aW9uIGdldENvb2tpZShuYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsO1xuICBcbiAgY29uc3QgY29va2llVmFsdWUgPSBkb2N1bWVudC5jb29raWVcbiAgICAuc3BsaXQoJzsgJylcbiAgICAuZmluZChyb3cgPT4gcm93LnN0YXJ0c1dpdGgoYCR7bmFtZX09YCkpXG4gICAgPy5zcGxpdCgnPScpWzFdO1xuICBcbiAgcmV0dXJuIGNvb2tpZVZhbHVlID8gZGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZVZhbHVlKSA6IG51bGw7XG59XG5cbi8vIFNldCBhIGNvb2tpZSB3aXRoIGRvbWFpbiBhbmQgZXhwaXJhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIHNldENvb2tpZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG9wdGlvbnM6IHtcbiAgZGF5cz86IG51bWJlcjtcbiAgcGF0aD86IHN0cmluZztcbiAgZG9tYWluPzogc3RyaW5nO1xuICBzZWN1cmU/OiBib29sZWFuO1xuICBzYW1lU2l0ZT86ICdzdHJpY3QnIHwgJ2xheCcgfCAnbm9uZSc7XG59ID0ge30pOiB2b2lkIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgXG4gIGNvbnN0IHtcbiAgICBkYXlzID0gNyxcbiAgICBwYXRoID0gJy8nLFxuICAgIGRvbWFpbixcbiAgICBzZWN1cmUgPSB0cnVlLFxuICAgIHNhbWVTaXRlID0gJ2xheCdcbiAgfSA9IG9wdGlvbnM7XG4gIFxuICAvLyBDYWxjdWxhdGUgZXhwaXJhdGlvblxuICBjb25zdCBleHBpcmVzID0gbmV3IERhdGUoKTtcbiAgZXhwaXJlcy5zZXRUaW1lKGV4cGlyZXMuZ2V0VGltZSgpICsgZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICBcbiAgLy8gQnVpbGQgdGhlIGNvb2tpZSBzdHJpbmdcbiAgbGV0IGNvb2tpZVN0cmluZyA9IGAke25hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKX07IGV4cGlyZXM9JHtleHBpcmVzLnRvVVRDU3RyaW5nKCl9OyBwYXRoPSR7cGF0aH1gO1xuICBcbiAgaWYgKGRvbWFpbikge1xuICAgIGNvb2tpZVN0cmluZyArPSBgOyBkb21haW49JHtkb21haW59YDtcbiAgfVxuICBcbiAgaWYgKHNlY3VyZSkge1xuICAgIGNvb2tpZVN0cmluZyArPSAnOyBzZWN1cmUnO1xuICB9XG4gIFxuICBjb29raWVTdHJpbmcgKz0gYDsgc2FtZXNpdGU9JHtzYW1lU2l0ZX1gO1xuICBcbiAgZG9jdW1lbnQuY29va2llID0gY29va2llU3RyaW5nO1xufVxuXG4vLyBEZWxldGUgYSBjb29raWVcbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDb29raWUobmFtZTogc3RyaW5nLCBvcHRpb25zOiB7XG4gIHBhdGg/OiBzdHJpbmc7XG4gIGRvbWFpbj86IHN0cmluZztcbn0gPSB7fSk6IHZvaWQge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICBcbiAgY29uc3QgeyBwYXRoID0gJy8nLCBkb21haW4gfSA9IG9wdGlvbnM7XG4gIFxuICAvLyBTZXQgZXhwaXJhdGlvbiB0byB0aGUgcGFzdCB0byBkZWxldGVcbiAgbGV0IGNvb2tpZVN0cmluZyA9IGAke25hbWV9PTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIFVUQzsgcGF0aD0ke3BhdGh9YDtcbiAgXG4gIGlmIChkb21haW4pIHtcbiAgICBjb29raWVTdHJpbmcgKz0gYDsgZG9tYWluPSR7ZG9tYWlufWA7XG4gIH1cbiAgXG4gIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZVN0cmluZztcbn1cblxuLy8gR2V0IGN1cnJlbnQgZG9tYWluIGZvciBjb29raWUgb3BlcmF0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvb2tpZURvbWFpbigpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB1bmRlZmluZWQ7XG4gIFxuICBjb25zdCBob3N0bmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgXG4gIC8vIERvbid0IHNldCBkb21haW4gZm9yIGxvY2FsaG9zdFxuICBpZiAoaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnIHx8IGhvc3RuYW1lID09PSAnMTI3LjAuMC4xJykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgXG4gIC8vIEZvciBhbXBsaWZ5YXBwLmNvbSBkb21haW4sIHVzZSB0aGUgZnVsbCBob3N0bmFtZVxuICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ2FtcGxpZnlhcHAuY29tJykpIHtcbiAgICByZXR1cm4gaG9zdG5hbWU7XG4gIH1cbiAgXG4gIC8vIEZvciBjdXN0b20gZG9tYWlucywgdXNlIHRoZSBkb21haW4gaXRzZWxmIChubyBuZWVkIHRvIGhhbmRsZSBzdWJkb21haW5zIGFueW1vcmUpXG4gIHJldHVybiBob3N0bmFtZTtcbn1cblxuLy8gQ2xlYXIgYWxsIGNvb2tpZXMgcmVsYXRlZCB0byBhdXRoZW50aWNhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQXV0aENvb2tpZXMoKTogdm9pZCB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gIFxuICBjb25zdCBkb21haW4gPSBnZXRDb29raWVEb21haW4oKTtcbiAgXG4gIC8vIENvbW1vbiBhdXRoZW50aWNhdGlvbi1yZWxhdGVkIGNvb2tpZXNcbiAgY29uc3QgYXV0aENvb2tpZXMgPSBbXG4gICAgJ2FtcGxpZnktc2lnbmluLXdpdGgtaG9zdGVkVUknLFxuICAgICdhbXBsaWZ5LXJlZGlyZWN0ZWQtZnJvbS1ob3N0ZWQtdWknLFxuICAgICdhbXBsaWZ5LmF1dGgudG9rZW5zJyxcbiAgICAnQ29nbml0b0lkZW50aXR5U2VydmljZVByb3ZpZGVyLionLFxuICAgICdhbWF6b24tY29nbml0by1hZHZhbmNlZC1zZWN1cml0eS1kYXRhJyxcbiAgICAnYXdzLmNvZ25pdG8uKicsXG4gICAgJ2lkVG9rZW4nLFxuICAgICdhY2Nlc3NUb2tlbicsXG4gICAgJ3JlZnJlc2hUb2tlbicsXG4gICAgJ2F1dGhfdG9rZW5zJyxcbiAgICAnQ29nbml0b0lkZW50aXR5U2VydmljZVByb3ZpZGVyLionLFxuICAgICdBdXRob3JpemF0aW9uJ1xuICBdO1xuICBcbiAgLy8gRGVsZXRlIGFsbCBhdXRoZW50aWNhdGlvbiBjb29raWVzXG4gIGF1dGhDb29raWVzLmZvckVhY2goY29va2llTmFtZSA9PiB7XG4gICAgaWYgKGNvb2tpZU5hbWUuaW5jbHVkZXMoJyonKSkge1xuICAgICAgLy8gRm9yIHBhdHRlcm4gY29va2llcywgd2UgbmVlZCB0byBmaW5kIGFsbCBtYXRjaGVzXG4gICAgICBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKS5mb3JFYWNoKGNvb2tpZSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBjb29raWUuc3BsaXQoJz0nKVswXS50cmltKCk7XG4gICAgICAgIGlmIChuYW1lLmluY2x1ZGVzKGNvb2tpZU5hbWUucmVwbGFjZSgnKicsICcnKSkpIHtcbiAgICAgICAgICBkZWxldGVDb29raWUobmFtZSwgeyBkb21haW4gfSk7XG4gICAgICAgICAgLy8gQWxzbyB0cnkgd2l0aCBubyBkb21haW4gdG8gY2F0Y2ggYWxsXG4gICAgICAgICAgZGVsZXRlQ29va2llKG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlQ29va2llKGNvb2tpZU5hbWUsIHsgZG9tYWluIH0pO1xuICAgICAgLy8gQWxzbyB0cnkgd2l0aCBubyBkb21haW4gdG8gY2F0Y2ggYWxsXG4gICAgICBkZWxldGVDb29raWUoY29va2llTmFtZSk7XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vIFJlc2V0IHJlZGlyZWN0IGNvdW50XG4gIHNldENvb2tpZSgncmVkaXJlY3RfY291bnQnLCAnMCcsIHsgZGF5czogMSB9KTtcbiAgXG4gIGNvbnNvbGUubG9nKCdBbGwgYXV0aGVudGljYXRpb24gY29va2llcyBjbGVhcmVkJyk7XG59XG5cbi8vIEZpeCBhbnkgcHJvYmxlbSBjb29raWVzIHRoYXQgbWlnaHQgYmUgY2F1c2luZyByZWRpcmVjdCBsb29wc1xuZXhwb3J0IGZ1bmN0aW9uIGZpeFByb2JsZW1Db29raWVzKCk6IHZvaWQge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICBcbiAgLy8gUmVzZXQgcmVkaXJlY3QgY291bnQgdG8gcHJldmVudCBsb29wIGRldGVjdGlvbiBmcm9tIGJsb2NraW5nIGxlZ2l0aW1hdGUgcmVkaXJlY3RzXG4gIHNldENvb2tpZSgncmVkaXJlY3RfY291bnQnLCAnMCcsIHsgZGF5czogMSB9KTtcbiAgXG4gIC8vIENoZWNrIGZvciBhdXRoLXJlbGF0ZWQgY29va2llcyB3aXRoIGluY29ycmVjdCBzZXR0aW5nc1xuICBjb25zdCBhdXRoSGVhZGVyQ29va2llID0gZ2V0Q29va2llKCdBdXRob3JpemF0aW9uJyk7XG4gIGlmIChhdXRoSGVhZGVyQ29va2llKSB7XG4gICAgLy8gSWYgYXV0aCBpcyBzdG9yZWQgaW4gYSBoZWFkZXIgY29va2llLCBpdCBtaWdodCBiZSBjYXVzaW5nIGlzc3VlcyAtIGNsZWFyIGl0XG4gICAgZGVsZXRlQ29va2llKCdBdXRob3JpemF0aW9uJyk7XG4gIH1cbiAgXG4gIC8vIEdldCB0aGUgY3VycmVudCBkb21haW5cbiAgY29uc3QgaG9zdG5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gIFxuICAvLyBUcnkgdG8gZml4IGF1dGggY29va2llcyAtIGZpcnN0IGNoZWNrIGlmIHdlIGNhbiBkZXRlY3QgYW55IGJhZCBvbmVzXG4gIGNvbnN0IGNvb2tpZXNUb0NoZWNrID0gW1xuICAgICdhbXBsaWZ5LXNpZ25pbi13aXRoLWhvc3RlZFVJJyxcbiAgICAnYW1wbGlmeS1yZWRpcmVjdGVkLWZyb20taG9zdGVkLXVpJyxcbiAgICAnaWRUb2tlbicsXG4gICAgJ2FjY2Vzc1Rva2VuJyxcbiAgICAncmVmcmVzaFRva2VuJ1xuICBdO1xuICBcbiAgLy8gTG9nIGNvb2tpZSBzdGF0ZSBmb3IgZGVidWdnaW5nXG4gIGNvbnNvbGUubG9nKCdDaGVja2luZyBjb29raWVzIHN0YXRlLi4uJyk7XG4gIFxuICAvLyBDaGVjayBlYWNoIGNvb2tpZSBhbmQgZml4IGlmIG5lZWRlZFxuICBsZXQgcHJvYmxlbUZvdW5kID0gZmFsc2U7XG4gIGNvb2tpZXNUb0NoZWNrLmZvckVhY2goY29va2llTmFtZSA9PiB7XG4gICAgY29uc3QgY29va2llVmFsdWUgPSBnZXRDb29raWUoY29va2llTmFtZSk7XG4gICAgaWYgKGNvb2tpZVZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZyhgRm91bmQgcG90ZW50aWFsbHkgcHJvYmxlbWF0aWMgY29va2llOiAke2Nvb2tpZU5hbWV9YCk7XG4gICAgICBwcm9ibGVtRm91bmQgPSB0cnVlO1xuICAgICAgXG4gICAgICAvLyBEZWxldGUgdGhlIGNvb2tpZSBhbmQgc2V0IGFnYWluIHdpdGggY29ycmVjdCBkb21haW5cbiAgICAgIGRlbGV0ZUNvb2tpZShjb29raWVOYW1lKTtcbiAgICAgIGRlbGV0ZUNvb2tpZShjb29raWVOYW1lLCB7IGRvbWFpbjogaG9zdG5hbWUgfSk7XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vIElmIHdlIGZvdW5kIHByb2JsZW1zLCBhdHRlbXB0IGEgbW9yZSB0aG9yb3VnaCBjbGVhbnVwXG4gIGlmIChwcm9ibGVtRm91bmQpIHtcbiAgICBjb25zb2xlLmxvZygnUGVyZm9ybWluZyB0aG9yb3VnaCBjb29raWUgY2xlYW51cCcpO1xuICAgIGNsZWFyQXV0aENvb2tpZXMoKTtcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIGFueSBpbmZpbml0ZSByZWRpcmVjdCByZWxhdGVkIHF1ZXJ5IHBhcmFtc1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICBjb25zdCBoYXNSZWRpcmVjdExvb3BQYXJhbSA9IHVybC5zZWFyY2hQYXJhbXMuaGFzKCdyZWRpcmVjdF9sb29wJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5oYXMoJ2Vycm9yJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2Vycm9yJyk/LmluY2x1ZGVzKCdyZWRpcmVjdCcpO1xuICAgIFxuICAgIGlmIChoYXNSZWRpcmVjdExvb3BQYXJhbSkge1xuICAgICAgLy8gQ2xlYXIgYWxsIGF1dGggY29va2llcyBpZiB3ZSBkZXRlY3QgcmVkaXJlY3QgbG9vcCBwYXJhbWV0ZXJzXG4gICAgICBjbGVhckF1dGhDb29raWVzKCk7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSB0aGUgcXVlcnkgcGFyYW1ldGVyc1xuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoJ3JlZGlyZWN0X2xvb3AnKTtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKCdlcnJvcicpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdGhlIFVSTCB3aXRob3V0IHRoZSBxdWVyeSBwYXJhbWV0ZXJzXG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sICcnLCB1cmwudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9XG59XG5cbi8vIEluaXRpYWxpemUgY29va2llIGZpeGVzIHdoZW4gdGhlIHBhZ2UgbG9hZHNcbmV4cG9ydCBmdW5jdGlvbiBpbml0Q29va2llRml4ZXMoKTogdm9pZCB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICBcbiAgLy8gRnVuY3Rpb24gdG8gcnVuIHdoZW4gdGhlIHBhZ2UgbG9hZHNcbiAgY29uc3QgZml4Q29va2llc09uTG9hZCA9ICgpID0+IHtcbiAgICAvLyBSZXNldCByZWRpcmVjdCBjb3VudCBhbmQgZml4IGFueSBvdGhlciBwcm9ibGVtIGNvb2tpZXNcbiAgICBmaXhQcm9ibGVtQ29va2llcygpO1xuICAgIFxuICAgIC8vIENoZWNrIHRoZSBVUkwgZm9yIHNpZ25zIG9mIHJlZGlyZWN0IGxvb3BcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ0VSUl9UT09fTUFOWV9SRURJUkVDVFMnKSB8fCBcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2Vycm9yPXJlZGlyZWN0X2xvb3AnKSkge1xuICAgICAgLy8gSWYgdGhlcmUncyBhIHJlZGlyZWN0IGxvb3AgaW5kaWNhdGlvbiwgY2xlYXIgYWxsIGF1dGggY29va2llc1xuICAgICAgY29uc29sZS5sb2coJ0RldGVjdGVkIHJlZGlyZWN0IGxvb3AsIGNsZWFyaW5nIGFsbCBhdXRoZW50aWNhdGlvbiBjb29raWVzJyk7XG4gICAgICBjbGVhckF1dGhDb29raWVzKCk7XG4gICAgICBcbiAgICAgIC8vIFJlbG9hZCB0aGUgcGFnZSB0byBicmVhayB0aGUgbG9vcFxuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9hZG1pbi9sb2dpbj9maXhlZD10cnVlJztcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIGZpeGVkPXRydWUgcGFyYW1ldGVyIHRvIGhhbmRsZSBhIHByZXZpb3VzbHkgZGV0ZWN0ZWQgcmVkaXJlY3QgbG9vcFxuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygnZml4ZWQ9dHJ1ZScpKSB7XG4gICAgICBjb25zb2xlLmxvZygnRml4ZWQgcGFyYW1ldGVyIGRldGVjdGVkLCBjbGVhcmluZyBhbGwgYXV0aGVudGljYXRpb24gY29va2llcyBhZ2FpbicpO1xuICAgICAgLy8gRG91YmxlIGNoZWNrIHRoYXQgYWxsIGNvb2tpZXMgYXJlIGNsZWFyZWRcbiAgICAgIGNsZWFyQXV0aENvb2tpZXMoKTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBSdW4gZml4ZXMgd2hlbiBET00gY29udGVudCBpcyBsb2FkZWRcbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmaXhDb29raWVzT25Mb2FkKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBET00gYWxyZWFkeSBsb2FkZWQsIHJ1biBpbW1lZGlhdGVseVxuICAgIGZpeENvb2tpZXNPbkxvYWQoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImdldENvb2tpZSIsIm5hbWUiLCJkb2N1bWVudCIsImNvb2tpZVZhbHVlIiwiY29va2llIiwic3BsaXQiLCJmaW5kIiwicm93Iiwic3RhcnRzV2l0aCIsImRlY29kZVVSSUNvbXBvbmVudCIsInNldENvb2tpZSIsInZhbHVlIiwib3B0aW9ucyIsImRheXMiLCJwYXRoIiwiZG9tYWluIiwic2VjdXJlIiwic2FtZVNpdGUiLCJleHBpcmVzIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwiY29va2llU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidG9VVENTdHJpbmciLCJkZWxldGVDb29raWUiLCJnZXRDb29raWVEb21haW4iLCJ1bmRlZmluZWQiLCJob3N0bmFtZSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaW5jbHVkZXMiLCJjbGVhckF1dGhDb29raWVzIiwiYXV0aENvb2tpZXMiLCJmb3JFYWNoIiwiY29va2llTmFtZSIsInRyaW0iLCJyZXBsYWNlIiwiY29uc29sZSIsImxvZyIsImZpeFByb2JsZW1Db29raWVzIiwiYXV0aEhlYWRlckNvb2tpZSIsImNvb2tpZXNUb0NoZWNrIiwicHJvYmxlbUZvdW5kIiwidXJsIiwiVVJMIiwiaHJlZiIsImhhc1JlZGlyZWN0TG9vcFBhcmFtIiwic2VhcmNoUGFyYW1zIiwiaGFzIiwiZ2V0IiwiZGVsZXRlIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInRvU3RyaW5nIiwiaW5pdENvb2tpZUZpeGVzIiwiZml4Q29va2llc09uTG9hZCIsIm9yaWdpbiIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/cookie-manager.ts\n");

/***/ }),

/***/ "./src/pages/_app.tsx":
/*!****************************!*\
  !*** ./src/pages/_app.tsx ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MyApp)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../styles/globals.css */ \"./src/styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_auth_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/auth-provider */ \"./src/lib/auth-provider.tsx\");\n/* harmony import */ var _lib_amplify_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/amplify-config */ \"./src/lib/amplify-config.ts\");\n/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! aws-amplify */ \"aws-amplify\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_auth_provider__WEBPACK_IMPORTED_MODULE_3__, aws_amplify__WEBPACK_IMPORTED_MODULE_5__]);\n([_lib_auth_provider__WEBPACK_IMPORTED_MODULE_3__, aws_amplify__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n// Configure Amplify as early as possible\nif (false) {}\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_1___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Survey Link Wrapper\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/_app.tsx\",\n                        lineNumber: 18,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Wrapping third-party survey links with a validation layer\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/_app.tsx\",\n                        lineNumber: 19,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/_app.tsx\",\n                        lineNumber: 20,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/_app.tsx\",\n                        lineNumber: 21,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/_app.tsx\",\n                lineNumber: 17,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lib_auth_provider__WEBPACK_IMPORTED_MODULE_3__.AuthProvider, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                    ...pageProps\n                }, void 0, false, {\n                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/_app.tsx\",\n                    lineNumber: 24,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/_app.tsx\",\n                lineNumber: 23,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvX2FwcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDNkI7QUFDRTtBQUNvQjtBQUNLO0FBQ2xCO0FBRXRDLHlDQUF5QztBQUN6QyxJQUFJLEtBQWtCLEVBQWEsRUFHbEM7QUFFYyxTQUFTTSxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFZO0lBQzlELHFCQUNFOzswQkFDRSw4REFBQ1Isa0RBQUlBOztrQ0FDSCw4REFBQ1M7a0NBQU07Ozs7OztrQ0FDUCw4REFBQ0M7d0JBQUtDLE1BQUs7d0JBQWNDLFNBQVE7Ozs7OztrQ0FDakMsOERBQUNDO3dCQUFLQyxLQUFJO3dCQUFPQyxNQUFLOzs7Ozs7a0NBQ3RCLDhEQUFDTDt3QkFBS0MsTUFBSzt3QkFBV0MsU0FBUTs7Ozs7Ozs7Ozs7OzBCQUVoQyw4REFBQ1gsNERBQVlBOzBCQUNYLDRFQUFDTTtvQkFBVyxHQUFHQyxTQUFTOzs7Ozs7Ozs7Ozs7O0FBSWhDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VydmV5LWxpbmstd3JhcHBlci8uL3NyYy9wYWdlcy9fYXBwLnRzeD9mOWQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFByb3BzIH0gZnJvbSAnbmV4dC9hcHAnO1xuaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJztcbmltcG9ydCAnLi4vc3R5bGVzL2dsb2JhbHMuY3NzJztcbmltcG9ydCB7IEF1dGhQcm92aWRlciB9IGZyb20gJ0AvbGliL2F1dGgtcHJvdmlkZXInO1xuaW1wb3J0IHsgZ2V0QW1wbGlmeUNvbmZpZyB9IGZyb20gJ0AvbGliL2FtcGxpZnktY29uZmlnJztcbmltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICdhd3MtYW1wbGlmeSc7XG5cbi8vIENvbmZpZ3VyZSBBbXBsaWZ5IGFzIGVhcmx5IGFzIHBvc3NpYmxlXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgY29uc3QgYW1wbGlmeUNvbmZpZyA9IGdldEFtcGxpZnlDb25maWcoKTtcbiAgQW1wbGlmeS5jb25maWd1cmUoYW1wbGlmeUNvbmZpZyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE15QXBwKHsgQ29tcG9uZW50LCBwYWdlUHJvcHMgfTogQXBwUHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5TdXJ2ZXkgTGluayBXcmFwcGVyPC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cIldyYXBwaW5nIHRoaXJkLXBhcnR5IHN1cnZleSBsaW5rcyB3aXRoIGEgdmFsaWRhdGlvbiBsYXllclwiIC8+XG4gICAgICAgIDxsaW5rIHJlbD1cImljb25cIiBocmVmPVwiL2Zhdmljb24uaWNvXCIgLz5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCIgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIDxBdXRoUHJvdmlkZXI+XG4gICAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICAgIDwvQXV0aFByb3ZpZGVyPlxuICAgIDwvPlxuICApO1xufSJdLCJuYW1lcyI6WyJIZWFkIiwiQXV0aFByb3ZpZGVyIiwiZ2V0QW1wbGlmeUNvbmZpZyIsIkFtcGxpZnkiLCJhbXBsaWZ5Q29uZmlnIiwiY29uZmlndXJlIiwiTXlBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiLCJ0aXRsZSIsIm1ldGEiLCJuYW1lIiwiY29udGVudCIsImxpbmsiLCJyZWwiLCJocmVmIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/_app.tsx\n");

/***/ }),

/***/ "./src/pages/s/[projectId]/[uid].tsx":
/*!*******************************************!*\
  !*** ./src/pages/s/[projectId]/[uid].tsx ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SurveyLandingPage),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_SurveyFlow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/SurveyFlow */ \"./src/components/SurveyFlow.tsx\");\n/* harmony import */ var _lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/amplify-server-service */ \"./src/lib/amplify-server-service.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_SurveyFlow__WEBPACK_IMPORTED_MODULE_3__, _lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_4__]);\n([_components_SurveyFlow__WEBPACK_IMPORTED_MODULE_3__, _lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nfunction SurveyLandingPage({ projectId, uid, project, surveyLink, isValid, errorMessage }) {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(errorMessage || null);\n    // If link is invalid, show an error\n    if (!isValid || !project) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-md w-full bg-white rounded-lg shadow-lg p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold text-red-600 mb-4\",\n                        children: \"Invalid Survey Link\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                        lineNumber: 45,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600 mb-6\",\n                        children: errorMessage || \"This survey link is invalid or has expired.\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                        lineNumber: 46,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>window.location.href = \"https://protegeresearch.com\",\n                            className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                            children: \"Return to ProtegeResearch\"\n                        }, void 0, false, {\n                            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                            lineNumber: 50,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                        lineNumber: 49,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                lineNumber: 44,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n            lineNumber: 43,\n            columnNumber: 7\n        }, this);\n    }\n    // If survey was already completed, show that message\n    if (surveyLink?.status === \"COMPLETED\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-md w-full bg-white rounded-lg shadow-lg p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold text-green-600 mb-4\",\n                        children: \"Survey Already Completed\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                        lineNumber: 67,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600 mb-6\",\n                        children: \"You have already completed this survey. Thank you for your participation!\"\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                        lineNumber: 68,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>window.location.href = \"https://protegeresearch.com\",\n                            className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                            children: \"Return to ProtegeResearch\"\n                        }, void 0, false, {\n                            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                            lineNumber: 72,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                        lineNumber: 71,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                lineNumber: 66,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n            lineNumber: 65,\n            columnNumber: 7\n        }, this);\n    }\n    // Use our SurveyFlow component to handle everything\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-100\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container mx-auto py-8 px-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-8\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold text-gray-800\",\n                        children: project.name\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                        lineNumber: 89,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                    lineNumber: 88,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white rounded-lg shadow-lg p-2 md:p-6\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SurveyFlow__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        projectId: projectId,\n                        uid: uid,\n                        surveyUrl: project.surveyUrl,\n                        vendorId: surveyLink?.vendorId || undefined\n                    }, void 0, false, {\n                        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                        lineNumber: 93,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n                    lineNumber: 92,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n            lineNumber: 87,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/muneeb/Desktop/Link_Genrator_And_Wrapper_-Admin-/src/pages/s/[projectId]/[uid].tsx\",\n        lineNumber: 86,\n        columnNumber: 5\n    }, this);\n}\nconst getServerSideProps = async (context)=>{\n    const { projectId, uid } = context.params;\n    try {\n        const amplifyServerService = (0,_lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_4__.getAmplifyServerService)();\n        // Get the survey link\n        const surveyLinkResult = await amplifyServerService.getSurveyLinkByUid(uid);\n        const surveyLink = surveyLinkResult.data;\n        if (!surveyLink) {\n            return {\n                props: {\n                    projectId: projectId,\n                    uid: uid,\n                    project: null,\n                    surveyLink: null,\n                    isValid: false,\n                    errorMessage: \"Survey link not found\"\n                }\n            };\n        }\n        // Check if link belongs to the project\n        if (surveyLink.projectId !== projectId) {\n            return {\n                props: {\n                    projectId: projectId,\n                    uid: uid,\n                    project: null,\n                    surveyLink: null,\n                    isValid: false,\n                    errorMessage: \"Invalid project/link combination\"\n                }\n            };\n        }\n        // Get the project\n        const projectResult = await amplifyServerService.getProject(surveyLink.projectId);\n        const project = projectResult.data;\n        if (!project) {\n            return {\n                props: {\n                    projectId: projectId,\n                    uid: uid,\n                    project: null,\n                    surveyLink: null,\n                    isValid: false,\n                    errorMessage: \"Project not found\"\n                }\n            };\n        }\n        return {\n            props: {\n                projectId: projectId,\n                uid: uid,\n                project: {\n                    name: project.name,\n                    surveyUrl: project.surveyUrl\n                },\n                surveyLink: {\n                    status: surveyLink.status,\n                    vendorId: surveyLink.vendorId || null\n                },\n                isValid: true\n            }\n        };\n    } catch (error) {\n        console.error(\"Error in getServerSideProps:\", error);\n        return {\n            props: {\n                projectId: projectId,\n                uid: uid,\n                project: null,\n                surveyLink: null,\n                isValid: false,\n                errorMessage: \"Failed to load survey data\"\n            }\n        };\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUk7UUFFbEMsSUFBSSxDQUFDM0IsU0FBUztZQUNaLE9BQU87Z0JBQ0w0QixPQUFPO29CQUNMOUIsV0FBV0E7b0JBQ1hDLEtBQUtBO29CQUNMQyxTQUFTO29CQUNUQyxZQUFZO29CQUNaQyxTQUFTO29CQUNUQyxjQUFjO2dCQUNoQjtZQUNGO1FBQ0Y7UUFFQSxPQUFPO1lBQ0x5QixPQUFPO2dCQUNMOUIsV0FBV0E7Z0JBQ1hDLEtBQUtBO2dCQUNMQyxTQUFTO29CQUNQaUIsTUFBTWpCLFFBQVFpQixJQUFJO29CQUNsQkMsV0FBV2xCLFFBQVFrQixTQUFTO2dCQUM5QjtnQkFDQWpCLFlBQVk7b0JBQ1ZlLFFBQVFmLFdBQVdlLE1BQU07b0JBQ3pCRyxVQUFVbEIsV0FBV2tCLFFBQVEsSUFBSTtnQkFDbkM7Z0JBQ0FqQixTQUFTO1lBQ1g7UUFDRjtJQUVGLEVBQUUsT0FBT0csT0FBTztRQUNkMEIsUUFBUTFCLEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE9BQU87WUFDTHVCLE9BQU87Z0JBQ0w5QixXQUFXQTtnQkFDWEMsS0FBS0E7Z0JBQ0xDLFNBQVM7Z0JBQ1RDLFlBQVk7Z0JBQ1pDLFNBQVM7Z0JBQ1RDLGNBQWM7WUFDaEI7UUFDRjtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cnZleS1saW5rLXdyYXBwZXIvLi9zcmMvcGFnZXMvcy9bcHJvamVjdElkXS9bdWlkXS50c3g/ZTI1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHsgR2V0U2VydmVyU2lkZVByb3BzIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgU3VydmV5RmxvdyBmcm9tICdAL2NvbXBvbmVudHMvU3VydmV5Rmxvdyc7XG5pbXBvcnQgeyBnZXRBbXBsaWZ5U2VydmVyU2VydmljZSB9IGZyb20gJ0AvbGliL2FtcGxpZnktc2VydmVyLXNlcnZpY2UnO1xuXG4vLyBUeXBlc1xuaW50ZXJmYWNlIFF1ZXN0aW9uIHtcbiAgaWQ6IHN0cmluZztcbiAgdGV4dDogc3RyaW5nO1xuICBvcHRpb25zOiBzdHJpbmdbXTtcbn1cblxuaW50ZXJmYWNlIFBhZ2VQcm9wcyB7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICB1aWQ6IHN0cmluZztcbiAgcHJvamVjdDoge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBzdXJ2ZXlVcmw6IHN0cmluZztcbiAgfSB8IG51bGw7XG4gIHN1cnZleUxpbms6IHtcbiAgICBzdGF0dXM6IHN0cmluZztcbiAgICB2ZW5kb3JJZD86IHN0cmluZyB8IG51bGw7XG4gIH0gfCBudWxsO1xuICBpc1ZhbGlkOiBib29sZWFuO1xuICBlcnJvck1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN1cnZleUxhbmRpbmdQYWdlKHsgXG4gIHByb2plY3RJZCwgXG4gIHVpZCwgXG4gIHByb2plY3QsXG4gIHN1cnZleUxpbmssXG4gIGlzVmFsaWQsIFxuICBlcnJvck1lc3NhZ2UgXG59OiBQYWdlUHJvcHMpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4oZXJyb3JNZXNzYWdlIHx8IG51bGwpO1xuICBcbiAgLy8gSWYgbGluayBpcyBpbnZhbGlkLCBzaG93IGFuIGVycm9yXG4gIGlmICghaXNWYWxpZCB8fCAhcHJvamVjdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LW1kIHctZnVsbCBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTZcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtcmVkLTYwMCBtYi00XCI+SW52YWxpZCBTdXJ2ZXkgTGluazwvaDE+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBtYi02XCI+XG4gICAgICAgICAgICB7ZXJyb3JNZXNzYWdlIHx8IFwiVGhpcyBzdXJ2ZXkgbGluayBpcyBpbnZhbGlkIG9yIGhhcyBleHBpcmVkLlwifVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2h0dHBzOi8vcHJvdGVnZXJlc2VhcmNoLmNvbSd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgaG92ZXI6YmctYmx1ZS03MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgUmV0dXJuIHRvIFByb3RlZ2VSZXNlYXJjaFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIElmIHN1cnZleSB3YXMgYWxyZWFkeSBjb21wbGV0ZWQsIHNob3cgdGhhdCBtZXNzYWdlXG4gIGlmIChzdXJ2ZXlMaW5rPy5zdGF0dXMgPT09ICdDT01QTEVURUQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctbWQgdy1mdWxsIGJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnIHAtNlwiPlxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmVlbi02MDAgbWItNFwiPlN1cnZleSBBbHJlYWR5IENvbXBsZXRlZDwvaDE+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBtYi02XCI+XG4gICAgICAgICAgICBZb3UgaGF2ZSBhbHJlYWR5IGNvbXBsZXRlZCB0aGlzIHN1cnZleS4gVGhhbmsgeW91IGZvciB5b3VyIHBhcnRpY2lwYXRpb24hXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnaHR0cHM6Ly9wcm90ZWdlcmVzZWFyY2guY29tJ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBSZXR1cm4gdG8gUHJvdGVnZVJlc2VhcmNoXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gVXNlIG91ciBTdXJ2ZXlGbG93IGNvbXBvbmVudCB0byBoYW5kbGUgZXZlcnl0aGluZ1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktMTAwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBteC1hdXRvIHB5LTggcHgtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLThcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDBcIj57cHJvamVjdC5uYW1lfTwvaDE+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTIgbWQ6cC02XCI+XG4gICAgICAgICAgPFN1cnZleUZsb3cgXG4gICAgICAgICAgICBwcm9qZWN0SWQ9e3Byb2plY3RJZH1cbiAgICAgICAgICAgIHVpZD17dWlkfVxuICAgICAgICAgICAgc3VydmV5VXJsPXtwcm9qZWN0LnN1cnZleVVybH1cbiAgICAgICAgICAgIHZlbmRvcklkPXtzdXJ2ZXlMaW5rPy52ZW5kb3JJZCB8fCB1bmRlZmluZWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wczogR2V0U2VydmVyU2lkZVByb3BzID0gYXN5bmMgKGNvbnRleHQpID0+IHtcbiAgY29uc3QgeyBwcm9qZWN0SWQsIHVpZCB9ID0gY29udGV4dC5wYXJhbXMhO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBhbXBsaWZ5U2VydmVyU2VydmljZSA9IGdldEFtcGxpZnlTZXJ2ZXJTZXJ2aWNlKCk7XG4gICAgXG4gICAgLy8gR2V0IHRoZSBzdXJ2ZXkgbGlua1xuICAgIGNvbnN0IHN1cnZleUxpbmtSZXN1bHQgPSBhd2FpdCBhbXBsaWZ5U2VydmVyU2VydmljZS5nZXRTdXJ2ZXlMaW5rQnlVaWQodWlkIGFzIHN0cmluZyk7XG4gICAgY29uc3Qgc3VydmV5TGluayA9IHN1cnZleUxpbmtSZXN1bHQuZGF0YTtcbiAgICBcbiAgICBpZiAoIXN1cnZleUxpbmspIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWQgYXMgc3RyaW5nLFxuICAgICAgICAgIHVpZDogdWlkIGFzIHN0cmluZyxcbiAgICAgICAgICBwcm9qZWN0OiBudWxsLFxuICAgICAgICAgIHN1cnZleUxpbms6IG51bGwsXG4gICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgZXJyb3JNZXNzYWdlOiAnU3VydmV5IGxpbmsgbm90IGZvdW5kJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiBsaW5rIGJlbG9uZ3MgdG8gdGhlIHByb2plY3RcbiAgICBpZiAoc3VydmV5TGluay5wcm9qZWN0SWQgIT09IHByb2plY3RJZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCBhcyBzdHJpbmcsXG4gICAgICAgICAgdWlkOiB1aWQgYXMgc3RyaW5nLFxuICAgICAgICAgIHByb2plY3Q6IG51bGwsXG4gICAgICAgICAgc3VydmV5TGluazogbnVsbCxcbiAgICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdJbnZhbGlkIHByb2plY3QvbGluayBjb21iaW5hdGlvbidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgLy8gR2V0IHRoZSBwcm9qZWN0XG4gICAgY29uc3QgcHJvamVjdFJlc3VsdCA9IGF3YWl0IGFtcGxpZnlTZXJ2ZXJTZXJ2aWNlLmdldFByb2plY3Qoc3VydmV5TGluay5wcm9qZWN0SWQpO1xuICAgIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0UmVzdWx0LmRhdGE7XG4gICAgXG4gICAgaWYgKCFwcm9qZWN0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkIGFzIHN0cmluZyxcbiAgICAgICAgICB1aWQ6IHVpZCBhcyBzdHJpbmcsXG4gICAgICAgICAgcHJvamVjdDogbnVsbCxcbiAgICAgICAgICBzdXJ2ZXlMaW5rOiBudWxsLFxuICAgICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICAgIGVycm9yTWVzc2FnZTogJ1Byb2plY3Qgbm90IGZvdW5kJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWQgYXMgc3RyaW5nLFxuICAgICAgICB1aWQ6IHVpZCBhcyBzdHJpbmcsXG4gICAgICAgIHByb2plY3Q6IHtcbiAgICAgICAgICBuYW1lOiBwcm9qZWN0Lm5hbWUsXG4gICAgICAgICAgc3VydmV5VXJsOiBwcm9qZWN0LnN1cnZleVVybFxuICAgICAgICB9LFxuICAgICAgICBzdXJ2ZXlMaW5rOiB7XG4gICAgICAgICAgc3RhdHVzOiBzdXJ2ZXlMaW5rLnN0YXR1cyxcbiAgICAgICAgICB2ZW5kb3JJZDogc3VydmV5TGluay52ZW5kb3JJZCB8fCBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGlzVmFsaWQ6IHRydWVcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGdldFNlcnZlclNpZGVQcm9wczonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIHByb2plY3RJZDogcHJvamVjdElkIGFzIHN0cmluZyxcbiAgICAgICAgdWlkOiB1aWQgYXMgc3RyaW5nLFxuICAgICAgICBwcm9qZWN0OiBudWxsLFxuICAgICAgICBzdXJ2ZXlMaW5rOiBudWxsLFxuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiAnRmFpbGVkIHRvIGxvYWQgc3VydmV5IGRhdGEnXG4gICAgICB9XG4gICAgfTtcbiAgfVxufTsiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VSb3V0ZXIiLCJTdXJ2ZXlGbG93IiwiZ2V0QW1wbGlmeVNlcnZlclNlcnZpY2UiLCJTdXJ2ZXlMYW5kaW5nUGFnZSIsInByb2plY3RJZCIsInVpZCIsInByb2plY3QiLCJzdXJ2ZXlMaW5rIiwiaXNWYWxpZCIsImVycm9yTWVzc2FnZSIsInJvdXRlciIsImVycm9yIiwic2V0RXJyb3IiLCJkaXYiLCJjbGFzc05hbWUiLCJoMSIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwic3RhdHVzIiwibmFtZSIsInN1cnZleVVybCIsInZlbmRvcklkIiwidW5kZWZpbmVkIiwiZ2V0U2VydmVyU2lkZVByb3BzIiwiY29udGV4dCIsInBhcmFtcyIsImFtcGxpZnlTZXJ2ZXJTZXJ2aWNlIiwic3VydmV5TGlua1Jlc3VsdCIsImdldFN1cnZleUxpbmtCeVVpZCIsImRhdGEiLCJwcm9wcyIsInByb2plY3RSZXN1bHQiLCJnZXRQcm9qZWN0IiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/s/[projectId]/[uid].tsx\n");

/***/ }),

/***/ "./src/styles/globals.css":
/*!********************************!*\
  !*** ./src/styles/globals.css ***!
  \********************************/
/***/ (() => {



/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "next/head":
/*!****************************!*\
  !*** external "next/head" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/head");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "aws-amplify":
/*!******************************!*\
  !*** external "aws-amplify" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = import("aws-amplify");;

/***/ }),

/***/ "aws-amplify/api":
/*!**********************************!*\
  !*** external "aws-amplify/api" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = import("aws-amplify/api");;

/***/ }),

/***/ "aws-amplify/auth":
/*!***********************************!*\
  !*** external "aws-amplify/auth" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = import("aws-amplify/auth");;

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = import("axios");;

/***/ }),

/***/ "./amplify_outputs.json":
/*!******************************!*\
  !*** ./amplify_outputs.json ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"auth":{"user_pool_id":"us-east-1_Gh00T12dW","aws_region":"us-east-1","user_pool_client_id":"5e5a5drp00jd43tr7ph1ceg412","identity_pool_id":"us-east-1:a0b02f73-93a3-4b52-b1cb-eaa306375a33","mfa_methods":["SMS"],"standard_required_attributes":["email"],"username_attributes":["email"],"user_verification_types":["email"],"groups":[],"mfa_configuration":"OPTIONAL","password_policy":{"min_length":8,"require_lowercase":true,"require_numbers":true,"require_symbols":true,"require_uppercase":true},"unauthenticated_identities_enabled":true},"data":{"url":"https://vth6pntotrhvfpxo2gwn3kzqry.appsync-api.us-east-1.amazonaws.com/graphql","aws_region":"us-east-1","api_key":"da2-ee26yqskvzfpjpquwbi53shbvu","default_authorization_type":"AWS_IAM","authorization_types":["API_KEY","AMAZON_COGNITO_USER_POOLS"],"model_introspection":{"version":1,"models":{"Project":{"name":"Project","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"description":{"name":"description","isArray":false,"type":"String","isRequired":false,"attributes":[]},"status":{"name":"status","isArray":false,"type":{"enum":"ProjectStatus"},"isRequired":false,"attributes":[]},"targetCompletions":{"name":"targetCompletions","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"currentCompletions":{"name":"currentCompletions","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"surveyUrl":{"name":"surveyUrl","isArray":false,"type":"String","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"settings":{"name":"settings","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]}},"syncable":true,"pluralName":"Projects","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"Question":{"name":"Question","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"text":{"name":"text","isArray":false,"type":"String","isRequired":true,"attributes":[]},"type":{"name":"type","isArray":false,"type":{"enum":"QuestionType"},"isRequired":false,"attributes":[]},"options":{"name":"options","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"sequence":{"name":"sequence","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"isRequired":{"name":"isRequired","isArray":false,"type":"Boolean","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"Questions","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"SurveyLink":{"name":"SurveyLink","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"uid":{"name":"uid","isArray":false,"type":"String","isRequired":true,"attributes":[]},"status":{"name":"status","isArray":false,"type":{"enum":"SurveyLinkStatus"},"isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"clickedAt":{"name":"clickedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"completedAt":{"name":"completedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"ipAddress":{"name":"ipAddress","isArray":false,"type":"String","isRequired":false,"attributes":[]},"userAgent":{"name":"userAgent","isArray":false,"type":"String","isRequired":false,"attributes":[]},"geoData":{"name":"geoData","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"metadata":{"name":"metadata","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"vendorId":{"name":"vendorId","isArray":false,"type":"ID","isRequired":false,"attributes":[]}},"syncable":true,"pluralName":"SurveyLinks","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]},{"allow":"public","provider":"iam","operations":["read","update"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"Vendor":{"name":"Vendor","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"contactName":{"name":"contactName","isArray":false,"type":"String","isRequired":false,"attributes":[]},"contactEmail":{"name":"contactEmail","isArray":false,"type":"String","isRequired":false,"attributes":[]},"settings":{"name":"settings","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"Vendors","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"ProjectVendor":{"name":"ProjectVendor","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"vendorId":{"name":"vendorId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"quota":{"name":"quota","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"currentCount":{"name":"currentCount","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"ProjectVendors","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}}},"enums":{"ProjectStatus":{"name":"ProjectStatus","values":["ACTIVE","PAUSED","COMPLETED"]},"QuestionType":{"name":"QuestionType","values":["MULTIPLE_CHOICE","TEXT","COUNTRY","SCALE"]},"SurveyLinkStatus":{"name":"SurveyLinkStatus","values":["UNUSED","CLICKED","COMPLETED","DISQUALIFIED","QUOTA_FULL"]}},"nonModels":{}}},"version":"1.3"}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fs%2F%5BprojectId%5D%2F%5Buid%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fs%2F%5BprojectId%5D%2F%5Buid%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();