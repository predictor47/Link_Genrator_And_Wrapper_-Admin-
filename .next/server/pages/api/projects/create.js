"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/projects/create";
exports.ids = ["pages/api/projects/create"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "aws-amplify":
/*!******************************!*\
  !*** external "aws-amplify" ***!
  \******************************/
/***/ ((module) => {

module.exports = import("aws-amplify");;

/***/ }),

/***/ "aws-amplify/api":
/*!**********************************!*\
  !*** external "aws-amplify/api" ***!
  \**********************************/
/***/ ((module) => {

module.exports = import("aws-amplify/api");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprojects%2Fcreate&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cprojects%5Ccreate.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprojects%2Fcreate&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cprojects%5Ccreate.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_projects_create_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\projects\\create.ts */ \"(api)/./src/pages/api/projects/create.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_projects_create_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_projects_create_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_projects_create_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_projects_create_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/projects/create\",\n        pathname: \"/api/projects/create\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_projects_create_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnByb2plY3RzJTJGY3JlYXRlJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTVDcGFnZXMlNUNhcGklNUNwcm9qZWN0cyU1Q2NyZWF0ZS50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNtRTtBQUNuRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsOERBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDhEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cnZleS1saW5rLXdyYXBwZXIvPzBjZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyY1xcXFxwYWdlc1xcXFxhcGlcXFxccHJvamVjdHNcXFxcY3JlYXRlLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHJvamVjdHMvY3JlYXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvamVjdHMvY3JlYXRlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprojects%2Fcreate&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cprojects%5Ccreate.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/amplify-config.ts":
/*!***********************************!*\
  !*** ./src/lib/amplify-config.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ADMIN_DOMAIN: () => (/* binding */ ADMIN_DOMAIN),\n/* harmony export */   MAIN_DOMAIN: () => (/* binding */ MAIN_DOMAIN),\n/* harmony export */   amplifyConfig: () => (/* binding */ amplifyConfig),\n/* harmony export */   configureAmplify: () => (/* binding */ configureAmplify)\n/* harmony export */ });\n/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-amplify */ \"aws-amplify\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([aws_amplify__WEBPACK_IMPORTED_MODULE_0__]);\naws_amplify__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nlet configurationDone = false;\n// Domain configuration\nconst MAIN_DOMAIN = \"protegeresearchsurvey.com\" || 0;\nconst ADMIN_DOMAIN = \"admin.protegeresearchsurvey.com\" || 0;\n// Explicitly set Cognito User Pool ID\nconst COGNITO_USER_POOL_ID = \"us-east-1_QIwwMdokt\";\n/**\r\n * Configure Amplify with the right settings\r\n */ function configureAmplify() {\n    if (configurationDone) {\n        return; // Avoid multiple configurations\n    }\n    let amplifyOutputs = null;\n    // For server-side code\n    if (true) {\n        try {\n            // Use dynamic imports for Node.js-only modules\n            const fs = __webpack_require__(/*! fs */ \"fs\");\n            const path = __webpack_require__(/*! path */ \"path\");\n            const possiblePaths = [\n                path.join(process.cwd(), \"amplify_outputs.json\"),\n                path.join(process.cwd(), \".amplify\", \"amplify_outputs.json\"),\n                path.join(process.cwd(), \"src\", \"amplify_outputs.json\")\n            ];\n            for (const possiblePath of possiblePaths){\n                if (fs.existsSync(possiblePath)) {\n                    const outputsContent = fs.readFileSync(possiblePath, \"utf8\");\n                    amplifyOutputs = JSON.parse(outputsContent);\n                    break;\n                }\n            }\n        } catch (error) {\n            console.warn(\"Failed to load amplify_outputs.json:\", error);\n        }\n    }\n    // If no outputs file was found or in browser context, use environment variables\n    // but prioritize our explicit Cognito User Pool ID\n    if (!amplifyOutputs) {\n        console.log(\"Using environment variables for Amplify configuration\");\n        amplifyOutputs = {\n            auth: {\n                userPoolId: COGNITO_USER_POOL_ID || \"us-east-1_QIwwMdokt\",\n                userPoolClientId: \"2nv3n1cco1867elirafvr6uu1e\",\n                identityPoolId: \"us-east-1:9aa6cd40-8abf-4fce-ba81-22c7ede03591\",\n                region: \"us-east-1\"\n            },\n            api: {\n                endpoint: \"https://235kq6cpbbdyfizalvutob7vh4.appsync-api.us-east-1.amazonaws.com/graphql\",\n                region: \"us-east-1\" || 0\n            }\n        };\n    } else {\n        // Ensure the User Pool ID is set even if we found an outputs file\n        amplifyOutputs.auth = {\n            ...amplifyOutputs.auth,\n            userPoolId: COGNITO_USER_POOL_ID || amplifyOutputs.auth?.userPoolId\n        };\n    }\n    // Get the region from outputs or environment variables\n    const region = \"us-east-1\"; // Hardcoded to match the User Pool ID region\n    // Configure Amplify with the retrieved settings\n    try {\n        const config = {\n            // Auth Configuration\n            Auth: {\n                Cognito: {\n                    userPoolId: COGNITO_USER_POOL_ID || amplifyOutputs.auth?.userPoolId || \"\",\n                    userPoolClientId: amplifyOutputs.auth?.userPoolClientId || \"\",\n                    identityPoolId: amplifyOutputs.auth?.identityPoolId || \"\"\n                }\n            },\n            // API Configuration for GraphQL\n            API: {\n                GraphQL: {\n                    endpoint: amplifyOutputs.api?.endpoint || \"\",\n                    region: amplifyOutputs.api?.region || region,\n                    defaultAuthMode: \"userPool\"\n                }\n            }\n        };\n        // Add region at root level for Amplify v6\n        config.region = region;\n        // Apply configuration\n        aws_amplify__WEBPACK_IMPORTED_MODULE_0__.Amplify.configure(config);\n        configurationDone = true;\n        console.log(\"Amplify configured with User Pool ID:\", COGNITO_USER_POOL_ID);\n    } catch (error) {\n        console.error(\"Error configuring Amplify:\", error);\n    }\n}\n// Export the raw Amplify config for use elsewhere\nconst amplifyConfig = {\n    Auth: {\n        Cognito: {\n            userPoolId: COGNITO_USER_POOL_ID || \"us-east-1_QIwwMdokt\" || 0,\n            userPoolClientId: \"2nv3n1cco1867elirafvr6uu1e\" || 0,\n            identityPoolId: \"us-east-1:9aa6cd40-8abf-4fce-ba81-22c7ede03591\" || 0\n        }\n    },\n    API: {\n        GraphQL: {\n            endpoint: \"https://235kq6cpbbdyfizalvutob7vh4.appsync-api.us-east-1.amazonaws.com/graphql\" || 0,\n            region: \"us-east-1\" || 0,\n            defaultAuthMode: \"userPool\"\n        }\n    },\n    // Domain configuration\n    domains: {\n        main: MAIN_DOMAIN,\n        admin: ADMIN_DOMAIN\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQzNDLE1BQU11QixnQkFBZ0I7SUFDM0JOLE1BQU07UUFDSkMsU0FBUztZQUNQYixZQUFZcEIsd0JBQXdCTCxxQkFBeUMsSUFBSTtZQUNqRjJCLGtCQUFrQjNCLDRCQUFnRCxJQUFJO1lBQ3RFNkIsZ0JBQWdCN0IsZ0RBQTZDLElBQUk7UUFDbkU7SUFDRjtJQUNBdUMsS0FBSztRQUNIQyxTQUFTO1lBQ1BQLFVBQVVqQyxnRkFBb0MsSUFBSTtZQUNsRCtCLFFBQVEvQixXQUFrQyxJQUFJO1lBQzlDeUMsaUJBQWlCO1FBQ25CO0lBQ0Y7SUFDQSx1QkFBdUI7SUFDdkJHLFNBQVM7UUFDUEMsTUFBTTlDO1FBQ04rQyxPQUFPM0M7SUFDVDtBQUNGLEVBQVMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXJ2ZXktbGluay13cmFwcGVyLy4vc3JjL2xpYi9hbXBsaWZ5LWNvbmZpZy50cz80YWI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICdhd3MtYW1wbGlmeSc7XHJcblxyXG5sZXQgY29uZmlndXJhdGlvbkRvbmUgPSBmYWxzZTtcclxuXHJcbi8vIERvbWFpbiBjb25maWd1cmF0aW9uXHJcbmV4cG9ydCBjb25zdCBNQUlOX0RPTUFJTiA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0RPTUFJTiB8fCAncHJvdGVnZXJlc2VhcmNoc3VydmV5LmNvbSc7XHJcbmV4cG9ydCBjb25zdCBBRE1JTl9ET01BSU4gPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BRE1JTl9ET01BSU4gfHwgYGFkbWluLiR7TUFJTl9ET01BSU59YDtcclxuXHJcbi8vIEV4cGxpY2l0bHkgc2V0IENvZ25pdG8gVXNlciBQb29sIElEXHJcbmNvbnN0IENPR05JVE9fVVNFUl9QT09MX0lEID0gJ3VzLWVhc3QtMV9RSXd3TWRva3QnO1xyXG5cclxuLyoqXHJcbiAqIENvbmZpZ3VyZSBBbXBsaWZ5IHdpdGggdGhlIHJpZ2h0IHNldHRpbmdzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlQW1wbGlmeSgpIHtcclxuICBpZiAoY29uZmlndXJhdGlvbkRvbmUpIHtcclxuICAgIHJldHVybjsgLy8gQXZvaWQgbXVsdGlwbGUgY29uZmlndXJhdGlvbnNcclxuICB9XHJcblxyXG4gIGxldCBhbXBsaWZ5T3V0cHV0czogYW55ID0gbnVsbDtcclxuXHJcbiAgLy8gRm9yIHNlcnZlci1zaWRlIGNvZGVcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFVzZSBkeW5hbWljIGltcG9ydHMgZm9yIE5vZGUuanMtb25seSBtb2R1bGVzXHJcbiAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICAgICAgY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHBvc3NpYmxlUGF0aHMgPSBbXHJcbiAgICAgICAgcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdhbXBsaWZ5X291dHB1dHMuanNvbicpLFxyXG4gICAgICAgIHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnLmFtcGxpZnknLCAnYW1wbGlmeV9vdXRwdXRzLmpzb24nKSxcclxuICAgICAgICBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3NyYycsICdhbXBsaWZ5X291dHB1dHMuanNvbicpXHJcbiAgICAgIF07XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGNvbnN0IHBvc3NpYmxlUGF0aCBvZiBwb3NzaWJsZVBhdGhzKSB7XHJcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMocG9zc2libGVQYXRoKSkge1xyXG4gICAgICAgICAgY29uc3Qgb3V0cHV0c0NvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMocG9zc2libGVQYXRoLCAndXRmOCcpO1xyXG4gICAgICAgICAgYW1wbGlmeU91dHB1dHMgPSBKU09OLnBhcnNlKG91dHB1dHNDb250ZW50KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gbG9hZCBhbXBsaWZ5X291dHB1dHMuanNvbjonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIElmIG5vIG91dHB1dHMgZmlsZSB3YXMgZm91bmQgb3IgaW4gYnJvd3NlciBjb250ZXh0LCB1c2UgZW52aXJvbm1lbnQgdmFyaWFibGVzXHJcbiAgLy8gYnV0IHByaW9yaXRpemUgb3VyIGV4cGxpY2l0IENvZ25pdG8gVXNlciBQb29sIElEXHJcbiAgaWYgKCFhbXBsaWZ5T3V0cHV0cykge1xyXG4gICAgY29uc29sZS5sb2coJ1VzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlcyBmb3IgQW1wbGlmeSBjb25maWd1cmF0aW9uJyk7XHJcbiAgICBhbXBsaWZ5T3V0cHV0cyA9IHtcclxuICAgICAgYXV0aDoge1xyXG4gICAgICAgIHVzZXJQb29sSWQ6IENPR05JVE9fVVNFUl9QT09MX0lEIHx8IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FVVEhfVVNFUl9QT09MX0lELFxyXG4gICAgICAgIHVzZXJQb29sQ2xpZW50SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FVVEhfVVNFUl9QT09MX0NMSUVOVF9JRCxcclxuICAgICAgICBpZGVudGl0eVBvb2xJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVVUSF9JREVOVElUWV9QT09MX0lELFxyXG4gICAgICAgIHJlZ2lvbjogJ3VzLWVhc3QtMScsIC8vIERlcml2ZWQgZnJvbSB0aGUgVXNlciBQb29sIElEXHJcbiAgICAgIH0sXHJcbiAgICAgIGFwaToge1xyXG4gICAgICAgIGVuZHBvaW50OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfRU5EUE9JTlQsXHJcbiAgICAgICAgcmVnaW9uOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfUkVHSU9OIHx8ICd1cy1lYXN0LTEnLFxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBFbnN1cmUgdGhlIFVzZXIgUG9vbCBJRCBpcyBzZXQgZXZlbiBpZiB3ZSBmb3VuZCBhbiBvdXRwdXRzIGZpbGVcclxuICAgIGFtcGxpZnlPdXRwdXRzLmF1dGggPSB7XHJcbiAgICAgIC4uLmFtcGxpZnlPdXRwdXRzLmF1dGgsXHJcbiAgICAgIHVzZXJQb29sSWQ6IENPR05JVE9fVVNFUl9QT09MX0lEIHx8IGFtcGxpZnlPdXRwdXRzLmF1dGg/LnVzZXJQb29sSWRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBHZXQgdGhlIHJlZ2lvbiBmcm9tIG91dHB1dHMgb3IgZW52aXJvbm1lbnQgdmFyaWFibGVzXHJcbiAgY29uc3QgcmVnaW9uID0gJ3VzLWVhc3QtMSc7IC8vIEhhcmRjb2RlZCB0byBtYXRjaCB0aGUgVXNlciBQb29sIElEIHJlZ2lvblxyXG5cclxuICAvLyBDb25maWd1cmUgQW1wbGlmeSB3aXRoIHRoZSByZXRyaWV2ZWQgc2V0dGluZ3NcclxuICB0cnkge1xyXG4gICAgY29uc3QgY29uZmlnOiBhbnkgPSB7XHJcbiAgICAgIC8vIEF1dGggQ29uZmlndXJhdGlvblxyXG4gICAgICBBdXRoOiB7XHJcbiAgICAgICAgQ29nbml0bzoge1xyXG4gICAgICAgICAgdXNlclBvb2xJZDogQ09HTklUT19VU0VSX1BPT0xfSUQgfHwgYW1wbGlmeU91dHB1dHMuYXV0aD8udXNlclBvb2xJZCB8fCAnJyxcclxuICAgICAgICAgIHVzZXJQb29sQ2xpZW50SWQ6IGFtcGxpZnlPdXRwdXRzLmF1dGg/LnVzZXJQb29sQ2xpZW50SWQgfHwgJycsXHJcbiAgICAgICAgICBpZGVudGl0eVBvb2xJZDogYW1wbGlmeU91dHB1dHMuYXV0aD8uaWRlbnRpdHlQb29sSWQgfHwgJycsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAvLyBBUEkgQ29uZmlndXJhdGlvbiBmb3IgR3JhcGhRTFxyXG4gICAgICBBUEk6IHtcclxuICAgICAgICBHcmFwaFFMOiB7XHJcbiAgICAgICAgICBlbmRwb2ludDogYW1wbGlmeU91dHB1dHMuYXBpPy5lbmRwb2ludCB8fCAnJyxcclxuICAgICAgICAgIHJlZ2lvbjogYW1wbGlmeU91dHB1dHMuYXBpPy5yZWdpb24gfHwgcmVnaW9uLFxyXG4gICAgICAgICAgZGVmYXVsdEF1dGhNb2RlOiAndXNlclBvb2wnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBBZGQgcmVnaW9uIGF0IHJvb3QgbGV2ZWwgZm9yIEFtcGxpZnkgdjZcclxuICAgIGNvbmZpZy5yZWdpb24gPSByZWdpb247XHJcbiAgICBcclxuICAgIC8vIEFwcGx5IGNvbmZpZ3VyYXRpb25cclxuICAgIEFtcGxpZnkuY29uZmlndXJlKGNvbmZpZyk7XHJcbiAgICBcclxuICAgIGNvbmZpZ3VyYXRpb25Eb25lID0gdHJ1ZTtcclxuICAgIGNvbnNvbGUubG9nKCdBbXBsaWZ5IGNvbmZpZ3VyZWQgd2l0aCBVc2VyIFBvb2wgSUQ6JywgQ09HTklUT19VU0VSX1BPT0xfSUQpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25maWd1cmluZyBBbXBsaWZ5OicsIGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEV4cG9ydCB0aGUgcmF3IEFtcGxpZnkgY29uZmlnIGZvciB1c2UgZWxzZXdoZXJlXHJcbmV4cG9ydCBjb25zdCBhbXBsaWZ5Q29uZmlnID0ge1xyXG4gIEF1dGg6IHtcclxuICAgIENvZ25pdG86IHtcclxuICAgICAgdXNlclBvb2xJZDogQ09HTklUT19VU0VSX1BPT0xfSUQgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVVUSF9VU0VSX1BPT0xfSUQgfHwgJycsXHJcbiAgICAgIHVzZXJQb29sQ2xpZW50SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FVVEhfVVNFUl9QT09MX0NMSUVOVF9JRCB8fCAnJyxcclxuICAgICAgaWRlbnRpdHlQb29sSWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FVVEhfSURFTlRJVFlfUE9PTF9JRCB8fCAnJyxcclxuICAgIH1cclxuICB9LFxyXG4gIEFQSToge1xyXG4gICAgR3JhcGhRTDoge1xyXG4gICAgICBlbmRwb2ludDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0VORFBPSU5UIHx8ICcnLFxyXG4gICAgICByZWdpb246IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9SRUdJT04gfHwgJ3VzLWVhc3QtMScsXHJcbiAgICAgIGRlZmF1bHRBdXRoTW9kZTogJ3VzZXJQb29sJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8gRG9tYWluIGNvbmZpZ3VyYXRpb25cclxuICBkb21haW5zOiB7XHJcbiAgICBtYWluOiBNQUlOX0RPTUFJTixcclxuICAgIGFkbWluOiBBRE1JTl9ET01BSU5cclxuICB9XHJcbn0gYXMgYW55OyJdLCJuYW1lcyI6WyJBbXBsaWZ5IiwiY29uZmlndXJhdGlvbkRvbmUiLCJNQUlOX0RPTUFJTiIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19ET01BSU4iLCJBRE1JTl9ET01BSU4iLCJORVhUX1BVQkxJQ19BRE1JTl9ET01BSU4iLCJDT0dOSVRPX1VTRVJfUE9PTF9JRCIsImNvbmZpZ3VyZUFtcGxpZnkiLCJhbXBsaWZ5T3V0cHV0cyIsImZzIiwicmVxdWlyZSIsInBhdGgiLCJwb3NzaWJsZVBhdGhzIiwiam9pbiIsImN3ZCIsInBvc3NpYmxlUGF0aCIsImV4aXN0c1N5bmMiLCJvdXRwdXRzQ29udGVudCIsInJlYWRGaWxlU3luYyIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJsb2ciLCJhdXRoIiwidXNlclBvb2xJZCIsIk5FWFRfUFVCTElDX0FVVEhfVVNFUl9QT09MX0lEIiwidXNlclBvb2xDbGllbnRJZCIsIk5FWFRfUFVCTElDX0FVVEhfVVNFUl9QT09MX0NMSUVOVF9JRCIsImlkZW50aXR5UG9vbElkIiwiTkVYVF9QVUJMSUNfQVVUSF9JREVOVElUWV9QT09MX0lEIiwicmVnaW9uIiwiYXBpIiwiZW5kcG9pbnQiLCJORVhUX1BVQkxJQ19BUElfRU5EUE9JTlQiLCJORVhUX1BVQkxJQ19BUElfUkVHSU9OIiwiY29uZmlnIiwiQXV0aCIsIkNvZ25pdG8iLCJBUEkiLCJHcmFwaFFMIiwiZGVmYXVsdEF1dGhNb2RlIiwiY29uZmlndXJlIiwiYW1wbGlmeUNvbmZpZyIsImRvbWFpbnMiLCJtYWluIiwiYWRtaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/amplify-config.ts\n");

/***/ }),

/***/ "(api)/./src/lib/amplify-data-service.ts":
/*!*****************************************!*\
  !*** ./src/lib/amplify-data-service.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   amplifyDataService: () => (/* binding */ amplifyDataService)\n/* harmony export */ });\n/* harmony import */ var aws_amplify_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-amplify/api */ \"aws-amplify/api\");\n/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aws-amplify */ \"aws-amplify\");\n/* harmony import */ var _amplify_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./amplify-config */ \"(api)/./src/lib/amplify-config.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([aws_amplify_api__WEBPACK_IMPORTED_MODULE_0__, aws_amplify__WEBPACK_IMPORTED_MODULE_1__, _amplify_config__WEBPACK_IMPORTED_MODULE_2__]);\n([aws_amplify_api__WEBPACK_IMPORTED_MODULE_0__, aws_amplify__WEBPACK_IMPORTED_MODULE_1__, _amplify_config__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Initialize Amplify with type assertion to avoid type errors\naws_amplify__WEBPACK_IMPORTED_MODULE_1__.Amplify.configure(_amplify_config__WEBPACK_IMPORTED_MODULE_2__.amplifyConfig);\n// Generate a type-safe client for data operations\nconst client = (0,aws_amplify_api__WEBPACK_IMPORTED_MODULE_0__.generateClient)();\n// Helper to safely unwrap data from Amplify responses\nconst unwrapData = (result)=>result.data;\n/**\r\n * Amplify Data Service - Replaces Prisma client with AWS Amplify data operations\r\n * This service provides CRUD operations for all models in the application\r\n */ const amplifyDataService = {\n    // Project operations\n    projects: {\n        create: async (data)=>{\n            const result = await client.models.Project.create(data);\n            return {\n                data: unwrapData(result)\n            };\n        },\n        get: async (id)=>{\n            const result = await client.models.Project.get({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        },\n        list: async (filter)=>{\n            const result = await client.models.Project.list(filter);\n            return {\n                data: result.data || []\n            };\n        },\n        update: async (id, data)=>{\n            const result = await client.models.Project.update({\n                id,\n                ...data\n            });\n            return {\n                data: unwrapData(result)\n            };\n        },\n        delete: async (id)=>{\n            const result = await client.models.Project.delete({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        },\n        getWithRelations: async (id)=>{\n            // Fix: Remove problematic selection set and handle relationships separately\n            const project = await client.models.Project.get({\n                id\n            });\n            if (project.data) {\n                // Fetch related data separately to avoid deep type instantiation\n                const surveyLinks = await client.models.SurveyLink.list({\n                    filter: {\n                        projectId: {\n                            eq: id\n                        }\n                    }\n                });\n                const vendors = await client.models.Vendor.list({\n                    filter: {\n                        projectId: {\n                            eq: id\n                        }\n                    }\n                });\n                const questions = await client.models.Question.list({\n                    filter: {\n                        projectId: {\n                            eq: id\n                        }\n                    }\n                });\n                // Combine project with its related data\n                return {\n                    data: {\n                        ...project.data,\n                        surveyLinks: surveyLinks.data || [],\n                        vendors: vendors.data || [],\n                        questions: questions.data || []\n                    }\n                };\n            }\n            return {\n                data: null\n            };\n        }\n    },\n    // SurveyLink operations\n    surveyLinks: {\n        create: async (data)=>{\n            const result = await client.models.SurveyLink.create(data);\n            return {\n                data: unwrapData(result)\n            };\n        },\n        get: async (id)=>{\n            const result = await client.models.SurveyLink.get({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        },\n        getByUid: async (uid)=>{\n            const results = await client.models.SurveyLink.list({\n                filter: {\n                    uid: {\n                        eq: uid\n                    }\n                }\n            });\n            return {\n                data: results.data && results.data.length > 0 ? results.data[0] : null\n            };\n        },\n        update: async (id, data)=>{\n            const result = await client.models.SurveyLink.update({\n                id,\n                ...data\n            });\n            return {\n                data: unwrapData(result)\n            };\n        },\n        list: async (filter)=>{\n            const result = await client.models.SurveyLink.list(filter);\n            return {\n                data: result.data || []\n            };\n        },\n        listByProject: async (projectId)=>{\n            const result = await client.models.SurveyLink.list({\n                filter: {\n                    projectId: {\n                        eq: projectId\n                    }\n                }\n            });\n            return {\n                data: result.data || []\n            };\n        },\n        delete: async (id)=>{\n            const result = await client.models.SurveyLink.delete({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        }\n    },\n    // Vendor operations\n    vendors: {\n        create: async (data)=>{\n            const result = await client.models.Vendor.create(data);\n            return {\n                data: unwrapData(result)\n            };\n        },\n        get: async (id)=>{\n            const result = await client.models.Vendor.get({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        },\n        list: async (filter)=>{\n            const result = await client.models.Vendor.list(filter);\n            return {\n                data: result.data || []\n            };\n        },\n        listByProject: async (projectId)=>{\n            const result = await client.models.Vendor.list({\n                filter: {\n                    projectId: {\n                        eq: projectId\n                    }\n                }\n            });\n            return {\n                data: result.data || []\n            };\n        },\n        update: async (id, data)=>{\n            const result = await client.models.Vendor.update({\n                id,\n                ...data\n            });\n            return {\n                data: unwrapData(result)\n            };\n        },\n        delete: async (id)=>{\n            const result = await client.models.Vendor.delete({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        }\n    },\n    // Question operations\n    questions: {\n        create: async (data)=>{\n            const result = await client.models.Question.create(data);\n            return {\n                data: unwrapData(result)\n            };\n        },\n        get: async (id)=>{\n            const result = await client.models.Question.get({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        },\n        list: async (filter)=>{\n            const result = await client.models.Question.list(filter);\n            return {\n                data: result.data || []\n            };\n        },\n        listByProject: async (projectId)=>{\n            const result = await client.models.Question.list({\n                filter: {\n                    projectId: {\n                        eq: projectId\n                    }\n                }\n            });\n            return {\n                data: result.data || []\n            };\n        },\n        update: async (id, data)=>{\n            const result = await client.models.Question.update({\n                id,\n                ...data\n            });\n            return {\n                data: unwrapData(result)\n            };\n        },\n        delete: async (id)=>{\n            const result = await client.models.Question.delete({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        }\n    },\n    // Response operations\n    responses: {\n        create: async (data)=>{\n            const result = await client.models.Response.create(data);\n            return {\n                data: unwrapData(result)\n            };\n        },\n        get: async (id)=>{\n            const result = await client.models.Response.get({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        },\n        list: async (filter)=>{\n            const result = await client.models.Response.list(filter);\n            return {\n                data: result.data || []\n            };\n        },\n        listByProject: async (projectId)=>{\n            const result = await client.models.Response.list({\n                filter: {\n                    projectId: {\n                        eq: projectId\n                    }\n                }\n            });\n            return {\n                data: result.data || []\n            };\n        },\n        listBySurveyLink: async (surveyLinkId)=>{\n            const result = await client.models.Response.list({\n                filter: {\n                    surveyLinkId: {\n                        eq: surveyLinkId\n                    }\n                }\n            });\n            return {\n                data: result.data || []\n            };\n        },\n        delete: async (id)=>{\n            const result = await client.models.Response.delete({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        }\n    },\n    // Flag operations\n    flags: {\n        create: async (data)=>{\n            const result = await client.models.Flag.create(data);\n            return {\n                data: unwrapData(result)\n            };\n        },\n        get: async (id)=>{\n            const result = await client.models.Flag.get({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        },\n        list: async (filter)=>{\n            const result = await client.models.Flag.list(filter);\n            return {\n                data: result.data || []\n            };\n        },\n        listByProject: async (projectId)=>{\n            const result = await client.models.Flag.list({\n                filter: {\n                    projectId: {\n                        eq: projectId\n                    }\n                }\n            });\n            return {\n                data: result.data || []\n            };\n        },\n        listBySurveyLink: async (surveyLinkId)=>{\n            const result = await client.models.Flag.list({\n                filter: {\n                    surveyLinkId: {\n                        eq: surveyLinkId\n                    }\n                }\n            });\n            return {\n                data: result.data || []\n            };\n        },\n        delete: async (id)=>{\n            const result = await client.models.Flag.delete({\n                id\n            });\n            return {\n                data: unwrapData(result)\n            };\n        }\n    },\n    // Helper for transactions (not directly supported in Amplify Data, using batch operations)\n    transaction: {\n        execute: async (operations)=>{\n            // Execute operations in sequence\n            const results = [];\n            for (const operation of operations){\n                const result = await operation;\n                results.push(result);\n            }\n            return results;\n        }\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2FtcGxpZnktZGF0YS1zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBaUQ7QUFDWDtBQUNXO0FBR2pELDhEQUE4RDtBQUM5REMsZ0RBQU9BLENBQUNFLFNBQVMsQ0FBQ0QsMERBQWFBO0FBRS9CLGtEQUFrRDtBQUNsRCxNQUFNRSxTQUFTSiwrREFBY0E7QUFFN0Isc0RBQXNEO0FBQ3RELE1BQU1LLGFBQWEsQ0FBSUMsU0FBeUNBLE9BQU9DLElBQUk7QUFFM0U7OztDQUdDLEdBQ00sTUFBTUMscUJBQXFCO0lBQ2hDLHFCQUFxQjtJQUNyQkMsVUFBVTtRQUNSQyxRQUFRLE9BQU9IO1lBQ2IsTUFBTUQsU0FBUyxNQUFNRixPQUFPTyxNQUFNLENBQUNDLE9BQU8sQ0FBQ0YsTUFBTSxDQUFDSDtZQUNsRCxPQUFPO2dCQUFFQSxNQUFNRixXQUFXQztZQUFRO1FBQ3BDO1FBQ0FPLEtBQUssT0FBT0M7WUFDVixNQUFNUixTQUFTLE1BQU1GLE9BQU9PLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUM7Z0JBQUVDO1lBQUc7WUFDcEQsT0FBTztnQkFBRVAsTUFBTUYsV0FBV0M7WUFBUTtRQUNwQztRQUNBUyxNQUFNLE9BQU9DO1lBQ1gsTUFBTVYsU0FBUyxNQUFNRixPQUFPTyxNQUFNLENBQUNDLE9BQU8sQ0FBQ0csSUFBSSxDQUFDQztZQUNoRCxPQUFPO2dCQUFFVCxNQUFNRCxPQUFPQyxJQUFJLElBQUksRUFBRTtZQUFDO1FBQ25DO1FBQ0FVLFFBQVEsT0FBT0gsSUFBWVA7WUFDekIsTUFBTUQsU0FBUyxNQUFNRixPQUFPTyxNQUFNLENBQUNDLE9BQU8sQ0FBQ0ssTUFBTSxDQUFDO2dCQUFFSDtnQkFBSSxHQUFHUCxJQUFJO1lBQUM7WUFDaEUsT0FBTztnQkFBRUEsTUFBTUYsV0FBV0M7WUFBUTtRQUNwQztRQUNBWSxRQUFRLE9BQU9KO1lBQ2IsTUFBTVIsU0FBUyxNQUFNRixPQUFPTyxNQUFNLENBQUNDLE9BQU8sQ0FB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WUFBRTtZQUM5RixPQUFPO2dCQUFFOUIsTUFBTUQsT0FBT0MsSUFBSSxJQUFJLEVBQUU7WUFBQztRQUNuQztRQUNBVyxRQUFRLE9BQU9KO1lBQ2IsTUFBTVIsU0FBUyxNQUFNRixPQUFPTyxNQUFNLENBQUM0QixJQUFJLENBQUNyQixNQUFNLENBQUM7Z0JBQUVKO1lBQUc7WUFDcEQsT0FBTztnQkFBRVAsTUFBTUYsV0FBV0M7WUFBUTtRQUNwQztJQUNGO0lBRUEsMkZBQTJGO0lBQzNGa0MsYUFBYTtRQUNYQyxTQUFTLE9BQU9DO1lBQ2QsaUNBQWlDO1lBQ2pDLE1BQU1YLFVBQVUsRUFBRTtZQUNsQixLQUFLLE1BQU1ZLGFBQWFELFdBQVk7Z0JBQ2xDLE1BQU1wQyxTQUFTLE1BQU1xQztnQkFDckJaLFFBQVFhLElBQUksQ0FBQ3RDO1lBQ2Y7WUFDQSxPQUFPeUI7UUFDVDtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cnZleS1saW5rLXdyYXBwZXIvLi9zcmMvbGliL2FtcGxpZnktZGF0YS1zZXJ2aWNlLnRzPzQ1OWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuZXJhdGVDbGllbnQgfSBmcm9tICdhd3MtYW1wbGlmeS9hcGknO1xyXG5pbXBvcnQgeyBBbXBsaWZ5IH0gZnJvbSAnYXdzLWFtcGxpZnknO1xyXG5pbXBvcnQgeyBhbXBsaWZ5Q29uZmlnIH0gZnJvbSAnLi9hbXBsaWZ5LWNvbmZpZyc7XHJcbmltcG9ydCB0eXBlIHsgU2NoZW1hIH0gZnJvbSAnLi4vLi4vYW1wbGlmeS9kYXRhL3Jlc291cmNlJztcclxuXHJcbi8vIEluaXRpYWxpemUgQW1wbGlmeSB3aXRoIHR5cGUgYXNzZXJ0aW9uIHRvIGF2b2lkIHR5cGUgZXJyb3JzXHJcbkFtcGxpZnkuY29uZmlndXJlKGFtcGxpZnlDb25maWcgYXMgYW55KTtcclxuXHJcbi8vIEdlbmVyYXRlIGEgdHlwZS1zYWZlIGNsaWVudCBmb3IgZGF0YSBvcGVyYXRpb25zXHJcbmNvbnN0IGNsaWVudCA9IGdlbmVyYXRlQ2xpZW50PFNjaGVtYT4oKTtcclxuXHJcbi8vIEhlbHBlciB0byBzYWZlbHkgdW53cmFwIGRhdGEgZnJvbSBBbXBsaWZ5IHJlc3BvbnNlc1xyXG5jb25zdCB1bndyYXBEYXRhID0gPFQ+KHJlc3VsdDogeyBkYXRhOiBUIHwgbnVsbCB9KTogVCB8IG51bGwgPT4gcmVzdWx0LmRhdGE7XHJcblxyXG4vKipcclxuICogQW1wbGlmeSBEYXRhIFNlcnZpY2UgLSBSZXBsYWNlcyBQcmlzbWEgY2xpZW50IHdpdGggQVdTIEFtcGxpZnkgZGF0YSBvcGVyYXRpb25zXHJcbiAqIFRoaXMgc2VydmljZSBwcm92aWRlcyBDUlVEIG9wZXJhdGlvbnMgZm9yIGFsbCBtb2RlbHMgaW4gdGhlIGFwcGxpY2F0aW9uXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgYW1wbGlmeURhdGFTZXJ2aWNlID0ge1xyXG4gIC8vIFByb2plY3Qgb3BlcmF0aW9uc1xyXG4gIHByb2plY3RzOiB7XHJcbiAgICBjcmVhdGU6IGFzeW5jIChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0LmNyZWF0ZShkYXRhKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XHJcbiAgICB9LFxyXG4gICAgZ2V0OiBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlByb2plY3QuZ2V0KHsgaWQgfSk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xyXG4gICAgfSxcclxuICAgIGxpc3Q6IGFzeW5jIChmaWx0ZXI/OiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0Lmxpc3QoZmlsdGVyKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGEgfHwgW10gfTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jIChpZDogc3RyaW5nLCBkYXRhOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0LnVwZGF0ZSh7IGlkLCAuLi5kYXRhIH0pO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiB1bndyYXBEYXRhKHJlc3VsdCkgfTtcclxuICAgIH0sXHJcbiAgICBkZWxldGU6IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuUHJvamVjdC5kZWxldGUoeyBpZCB9KTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XHJcbiAgICB9LFxyXG4gICAgZ2V0V2l0aFJlbGF0aW9uczogYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgLy8gRml4OiBSZW1vdmUgcHJvYmxlbWF0aWMgc2VsZWN0aW9uIHNldCBhbmQgaGFuZGxlIHJlbGF0aW9uc2hpcHMgc2VwYXJhdGVseVxyXG4gICAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5Qcm9qZWN0LmdldCh7IGlkIH0pO1xyXG4gICAgICBcclxuICAgICAgaWYgKHByb2plY3QuZGF0YSkge1xyXG4gICAgICAgIC8vIEZldGNoIHJlbGF0ZWQgZGF0YSBzZXBhcmF0ZWx5IHRvIGF2b2lkIGRlZXAgdHlwZSBpbnN0YW50aWF0aW9uXHJcbiAgICAgICAgY29uc3Qgc3VydmV5TGlua3MgPSBhd2FpdCBjbGllbnQubW9kZWxzLlN1cnZleUxpbmsubGlzdCh7XHJcbiAgICAgICAgICBmaWx0ZXI6IHsgcHJvamVjdElkOiB7IGVxOiBpZCB9IH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB2ZW5kb3JzID0gYXdhaXQgY2xpZW50Lm1vZGVscy5WZW5kb3IubGlzdCh7XHJcbiAgICAgICAgICBmaWx0ZXI6IHsgcHJvamVjdElkOiB7IGVxOiBpZCB9IH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBxdWVzdGlvbnMgPSBhd2FpdCBjbGllbnQubW9kZWxzLlF1ZXN0aW9uLmxpc3Qoe1xyXG4gICAgICAgICAgZmlsdGVyOiB7IHByb2plY3RJZDogeyBlcTogaWQgfSB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ29tYmluZSBwcm9qZWN0IHdpdGggaXRzIHJlbGF0ZWQgZGF0YVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIC4uLnByb2plY3QuZGF0YSxcclxuICAgICAgICAgICAgc3VydmV5TGlua3M6IHN1cnZleUxpbmtzLmRhdGEgfHwgW10sXHJcbiAgICAgICAgICAgIHZlbmRvcnM6IHZlbmRvcnMuZGF0YSB8fCBbXSxcclxuICAgICAgICAgICAgcXVlc3Rpb25zOiBxdWVzdGlvbnMuZGF0YSB8fCBbXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwgfTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBTdXJ2ZXlMaW5rIG9wZXJhdGlvbnNcclxuICBzdXJ2ZXlMaW5rczoge1xyXG4gICAgY3JlYXRlOiBhc3luYyAoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuU3VydmV5TGluay5jcmVhdGUoZGF0YSk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xyXG4gICAgfSxcclxuICAgIGdldDogYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5TdXJ2ZXlMaW5rLmdldCh7IGlkIH0pO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiB1bndyYXBEYXRhKHJlc3VsdCkgfTtcclxuICAgIH0sXHJcbiAgICBnZXRCeVVpZDogYXN5bmMgKHVpZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBjbGllbnQubW9kZWxzLlN1cnZleUxpbmsubGlzdCh7IGZpbHRlcjogeyB1aWQ6IHsgZXE6IHVpZCB9IH0gfSk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IChyZXN1bHRzLmRhdGEgJiYgcmVzdWx0cy5kYXRhLmxlbmd0aCA+IDApID8gcmVzdWx0cy5kYXRhWzBdIDogbnVsbCB9O1xyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMgKGlkOiBzdHJpbmcsIGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlN1cnZleUxpbmsudXBkYXRlKHsgaWQsIC4uLmRhdGEgfSk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xyXG4gICAgfSxcclxuICAgIGxpc3Q6IGFzeW5jIChmaWx0ZXI/OiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5TdXJ2ZXlMaW5rLmxpc3QoZmlsdGVyKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGEgfHwgW10gfTtcclxuICAgIH0sXHJcbiAgICBsaXN0QnlQcm9qZWN0OiBhc3luYyAocHJvamVjdElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5TdXJ2ZXlMaW5rLmxpc3QoeyBmaWx0ZXI6IHsgcHJvamVjdElkOiB7IGVxOiBwcm9qZWN0SWQgfSB9IH0pO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YSB8fCBbXSB9O1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZTogYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5TdXJ2ZXlMaW5rLmRlbGV0ZSh7IGlkIH0pO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiB1bndyYXBEYXRhKHJlc3VsdCkgfTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBWZW5kb3Igb3BlcmF0aW9uc1xyXG4gIHZlbmRvcnM6IHtcclxuICAgIGNyZWF0ZTogYXN5bmMgKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlZlbmRvci5jcmVhdGUoZGF0YSk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xyXG4gICAgfSxcclxuICAgIGdldDogYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5WZW5kb3IuZ2V0KHsgaWQgfSk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xyXG4gICAgfSxcclxuICAgIGxpc3Q6IGFzeW5jIChmaWx0ZXI/OiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5WZW5kb3IubGlzdChmaWx0ZXIpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YSB8fCBbXSB9O1xyXG4gICAgfSxcclxuICAgIGxpc3RCeVByb2plY3Q6IGFzeW5jIChwcm9qZWN0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlZlbmRvci5saXN0KHsgZmlsdGVyOiB7IHByb2plY3RJZDogeyBlcTogcHJvamVjdElkIH0gfSB9KTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGEgfHwgW10gfTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jIChpZDogc3RyaW5nLCBkYXRhOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5WZW5kb3IudXBkYXRlKHsgaWQsIC4uLmRhdGEgfSk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZTogYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5WZW5kb3IuZGVsZXRlKHsgaWQgfSk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFF1ZXN0aW9uIG9wZXJhdGlvbnNcclxuICBxdWVzdGlvbnM6IHtcclxuICAgIGNyZWF0ZTogYXN5bmMgKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlF1ZXN0aW9uLmNyZWF0ZShkYXRhKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XHJcbiAgICB9LFxyXG4gICAgZ2V0OiBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlF1ZXN0aW9uLmdldCh7IGlkIH0pO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiB1bndyYXBEYXRhKHJlc3VsdCkgfTtcclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyAoZmlsdGVyPzogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuUXVlc3Rpb24ubGlzdChmaWx0ZXIpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YSB8fCBbXSB9O1xyXG4gICAgfSxcclxuICAgIGxpc3RCeVByb2plY3Q6IGFzeW5jIChwcm9qZWN0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlF1ZXN0aW9uLmxpc3QoeyBmaWx0ZXI6IHsgcHJvamVjdElkOiB7IGVxOiBwcm9qZWN0SWQgfSB9IH0pO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YSB8fCBbXSB9O1xyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMgKGlkOiBzdHJpbmcsIGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlF1ZXN0aW9uLnVwZGF0ZSh7IGlkLCAuLi5kYXRhIH0pO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiB1bndyYXBEYXRhKHJlc3VsdCkgfTtcclxuICAgIH0sXHJcbiAgICBkZWxldGU6IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuUXVlc3Rpb24uZGVsZXRlKHsgaWQgfSk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IHVud3JhcERhdGEocmVzdWx0KSB9O1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFJlc3BvbnNlIG9wZXJhdGlvbnNcclxuICByZXNwb25zZXM6IHtcclxuICAgIGNyZWF0ZTogYXN5bmMgKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlJlc3BvbnNlLmNyZWF0ZShkYXRhKTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XHJcbiAgICB9LFxyXG4gICAgZ2V0OiBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlJlc3BvbnNlLmdldCh7IGlkIH0pO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiB1bndyYXBEYXRhKHJlc3VsdCkgfTtcclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyAoZmlsdGVyPzogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuUmVzcG9uc2UubGlzdChmaWx0ZXIpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YSB8fCBbXSB9O1xyXG4gICAgfSxcclxuICAgIGxpc3RCeVByb2plY3Q6IGFzeW5jIChwcm9qZWN0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlJlc3BvbnNlLmxpc3QoeyBmaWx0ZXI6IHsgcHJvamVjdElkOiB7IGVxOiBwcm9qZWN0SWQgfSB9IH0pO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YSB8fCBbXSB9O1xyXG4gICAgfSxcclxuICAgIGxpc3RCeVN1cnZleUxpbms6IGFzeW5jIChzdXJ2ZXlMaW5rSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLlJlc3BvbnNlLmxpc3QoeyBmaWx0ZXI6IHsgc3VydmV5TGlua0lkOiB7IGVxOiBzdXJ2ZXlMaW5rSWQgfSB9IH0pO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YSB8fCBbXSB9O1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZTogYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50Lm1vZGVscy5SZXNwb25zZS5kZWxldGUoeyBpZCB9KTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gRmxhZyBvcGVyYXRpb25zXHJcbiAgZmxhZ3M6IHtcclxuICAgIGNyZWF0ZTogYXN5bmMgKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLkZsYWcuY3JlYXRlKGRhdGEpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiB1bndyYXBEYXRhKHJlc3VsdCkgfTtcclxuICAgIH0sXHJcbiAgICBnZXQ6IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRmxhZy5nZXQoeyBpZCB9KTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMgKGZpbHRlcj86IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLkZsYWcubGlzdChmaWx0ZXIpO1xyXG4gICAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YSB8fCBbXSB9O1xyXG4gICAgfSxcclxuICAgIGxpc3RCeVByb2plY3Q6IGFzeW5jIChwcm9qZWN0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQubW9kZWxzLkZsYWcubGlzdCh7IGZpbHRlcjogeyBwcm9qZWN0SWQ6IHsgZXE6IHByb2plY3RJZCB9IH0gfSk7XHJcbiAgICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhIHx8IFtdIH07XHJcbiAgICB9LFxyXG4gICAgbGlzdEJ5U3VydmV5TGluazogYXN5bmMgKHN1cnZleUxpbmtJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRmxhZy5saXN0KHsgZmlsdGVyOiB7IHN1cnZleUxpbmtJZDogeyBlcTogc3VydmV5TGlua0lkIH0gfSB9KTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGEgfHwgW10gfTtcclxuICAgIH0sXHJcbiAgICBkZWxldGU6IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5tb2RlbHMuRmxhZy5kZWxldGUoeyBpZCB9KTtcclxuICAgICAgcmV0dXJuIHsgZGF0YTogdW53cmFwRGF0YShyZXN1bHQpIH07XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gSGVscGVyIGZvciB0cmFuc2FjdGlvbnMgKG5vdCBkaXJlY3RseSBzdXBwb3J0ZWQgaW4gQW1wbGlmeSBEYXRhLCB1c2luZyBiYXRjaCBvcGVyYXRpb25zKVxyXG4gIHRyYW5zYWN0aW9uOiB7XHJcbiAgICBleGVjdXRlOiBhc3luYyAob3BlcmF0aW9uczogYW55W10pID0+IHtcclxuICAgICAgLy8gRXhlY3V0ZSBvcGVyYXRpb25zIGluIHNlcXVlbmNlXHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcclxuICAgICAgZm9yIChjb25zdCBvcGVyYXRpb24gb2Ygb3BlcmF0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZXJhdGlvbjtcclxuICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgIH1cclxuICB9XHJcbn07Il0sIm5hbWVzIjpbImdlbmVyYXRlQ2xpZW50IiwiQW1wbGlmeSIsImFtcGxpZnlDb25maWciLCJjb25maWd1cmUiLCJjbGllbnQiLCJ1bndyYXBEYXRhIiwicmVzdWx0IiwiZGF0YSIsImFtcGxpZnlEYXRhU2VydmljZSIsInByb2plY3RzIiwiY3JlYXRlIiwibW9kZWxzIiwiUHJvamVjdCIsImdldCIsImlkIiwibGlzdCIsImZpbHRlciIsInVwZGF0ZSIsImRlbGV0ZSIsImdldFdpdGhSZWxhdGlvbnMiLCJwcm9qZWN0Iiwic3VydmV5TGlua3MiLCJTdXJ2ZXlMaW5rIiwicHJvamVjdElkIiwiZXEiLCJ2ZW5kb3JzIiwiVmVuZG9yIiwicXVlc3Rpb25zIiwiUXVlc3Rpb24iLCJnZXRCeVVpZCIsInVpZCIsInJlc3VsdHMiLCJsZW5ndGgiLCJsaXN0QnlQcm9qZWN0IiwicmVzcG9uc2VzIiwiUmVzcG9uc2UiLCJsaXN0QnlTdXJ2ZXlMaW5rIiwic3VydmV5TGlua0lkIiwiZmxhZ3MiLCJGbGFnIiwidHJhbnNhY3Rpb24iLCJleGVjdXRlIiwib3BlcmF0aW9ucyIsIm9wZXJhdGlvbiIsInB1c2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/amplify-data-service.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/projects/create.ts":
/*!******************************************!*\
  !*** ./src/pages/api/projects/create.ts ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_amplify_data_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/amplify-data-service */ \"(api)/./src/lib/amplify-data-service.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_amplify_data_service__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_amplify_data_service__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        const { name, description, questions } = req.body;\n        if (!name) {\n            return res.status(400).json({\n                success: false,\n                message: \"Project name is required\"\n            });\n        }\n        // Create a new project using Amplify Data service\n        const projectResult = await _lib_amplify_data_service__WEBPACK_IMPORTED_MODULE_0__.amplifyDataService.projects.create({\n            name,\n            description: description || \"\"\n        });\n        // Check if projectResult is null before accessing its properties\n        if (!projectResult || projectResult.data === null) {\n            return res.status(500).json({\n                success: false,\n                message: \"Failed to create project. Project creation returned null.\"\n            });\n        }\n        // Add questions if provided\n        if (questions && Array.isArray(questions) && questions.length > 0) {\n            const projectId = projectResult.data.id;\n            const questionPromises = questions.map((q)=>_lib_amplify_data_service__WEBPACK_IMPORTED_MODULE_0__.amplifyDataService.questions.create({\n                    projectId,\n                    text: q.text,\n                    options: JSON.stringify(q.options || [])\n                }));\n            await Promise.all(questionPromises);\n        }\n        return res.status(201).json({\n            success: true,\n            message: \"Project created successfully\",\n            project: projectResult.data\n        });\n    } catch (error) {\n        console.error(\"Error creating project:\", error);\n        return res.status(500).json({\n            success: false,\n            message: \"Failed to create project. Please ensure you are authenticated and have correct permissions.\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3Byb2plY3RzL2NyZWF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNnRTtBQUVqRCxlQUFlQyxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUM3RSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN6QixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7UUFBcUI7SUFDOUQ7SUFFQSxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLFdBQVcsRUFBRUMsU0FBUyxFQUFFLEdBQUdSLElBQUlTLElBQUk7UUFFakQsSUFBSSxDQUFDSCxNQUFNO1lBQ1QsT0FBT0wsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJNLFNBQVM7Z0JBQ1RMLFNBQVM7WUFDWDtRQUNGO1FBRUEsa0RBQWtEO1FBQ2xELE1BQU1NLGdCQUFnQixNQUFNYix5RUFBa0JBLENBQUNjLFFBQVEsQ0FBQ0MsTUFBTSxDQUFDO1lBQzdEUDtZQUNBQyxhQUFhQSxlQUFlO1FBQzlCO1FBRUEsaUVBQWlFO1FBQ2pFLElBQUksQ0FBQ0ksaUJBQWlCQSxjQUFjRyxJQUFJLEtBQUssTUFBTTtZQUNqRCxPQUFPYixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQk0sU0FBUztnQkFDVEwsU0FBUztZQUNYO1FBQ0Y7UUFFQSw0QkFBNEI7UUFDNUIsSUFBSUcsYUFBYU8sTUFBTUMsT0FBTyxDQUFDUixjQUFjQSxVQUFVUyxNQUFNLEdBQUcsR0FBRztZQUNqRSxNQUFNQyxZQUFZUCxjQUFjRyxJQUFJLENBQUNLLEVBQUU7WUFDdkMsTUFBTUMsbUJBQW1CWixVQUFVYSxHQUFHLENBQUMsQ0FBQ0MsSUFDdEN4Qix5RUFBa0JBLENBQUNVLFNBQVMsQ0FBQ0ssTUFBTSxDQUFDO29CQUNsQ0s7b0JBQ0FLLE1BQU1ELEVBQUVDLElBQUk7b0JBQ1pDLFNBQVNDLEtBQUtDLFNBQVMsQ0FBQ0osRUFBRUUsT0FBTyxJQUFJLEVBQUU7Z0JBQ3pDO1lBR0YsTUFBTUcsUUFBUUMsR0FBRyxDQUFDUjtRQUNwQjtRQUVBLE9BQU9uQixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCTSxTQUFTO1lBQ1RMLFNBQVM7WUFDVHdCLFNBQVNsQixjQUFjRyxJQUFJO1FBQzdCO0lBQ0YsRUFBRSxPQUFPZ0IsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxPQUFPN0IsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQk0sU0FBUztZQUNUTCxTQUFTO1FBQ1g7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VydmV5LWxpbmstd3JhcHBlci8uL3NyYy9wYWdlcy9hcGkvcHJvamVjdHMvY3JlYXRlLnRzPzRkNjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBhbXBsaWZ5RGF0YVNlcnZpY2UgfSBmcm9tICdAL2xpYi9hbXBsaWZ5LWRhdGEtc2VydmljZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBuYW1lLCBkZXNjcmlwdGlvbiwgcXVlc3Rpb25zIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIW5hbWUpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICAgIG1lc3NhZ2U6ICdQcm9qZWN0IG5hbWUgaXMgcmVxdWlyZWQnIFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgYSBuZXcgcHJvamVjdCB1c2luZyBBbXBsaWZ5IERhdGEgc2VydmljZVxyXG4gICAgY29uc3QgcHJvamVjdFJlc3VsdCA9IGF3YWl0IGFtcGxpZnlEYXRhU2VydmljZS5wcm9qZWN0cy5jcmVhdGUoe1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfHwgJycsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBwcm9qZWN0UmVzdWx0IGlzIG51bGwgYmVmb3JlIGFjY2Vzc2luZyBpdHMgcHJvcGVydGllc1xyXG4gICAgaWYgKCFwcm9qZWN0UmVzdWx0IHx8IHByb2plY3RSZXN1bHQuZGF0YSA9PT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gY3JlYXRlIHByb2plY3QuIFByb2plY3QgY3JlYXRpb24gcmV0dXJuZWQgbnVsbC4nXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBxdWVzdGlvbnMgaWYgcHJvdmlkZWRcclxuICAgIGlmIChxdWVzdGlvbnMgJiYgQXJyYXkuaXNBcnJheShxdWVzdGlvbnMpICYmIHF1ZXN0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHByb2plY3RJZCA9IHByb2plY3RSZXN1bHQuZGF0YS5pZDtcclxuICAgICAgY29uc3QgcXVlc3Rpb25Qcm9taXNlcyA9IHF1ZXN0aW9ucy5tYXAoKHE6IHsgdGV4dDogc3RyaW5nLCBvcHRpb25zOiBzdHJpbmdbXSB9KSA9PiBcclxuICAgICAgICBhbXBsaWZ5RGF0YVNlcnZpY2UucXVlc3Rpb25zLmNyZWF0ZSh7XHJcbiAgICAgICAgICBwcm9qZWN0SWQsXHJcbiAgICAgICAgICB0ZXh0OiBxLnRleHQsXHJcbiAgICAgICAgICBvcHRpb25zOiBKU09OLnN0cmluZ2lmeShxLm9wdGlvbnMgfHwgW10pXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHF1ZXN0aW9uUHJvbWlzZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdQcm9qZWN0IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgcHJvamVjdDogcHJvamVjdFJlc3VsdC5kYXRhXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcHJvamVjdDonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcclxuICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGNyZWF0ZSBwcm9qZWN0LiBQbGVhc2UgZW5zdXJlIHlvdSBhcmUgYXV0aGVudGljYXRlZCBhbmQgaGF2ZSBjb3JyZWN0IHBlcm1pc3Npb25zLicgXHJcbiAgICB9KTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiYW1wbGlmeURhdGFTZXJ2aWNlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicXVlc3Rpb25zIiwiYm9keSIsInN1Y2Nlc3MiLCJwcm9qZWN0UmVzdWx0IiwicHJvamVjdHMiLCJjcmVhdGUiLCJkYXRhIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwicHJvamVjdElkIiwiaWQiLCJxdWVzdGlvblByb21pc2VzIiwibWFwIiwicSIsInRleHQiLCJvcHRpb25zIiwiSlNPTiIsInN0cmluZ2lmeSIsIlByb21pc2UiLCJhbGwiLCJwcm9qZWN0IiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/projects/create.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprojects%2Fcreate&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cprojects%5Ccreate.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();