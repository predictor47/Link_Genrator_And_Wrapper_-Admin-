"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/vendors/list";
exports.ids = ["pages/api/vendors/list"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "aws-amplify":
/*!******************************!*\
  !*** external "aws-amplify" ***!
  \******************************/
/***/ ((module) => {

module.exports = import("aws-amplify");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvendors%2Flist&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fvendors%2Flist.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvendors%2Flist&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fvendors%2Flist.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_vendors_list_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/vendors/list.ts */ \"(api)/./src/pages/api/vendors/list.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_vendors_list_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_vendors_list_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_vendors_list_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_vendors_list_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/vendors/list\",\n        pathname: \"/api/vendors/list\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_vendors_list_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnZlbmRvcnMlMkZsaXN0JnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTJGcGFnZXMlMkZhcGklMkZ2ZW5kb3JzJTJGbGlzdC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUM0RDtBQUM1RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsMkRBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDJEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cnZleS1saW5rLXdyYXBwZXIvP2Y3MTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyYy9wYWdlcy9hcGkvdmVuZG9ycy9saXN0LnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdmVuZG9ycy9saXN0XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdmVuZG9ycy9saXN0XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvendors%2Flist&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fvendors%2Flist.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/amplify-server-service.ts":
/*!*******************************************!*\
  !*** ./src/lib/amplify-server-service.ts ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAmplifyServerService: () => (/* binding */ getAmplifyServerService)\n/* harmony export */ });\n/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-amplify */ \"aws-amplify\");\n/* harmony import */ var _amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../amplify_outputs.json */ \"(api)/./amplify_outputs.json\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([aws_amplify__WEBPACK_IMPORTED_MODULE_0__]);\naws_amplify__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// Initialize Amplify\naws_amplify__WEBPACK_IMPORTED_MODULE_0__.Amplify.configure(_amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__);\nclass AmplifyServerService {\n    constructor(){\n        this.apiEndpoint = _amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__.data.url;\n        this.apiKey = _amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__.data.api_key;\n    }\n    async makeGraphQLRequest(query, variables = {}) {\n        try {\n            const response = await fetch(this.apiEndpoint, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"x-api-key\": this.apiKey\n                },\n                body: JSON.stringify({\n                    query,\n                    variables\n                })\n            });\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"GraphQL request failed:\", error);\n            throw error;\n        }\n    }\n    // Project operations\n    async getProject(id) {\n        const query = `\n      query GetProject($id: ID!) {\n        getProject(id: $id) {\n          id\n          name\n          description\n          status\n          targetCompletions\n          currentCompletions\n          surveyUrl\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            id\n        });\n        return {\n            data: result.data?.getProject || null\n        };\n    }\n    // Vendor operations\n    async getVendor(id) {\n        const query = `\n      query GetVendor($id: ID!) {\n        getVendor(id: $id) {\n          id\n          name\n          contactName\n          contactEmail\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            id\n        });\n        return {\n            data: result.data?.getVendor || null\n        };\n    }\n    async listVendors(filter) {\n        const query = `\n      query ListVendors($filter: ModelVendorFilterInput) {\n        listVendors(filter: $filter) {\n          items {\n            id\n            name\n            contactName\n            contactEmail\n            settings\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listVendors?.items || []\n        };\n    }\n    async createVendor(input) {\n        const query = `\n      mutation CreateVendor($input: CreateVendorInput!) {\n        createVendor(input: $input) {\n          id\n          name\n          contactName\n          contactEmail\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.createVendor || null\n        };\n    }\n    async deleteVendor(input) {\n        const query = `\n      mutation DeleteVendor($input: DeleteVendorInput!) {\n        deleteVendor(input: $input) {\n          id\n          name\n          contactName\n          contactEmail\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.deleteVendor || null\n        };\n    }\n    // SurveyLink operations\n    async createSurveyLink(input) {\n        const query = `\n      mutation CreateSurveyLink($input: CreateSurveyLinkInput!) {\n        createSurveyLink(input: $input) {\n          id\n          projectId\n          uid\n          vendorId\n          status\n          metadata\n          createdAt\n          updatedAt\n          clickedAt\n          completedAt\n          ipAddress\n          userAgent\n          geoData\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.createSurveyLink || null\n        };\n    }\n    async listSurveyLinksByProject(projectId) {\n        const query = `\n      query ListSurveyLinks($filter: ModelSurveyLinkFilterInput) {\n        listSurveyLinks(filter: $filter) {\n          items {\n            id\n            projectId\n            uid\n            vendorId\n            status\n            metadata\n            createdAt\n            updatedAt\n            clickedAt\n            completedAt\n            ipAddress\n            userAgent\n            geoData\n          }\n        }\n      }\n    `;\n        const filter = {\n            projectId: {\n                eq: projectId\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listSurveyLinks?.items || []\n        };\n    }\n    async getSurveyLinkByUid(uid) {\n        const query = `\n      query ListSurveyLinks($filter: ModelSurveyLinkFilterInput) {\n        listSurveyLinks(filter: $filter) {\n          items {\n            id\n            projectId\n            uid\n            vendorId\n            status\n            metadata\n            createdAt\n            updatedAt\n            clickedAt\n            completedAt\n            ipAddress\n            userAgent\n            geoData\n          }\n        }\n      }\n    `;\n        const filter = {\n            uid: {\n                eq: uid\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        const items = result.data?.listSurveyLinks?.items || [];\n        return {\n            data: items.length > 0 ? items[0] : null\n        };\n    }\n    async updateSurveyLink(id, input) {\n        const query = `\n      mutation UpdateSurveyLink($input: UpdateSurveyLinkInput!) {\n        updateSurveyLink(input: $input) {\n          id\n          projectId\n          uid\n          vendorId\n          status\n          metadata\n          createdAt\n          updatedAt\n          clickedAt\n          completedAt\n          ipAddress\n          userAgent\n          geoData\n        }\n      }\n    `;\n        const updateInput = {\n            id,\n            ...input\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            input: updateInput\n        });\n        return {\n            data: result.data?.updateSurveyLink || null\n        };\n    }\n    // Question operations\n    async createQuestion(input) {\n        const query = `\n      mutation CreateQuestion($input: CreateQuestionInput!) {\n        createQuestion(input: $input) {\n          id\n          projectId\n          text\n          type\n          options\n          sequence\n          isRequired\n          isTrap\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.createQuestion || null\n        };\n    }\n    async listQuestionsByProject(projectId) {\n        const query = `\n      query ListQuestions($filter: ModelQuestionFilterInput) {\n        listQuestions(filter: $filter) {\n          items {\n            id\n            projectId\n            text\n            type\n            options\n            sequence\n            isRequired\n            isTrap\n            settings\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const filter = {\n            projectId: {\n                eq: projectId\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listQuestions?.items || []\n        };\n    }\n    async deleteQuestion(id) {\n        const query = `\n      mutation DeleteQuestion($input: DeleteQuestionInput!) {\n        deleteQuestion(input: $input) {\n          id\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input: {\n                id\n            }\n        });\n        return {\n            data: result.data?.deleteQuestion || null\n        };\n    }\n    // Response operations\n    async createResponse(input) {\n        const query = `\n      mutation CreateResponse($input: CreateResponseInput!) {\n        createResponse(input: $input) {\n          id\n          surveyLinkId\n          questionId\n          answer\n          metadata\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.createResponse || null\n        };\n    }\n    async listResponsesBySurveyLink(surveyLinkId) {\n        const query = `\n      query ListResponses($filter: ModelResponseFilterInput) {\n        listResponses(filter: $filter) {\n          items {\n            id\n            surveyLinkId\n            questionId\n            answer\n            metadata\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const filter = {\n            surveyLinkId: {\n                eq: surveyLinkId\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listResponses?.items || []\n        };\n    }\n    // ProjectVendor operations\n    async listProjectVendors(filter) {\n        const query = `\n      query ListProjectVendors($filter: ModelProjectVendorFilterInput) {\n        listProjectVendors(filter: $filter) {\n          items {\n            id\n            projectId\n            vendorId\n            quota\n            currentCount\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listProjectVendors?.items || []\n        };\n    }\n    async createProjectVendor(input) {\n        const query = `\n      mutation CreateProjectVendor($input: CreateProjectVendorInput!) {\n        createProjectVendor(input: $input) {\n          id\n          projectId\n          vendorId\n          quota\n          currentCount\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const createInput = {\n            projectId: input.projectId,\n            vendorId: input.vendorId,\n            quota: input.quota || 0,\n            currentCount: input.currentCount || 0\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            input: createInput\n        });\n        return {\n            data: result.data?.createProjectVendor || null\n        };\n    }\n    async updateProjectVendor(projectId, vendorId, updates) {\n        // First find the ProjectVendor record\n        const existingResult = await this.listProjectVendors({\n            and: [\n                {\n                    projectId: {\n                        eq: projectId\n                    }\n                },\n                {\n                    vendorId: {\n                        eq: vendorId\n                    }\n                }\n            ]\n        });\n        if (existingResult.data.length === 0) {\n            return {\n                data: null\n            };\n        }\n        const projectVendor = existingResult.data[0];\n        const query = `\n      mutation UpdateProjectVendor($input: UpdateProjectVendorInput!) {\n        updateProjectVendor(input: $input) {\n          id\n          projectId\n          vendorId\n          quota\n          currentCount\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const input = {\n            id: projectVendor.id,\n            ...updates\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.updateProjectVendor || null\n        };\n    }\n}\n// Create a singleton instance\nlet serverService = null;\nfunction getAmplifyServerService() {\n    if (!serverService) {\n        serverService = new AmplifyServerService();\n    }\n    return serverService;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2FtcGxpZnktc2VydmVyLXNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNDO0FBQ1c7QUFFakQscUJBQXFCO0FBQ3JCQSxnREFBT0EsQ0FBQ0UsU0FBUyxDQUFDRCxrREFBT0E7QUFpRnpCLE1BQU1FO0lBSUpDLGFBQWM7UUFDWixJQUFJLENBQUNDLFdBQVcsR0FBR0osdURBQVksQ0FBQ00sR0FBRztRQUNuQyxJQUFJLENBQUNDLE1BQU0sR0FBR1AsdURBQVksQ0FBQ1EsT0FBTztJQUNwQztJQUVBLE1BQWNDLG1CQUFzQkMsS0FBYSxFQUFFQyxZQUFpQixDQUFDLENBQUMsRUFBK0I7UUFDbkcsSUFBSTtZQUNGLE1BQU1DLFdBQVcsTUFBTUMsTUFBTSxJQUFJLENBQUNULFdBQVcsRUFBRTtnQkFDN0NVLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQ1AsZ0JBQWdCO29CQUNoQixhQUFhLElBQUksQ0FBQ1IsTUFBTTtnQkFDMUI7Z0JBQ0FTLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkJSO29CQUNBQztnQkFDRjtZQUNGO1lBRUEsSUFBSSxDQUFDQyxTQUFTTyxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLG9CQUFvQixFQUFFUixTQUFTUyxNQUFNLENBQUMsQ0FBQztZQUMxRDtZQUVBLE9BQU8sTUFBTVQsU0FBU1UsSUFBSTtRQUM1QixFQUFFLE9BQU9DLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDJCQUEyQkE7WUFDekMsTUFBTUE7UUFDUjtJQUNGO0lBRUEscUJBQXFCO0lBQ3JCLE1BQU1FLFdBQVdDLEVBQVUsRUFBcUM7UUFDOUQsTUFBTWhCLFFBQVEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0lBZWYsQ0FBQztRQUVELE1BQU1pQixTQUFTLE1BQU0sSUFBSSxDQUFDbEIsa0JBQWtCLENBQTBCQyxPQUFPO1lBQUVnQjtRQUFHO1FBQ2xGLE9BQU87WUFBRXJCLE1BQU1zQixPQUFPdEIsSUFBSSxFQUFF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QWtCLENBQStCQyxPQUFPO1lBQUV1QixPQUFPc0I7UUFBWTtRQUN2RyxPQUFPO1lBQUVsRCxNQUFNc0IsT0FBT3RCLElBQUksRUFBRWlELHVCQUF1QjtRQUFLO0lBQzFEO0lBRUEsTUFBTUssb0JBQW9CdEIsU0FBaUIsRUFBRW1CLFFBQWdCLEVBQUVJLE9BRzlELEVBQWlDO1FBQ2hDLHNDQUFzQztRQUN0QyxNQUFNQyxpQkFBaUIsTUFBTSxJQUFJLENBQUNSLGtCQUFrQixDQUFDO1lBQ25EUyxLQUFLO2dCQUNIO29CQUFFekIsV0FBVzt3QkFBRUMsSUFBSUQ7b0JBQVU7Z0JBQUU7Z0JBQy9CO29CQUFFbUIsVUFBVTt3QkFBRWxCLElBQUlrQjtvQkFBUztnQkFBRTthQUM5QjtRQUNIO1FBRUEsSUFBSUssZUFBZXhELElBQUksQ0FBQ3FDLE1BQU0sS0FBSyxHQUFHO1lBQ3BDLE9BQU87Z0JBQUVyQyxNQUFNO1lBQUs7UUFDdEI7UUFFQSxNQUFNMEQsZ0JBQWdCRixlQUFleEQsSUFBSSxDQUFDLEVBQUU7UUFFNUMsTUFBTUssUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7SUFZZixDQUFDO1FBRUQsTUFBTXVCLFFBQVE7WUFDWlAsSUFBSXFDLGNBQWNyQyxFQUFFO1lBQ3BCLEdBQUdrQyxPQUFPO1FBQ1o7UUFFQSxNQUFNakMsU0FBUyxNQUFNLElBQUksQ0FBQ2xCLGtCQUFrQixDQUErQkMsT0FBTztZQUFFdUI7UUFBTTtRQUMxRixPQUFPO1lBQUU1QixNQUFNc0IsT0FBT3RCLElBQUksRUFBRXNELHVCQUF1QjtRQUFLO0lBQzFEO0FBQ0Y7QUFFQSw4QkFBOEI7QUFDOUIsSUFBSUssZ0JBQTZDO0FBRTFDLFNBQVNDO0lBQ2QsSUFBSSxDQUFDRCxlQUFlO1FBQ2xCQSxnQkFBZ0IsSUFBSTlEO0lBQ3RCO0lBQ0EsT0FBTzhEO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXJ2ZXktbGluay13cmFwcGVyLy4vc3JjL2xpYi9hbXBsaWZ5LXNlcnZlci1zZXJ2aWNlLnRzP2ViOTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQW1wbGlmeSB9IGZyb20gJ2F3cy1hbXBsaWZ5JztcbmltcG9ydCBvdXRwdXRzIGZyb20gJy4uLy4uL2FtcGxpZnlfb3V0cHV0cy5qc29uJztcblxuLy8gSW5pdGlhbGl6ZSBBbXBsaWZ5XG5BbXBsaWZ5LmNvbmZpZ3VyZShvdXRwdXRzKTtcblxuLy8gVHlwZSBkZWZpbml0aW9ucyBtYXRjaGluZyB0aGUgc2NoZW1hXG50eXBlIFByb2plY3RTdGF0dXMgPSAnQUNUSVZFJyB8ICdQQVVTRUQnIHwgJ0NPTVBMRVRFRCc7XG50eXBlIFN1cnZleUxpbmtTdGF0dXMgPSAnVU5VU0VEJyB8ICdDTElDS0VEJyB8ICdDT01QTEVURUQnIHwgJ0RJU1FVQUxJRklFRCcgfCAnUVVPVEFfRlVMTCc7XG5cbmludGVyZmFjZSBQcm9qZWN0IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgc3RhdHVzOiBQcm9qZWN0U3RhdHVzO1xuICB0YXJnZXRDb21wbGV0aW9uczogbnVtYmVyO1xuICBjdXJyZW50Q29tcGxldGlvbnM6IG51bWJlcjtcbiAgc3VydmV5VXJsOiBzdHJpbmc7XG4gIHNldHRpbmdzPzogYW55O1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBWZW5kb3Ige1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGNvbnRhY3ROYW1lPzogc3RyaW5nO1xuICBjb250YWN0RW1haWw/OiBzdHJpbmc7XG4gIHNldHRpbmdzPzogYW55O1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBTdXJ2ZXlMaW5rIHtcbiAgaWQ6IHN0cmluZztcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHVpZDogc3RyaW5nO1xuICB2ZW5kb3JJZD86IHN0cmluZztcbiAgc3RhdHVzOiBTdXJ2ZXlMaW5rU3RhdHVzO1xuICBjbGlja2VkQXQ/OiBzdHJpbmc7XG4gIGNvbXBsZXRlZEF0Pzogc3RyaW5nO1xuICBpcEFkZHJlc3M/OiBzdHJpbmc7XG4gIHVzZXJBZ2VudD86IHN0cmluZztcbiAgZ2VvRGF0YT86IGFueTtcbiAgbWV0YWRhdGE/OiBhbnk7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB1cGRhdGVkQXQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFF1ZXN0aW9uIHtcbiAgaWQ6IHN0cmluZztcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBvcHRpb25zPzogYW55O1xuICBzZXF1ZW5jZTogbnVtYmVyO1xuICBpc1JlcXVpcmVkOiBib29sZWFuO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBSZXNwb25zZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHN1cnZleUxpbmtJZDogc3RyaW5nO1xuICBxdWVzdGlvbklkOiBzdHJpbmc7XG4gIGFuc3dlcjogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBQcm9qZWN0VmVuZG9yIHtcbiAgaWQ6IHN0cmluZztcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHZlbmRvcklkOiBzdHJpbmc7XG4gIHF1b3RhOiBudW1iZXI7XG4gIGN1cnJlbnRDb3VudDogbnVtYmVyO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBHcmFwaFFMUmVzcG9uc2U8VD4ge1xuICBkYXRhPzogVDtcbiAgZXJyb3JzPzogQXJyYXk8eyBtZXNzYWdlOiBzdHJpbmcgfT47XG59XG5cbmNsYXNzIEFtcGxpZnlTZXJ2ZXJTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBhcGlFbmRwb2ludDogc3RyaW5nO1xuICBwcml2YXRlIGFwaUtleTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYXBpRW5kcG9pbnQgPSBvdXRwdXRzLmRhdGEudXJsO1xuICAgIHRoaXMuYXBpS2V5ID0gb3V0cHV0cy5kYXRhLmFwaV9rZXk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIG1ha2VHcmFwaFFMUmVxdWVzdDxUPihxdWVyeTogc3RyaW5nLCB2YXJpYWJsZXM6IGFueSA9IHt9KTogUHJvbWlzZTxHcmFwaFFMUmVzcG9uc2U8VD4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmFwaUVuZHBvaW50LCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAneC1hcGkta2V5JzogdGhpcy5hcGlLZXksXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICB2YXJpYWJsZXMsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdHcmFwaFFMIHJlcXVlc3QgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb2plY3Qgb3BlcmF0aW9uc1xuICBhc3luYyBnZXRQcm9qZWN0KGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogUHJvamVjdCB8IG51bGwgfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgcXVlcnkgR2V0UHJvamVjdCgkaWQ6IElEISkge1xuICAgICAgICBnZXRQcm9qZWN0KGlkOiAkaWQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgICAgIHN0YXR1c1xuICAgICAgICAgIHRhcmdldENvbXBsZXRpb25zXG4gICAgICAgICAgY3VycmVudENvbXBsZXRpb25zXG4gICAgICAgICAgc3VydmV5VXJsXG4gICAgICAgICAgc2V0dGluZ3NcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGdldFByb2plY3Q6IFByb2plY3QgfT4ocXVlcnksIHsgaWQgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LmdldFByb2plY3QgfHwgbnVsbCB9O1xuICB9XG5cbiAgLy8gVmVuZG9yIG9wZXJhdGlvbnNcbiAgYXN5bmMgZ2V0VmVuZG9yKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogVmVuZG9yIHwgbnVsbCB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBxdWVyeSBHZXRWZW5kb3IoJGlkOiBJRCEpIHtcbiAgICAgICAgZ2V0VmVuZG9yKGlkOiAkaWQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgICBjb250YWN0TmFtZVxuICAgICAgICAgIGNvbnRhY3RFbWFpbFxuICAgICAgICAgIHNldHRpbmdzXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBnZXRWZW5kb3I6IFZlbmRvciB9PihxdWVyeSwgeyBpZCB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8uZ2V0VmVuZG9yIHx8IG51bGwgfTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RWZW5kb3JzKGZpbHRlcj86IGFueSk6IFByb21pc2U8eyBkYXRhOiBWZW5kb3JbXSB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBxdWVyeSBMaXN0VmVuZG9ycygkZmlsdGVyOiBNb2RlbFZlbmRvckZpbHRlcklucHV0KSB7XG4gICAgICAgIGxpc3RWZW5kb3JzKGZpbHRlcjogJGZpbHRlcikge1xuICAgICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICBjb250YWN0TmFtZVxuICAgICAgICAgICAgY29udGFjdEVtYWlsXG4gICAgICAgICAgICBzZXR0aW5nc1xuICAgICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBsaXN0VmVuZG9yczogeyBpdGVtczogVmVuZG9yW10gfSB9PihxdWVyeSwgeyBmaWx0ZXIgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/Lmxpc3RWZW5kb3JzPy5pdGVtcyB8fCBbXSB9O1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlVmVuZG9yKGlucHV0OiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGNvbnRhY3ROYW1lPzogc3RyaW5nO1xuICAgIGNvbnRhY3RFbWFpbD86IHN0cmluZztcbiAgICBzZXR0aW5ncz86IHN0cmluZztcbiAgfSk6IFByb21pc2U8eyBkYXRhOiBWZW5kb3IgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIG11dGF0aW9uIENyZWF0ZVZlbmRvcigkaW5wdXQ6IENyZWF0ZVZlbmRvcklucHV0ISkge1xuICAgICAgICBjcmVhdGVWZW5kb3IoaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgbmFtZVxuICAgICAgICAgIGNvbnRhY3ROYW1lXG4gICAgICAgICAgY29udGFjdEVtYWlsXG4gICAgICAgICAgc2V0dGluZ3NcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGNyZWF0ZVZlbmRvcjogVmVuZG9yIH0+KHF1ZXJ5LCB7IGlucHV0IH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5jcmVhdGVWZW5kb3IgfHwgbnVsbCB9O1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlVmVuZG9yKGlucHV0OiB7IGlkOiBzdHJpbmcgfSk6IFByb21pc2U8eyBkYXRhOiBWZW5kb3IgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIG11dGF0aW9uIERlbGV0ZVZlbmRvcigkaW5wdXQ6IERlbGV0ZVZlbmRvcklucHV0ISkge1xuICAgICAgICBkZWxldGVWZW5kb3IoaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgbmFtZVxuICAgICAgICAgIGNvbnRhY3ROYW1lXG4gICAgICAgICAgY29udGFjdEVtYWlsXG4gICAgICAgICAgc2V0dGluZ3NcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGRlbGV0ZVZlbmRvcjogVmVuZG9yIH0+KHF1ZXJ5LCB7IGlucHV0IH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5kZWxldGVWZW5kb3IgfHwgbnVsbCB9O1xuICB9XG5cbiAgLy8gU3VydmV5TGluayBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZVN1cnZleUxpbmsoaW5wdXQ6IHtcbiAgICBwcm9qZWN0SWQ6IHN0cmluZztcbiAgICB1aWQ6IHN0cmluZztcbiAgICB2ZW5kb3JJZD86IHN0cmluZztcbiAgICBzdGF0dXM6IHN0cmluZztcbiAgICBtZXRhZGF0YT86IHN0cmluZztcbiAgICBnZW9EYXRhPzogYW55O1xuICB9KTogUHJvbWlzZTx7IGRhdGE6IFN1cnZleUxpbmsgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIG11dGF0aW9uIENyZWF0ZVN1cnZleUxpbmsoJGlucHV0OiBDcmVhdGVTdXJ2ZXlMaW5rSW5wdXQhKSB7XG4gICAgICAgIGNyZWF0ZVN1cnZleUxpbmsoaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgcHJvamVjdElkXG4gICAgICAgICAgdWlkXG4gICAgICAgICAgdmVuZG9ySWRcbiAgICAgICAgICBzdGF0dXNcbiAgICAgICAgICBtZXRhZGF0YVxuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICAgIGNsaWNrZWRBdFxuICAgICAgICAgIGNvbXBsZXRlZEF0XG4gICAgICAgICAgaXBBZGRyZXNzXG4gICAgICAgICAgdXNlckFnZW50XG4gICAgICAgICAgZ2VvRGF0YVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgY3JlYXRlU3VydmV5TGluazogU3VydmV5TGluayB9PihxdWVyeSwgeyBpbnB1dCB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8uY3JlYXRlU3VydmV5TGluayB8fCBudWxsIH07XG4gIH1cblxuICBhc3luYyBsaXN0U3VydmV5TGlua3NCeVByb2plY3QocHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogU3VydmV5TGlua1tdIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIHF1ZXJ5IExpc3RTdXJ2ZXlMaW5rcygkZmlsdGVyOiBNb2RlbFN1cnZleUxpbmtGaWx0ZXJJbnB1dCkge1xuICAgICAgICBsaXN0U3VydmV5TGlua3MoZmlsdGVyOiAkZmlsdGVyKSB7XG4gICAgICAgICAgaXRlbXMge1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIHByb2plY3RJZFxuICAgICAgICAgICAgdWlkXG4gICAgICAgICAgICB2ZW5kb3JJZFxuICAgICAgICAgICAgc3RhdHVzXG4gICAgICAgICAgICBtZXRhZGF0YVxuICAgICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgICAgIGNsaWNrZWRBdFxuICAgICAgICAgICAgY29tcGxldGVkQXRcbiAgICAgICAgICAgIGlwQWRkcmVzc1xuICAgICAgICAgICAgdXNlckFnZW50XG4gICAgICAgICAgICBnZW9EYXRhXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IGZpbHRlciA9IHtcbiAgICAgIHByb2plY3RJZDogeyBlcTogcHJvamVjdElkIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBsaXN0U3VydmV5TGlua3M6IHsgaXRlbXM6IFN1cnZleUxpbmtbXSB9IH0+KHF1ZXJ5LCB7IGZpbHRlciB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8ubGlzdFN1cnZleUxpbmtzPy5pdGVtcyB8fCBbXSB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0U3VydmV5TGlua0J5VWlkKHVpZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IFN1cnZleUxpbmsgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIHF1ZXJ5IExpc3RTdXJ2ZXlMaW5rcygkZmlsdGVyOiBNb2RlbFN1cnZleUxpbmtGaWx0ZXJJbnB1dCkge1xuICAgICAgICBsaXN0U3VydmV5TGlua3MoZmlsdGVyOiAkZmlsdGVyKSB7XG4gICAgICAgICAgaXRlbXMge1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIHByb2plY3RJZFxuICAgICAgICAgICAgdWlkXG4gICAgICAgICAgICB2ZW5kb3JJZFxuICAgICAgICAgICAgc3RhdHVzXG4gICAgICAgICAgICBtZXRhZGF0YVxuICAgICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgICAgIGNsaWNrZWRBdFxuICAgICAgICAgICAgY29tcGxldGVkQXRcbiAgICAgICAgICAgIGlwQWRkcmVzc1xuICAgICAgICAgICAgdXNlckFnZW50XG4gICAgICAgICAgICBnZW9EYXRhXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IGZpbHRlciA9IHtcbiAgICAgIHVpZDogeyBlcTogdWlkIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBsaXN0U3VydmV5TGlua3M6IHsgaXRlbXM6IFN1cnZleUxpbmtbXSB9IH0+KHF1ZXJ5LCB7IGZpbHRlciB9KTtcbiAgICBjb25zdCBpdGVtcyA9IHJlc3VsdC5kYXRhPy5saXN0U3VydmV5TGlua3M/Lml0ZW1zIHx8IFtdO1xuICAgIHJldHVybiB7IGRhdGE6IGl0ZW1zLmxlbmd0aCA+IDAgPyBpdGVtc1swXSA6IG51bGwgfTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVN1cnZleUxpbmsoaWQ6IHN0cmluZywgaW5wdXQ6IHtcbiAgICBzdGF0dXM/OiBzdHJpbmc7XG4gICAgY2xpY2tlZEF0Pzogc3RyaW5nO1xuICAgIGNvbXBsZXRlZEF0Pzogc3RyaW5nO1xuICAgIGlwQWRkcmVzcz86IHN0cmluZztcbiAgICB1c2VyQWdlbnQ/OiBzdHJpbmc7XG4gICAgZ2VvRGF0YT86IGFueTtcbiAgICBtZXRhZGF0YT86IHN0cmluZztcbiAgfSk6IFByb21pc2U8eyBkYXRhOiBTdXJ2ZXlMaW5rIHwgbnVsbCB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBtdXRhdGlvbiBVcGRhdGVTdXJ2ZXlMaW5rKCRpbnB1dDogVXBkYXRlU3VydmV5TGlua0lucHV0ISkge1xuICAgICAgICB1cGRhdGVTdXJ2ZXlMaW5rKGlucHV0OiAkaW5wdXQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIHByb2plY3RJZFxuICAgICAgICAgIHVpZFxuICAgICAgICAgIHZlbmRvcklkXG4gICAgICAgICAgc3RhdHVzXG4gICAgICAgICAgbWV0YWRhdGFcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgICBjbGlja2VkQXRcbiAgICAgICAgICBjb21wbGV0ZWRBdFxuICAgICAgICAgIGlwQWRkcmVzc1xuICAgICAgICAgIHVzZXJBZ2VudFxuICAgICAgICAgIGdlb0RhdGFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCB1cGRhdGVJbnB1dCA9IHsgaWQsIC4uLmlucHV0IH07XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyB1cGRhdGVTdXJ2ZXlMaW5rOiBTdXJ2ZXlMaW5rIH0+KHF1ZXJ5LCB7IGlucHV0OiB1cGRhdGVJbnB1dCB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8udXBkYXRlU3VydmV5TGluayB8fCBudWxsIH07XG4gIH1cblxuICAvLyBRdWVzdGlvbiBvcGVyYXRpb25zXG4gIGFzeW5jIGNyZWF0ZVF1ZXN0aW9uKGlucHV0OiB7XG4gICAgcHJvamVjdElkOiBzdHJpbmc7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBvcHRpb25zPzogYW55O1xuICAgIHNlcXVlbmNlOiBudW1iZXI7XG4gICAgaXNSZXF1aXJlZD86IGJvb2xlYW47XG4gICAgaXNUcmFwPzogYm9vbGVhbjtcbiAgICBzZXR0aW5ncz86IGFueTtcbiAgfSk6IFByb21pc2U8eyBkYXRhOiBhbnkgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIG11dGF0aW9uIENyZWF0ZVF1ZXN0aW9uKCRpbnB1dDogQ3JlYXRlUXVlc3Rpb25JbnB1dCEpIHtcbiAgICAgICAgY3JlYXRlUXVlc3Rpb24oaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgcHJvamVjdElkXG4gICAgICAgICAgdGV4dFxuICAgICAgICAgIHR5cGVcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgc2VxdWVuY2VcbiAgICAgICAgICBpc1JlcXVpcmVkXG4gICAgICAgICAgaXNUcmFwXG4gICAgICAgICAgc2V0dGluZ3NcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGNyZWF0ZVF1ZXN0aW9uOiBhbnkgfT4ocXVlcnksIHsgaW5wdXQgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LmNyZWF0ZVF1ZXN0aW9uIHx8IG51bGwgfTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RRdWVzdGlvbnNCeVByb2plY3QocHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogYW55W10gfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgcXVlcnkgTGlzdFF1ZXN0aW9ucygkZmlsdGVyOiBNb2RlbFF1ZXN0aW9uRmlsdGVySW5wdXQpIHtcbiAgICAgICAgbGlzdFF1ZXN0aW9ucyhmaWx0ZXI6ICRmaWx0ZXIpIHtcbiAgICAgICAgICBpdGVtcyB7XG4gICAgICAgICAgICBpZFxuICAgICAgICAgICAgcHJvamVjdElkXG4gICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICB0eXBlXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICBzZXF1ZW5jZVxuICAgICAgICAgICAgaXNSZXF1aXJlZFxuICAgICAgICAgICAgaXNUcmFwXG4gICAgICAgICAgICBzZXR0aW5nc1xuICAgICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgZmlsdGVyID0ge1xuICAgICAgcHJvamVjdElkOiB7IGVxOiBwcm9qZWN0SWQgfVxuICAgIH07XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGxpc3RRdWVzdGlvbnM6IHsgaXRlbXM6IGFueVtdIH0gfT4ocXVlcnksIHsgZmlsdGVyIH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5saXN0UXVlc3Rpb25zPy5pdGVtcyB8fCBbXSB9O1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlUXVlc3Rpb24oaWQ6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBhbnkgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIG11dGF0aW9uIERlbGV0ZVF1ZXN0aW9uKCRpbnB1dDogRGVsZXRlUXVlc3Rpb25JbnB1dCEpIHtcbiAgICAgICAgZGVsZXRlUXVlc3Rpb24oaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgICAgIGlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBkZWxldGVRdWVzdGlvbjogYW55IH0+KHF1ZXJ5LCB7IGlucHV0OiB7IGlkIH0gfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LmRlbGV0ZVF1ZXN0aW9uIHx8IG51bGwgfTtcbiAgfVxuXG4gIC8vIFJlc3BvbnNlIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlUmVzcG9uc2UoaW5wdXQ6IHtcbiAgICBzdXJ2ZXlMaW5rSWQ6IHN0cmluZztcbiAgICBxdWVzdGlvbklkOiBzdHJpbmc7XG4gICAgYW5zd2VyOiBzdHJpbmc7XG4gICAgbWV0YWRhdGE/OiBhbnk7XG4gIH0pOiBQcm9taXNlPHsgZGF0YTogYW55IHwgbnVsbCB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBtdXRhdGlvbiBDcmVhdGVSZXNwb25zZSgkaW5wdXQ6IENyZWF0ZVJlc3BvbnNlSW5wdXQhKSB7XG4gICAgICAgIGNyZWF0ZVJlc3BvbnNlKGlucHV0OiAkaW5wdXQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIHN1cnZleUxpbmtJZFxuICAgICAgICAgIHF1ZXN0aW9uSWRcbiAgICAgICAgICBhbnN3ZXJcbiAgICAgICAgICBtZXRhZGF0YVxuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgY3JlYXRlUmVzcG9uc2U6IGFueSB9PihxdWVyeSwgeyBpbnB1dCB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8uY3JlYXRlUmVzcG9uc2UgfHwgbnVsbCB9O1xuICB9XG5cbiAgYXN5bmMgbGlzdFJlc3BvbnNlc0J5U3VydmV5TGluayhzdXJ2ZXlMaW5rSWQ6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBhbnlbXSB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBxdWVyeSBMaXN0UmVzcG9uc2VzKCRmaWx0ZXI6IE1vZGVsUmVzcG9uc2VGaWx0ZXJJbnB1dCkge1xuICAgICAgICBsaXN0UmVzcG9uc2VzKGZpbHRlcjogJGZpbHRlcikge1xuICAgICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBzdXJ2ZXlMaW5rSWRcbiAgICAgICAgICAgIHF1ZXN0aW9uSWRcbiAgICAgICAgICAgIGFuc3dlclxuICAgICAgICAgICAgbWV0YWRhdGFcbiAgICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IGZpbHRlciA9IHtcbiAgICAgIHN1cnZleUxpbmtJZDogeyBlcTogc3VydmV5TGlua0lkIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBsaXN0UmVzcG9uc2VzOiB7IGl0ZW1zOiBhbnlbXSB9IH0+KHF1ZXJ5LCB7IGZpbHRlciB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8ubGlzdFJlc3BvbnNlcz8uaXRlbXMgfHwgW10gfTtcbiAgfVxuXG4gIC8vIFByb2plY3RWZW5kb3Igb3BlcmF0aW9uc1xuICBhc3luYyBsaXN0UHJvamVjdFZlbmRvcnMoZmlsdGVyPzogYW55KTogUHJvbWlzZTx7IGRhdGE6IGFueVtdIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIHF1ZXJ5IExpc3RQcm9qZWN0VmVuZG9ycygkZmlsdGVyOiBNb2RlbFByb2plY3RWZW5kb3JGaWx0ZXJJbnB1dCkge1xuICAgICAgICBsaXN0UHJvamVjdFZlbmRvcnMoZmlsdGVyOiAkZmlsdGVyKSB7XG4gICAgICAgICAgaXRlbXMge1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIHByb2plY3RJZFxuICAgICAgICAgICAgdmVuZG9ySWRcbiAgICAgICAgICAgIHF1b3RhXG4gICAgICAgICAgICBjdXJyZW50Q291bnRcbiAgICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgbGlzdFByb2plY3RWZW5kb3JzOiB7IGl0ZW1zOiBhbnlbXSB9IH0+KHF1ZXJ5LCB7IGZpbHRlciB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8ubGlzdFByb2plY3RWZW5kb3JzPy5pdGVtcyB8fCBbXSB9O1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlUHJvamVjdFZlbmRvcihpbnB1dDoge1xuICAgIHByb2plY3RJZDogc3RyaW5nO1xuICAgIHZlbmRvcklkOiBzdHJpbmc7XG4gICAgcXVvdGE/OiBudW1iZXI7XG4gICAgY3VycmVudENvdW50PzogbnVtYmVyO1xuICB9KTogUHJvbWlzZTx7IGRhdGE6IGFueSB8IG51bGwgfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgbXV0YXRpb24gQ3JlYXRlUHJvamVjdFZlbmRvcigkaW5wdXQ6IENyZWF0ZVByb2plY3RWZW5kb3JJbnB1dCEpIHtcbiAgICAgICAgY3JlYXRlUHJvamVjdFZlbmRvcihpbnB1dDogJGlucHV0KSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgICB2ZW5kb3JJZFxuICAgICAgICAgIHF1b3RhXG4gICAgICAgICAgY3VycmVudENvdW50XG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgY3JlYXRlSW5wdXQgPSB7XG4gICAgICBwcm9qZWN0SWQ6IGlucHV0LnByb2plY3RJZCxcbiAgICAgIHZlbmRvcklkOiBpbnB1dC52ZW5kb3JJZCxcbiAgICAgIHF1b3RhOiBpbnB1dC5xdW90YSB8fCAwLFxuICAgICAgY3VycmVudENvdW50OiBpbnB1dC5jdXJyZW50Q291bnQgfHwgMFxuICAgIH07XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGNyZWF0ZVByb2plY3RWZW5kb3I6IGFueSB9PihxdWVyeSwgeyBpbnB1dDogY3JlYXRlSW5wdXQgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LmNyZWF0ZVByb2plY3RWZW5kb3IgfHwgbnVsbCB9O1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlUHJvamVjdFZlbmRvcihwcm9qZWN0SWQ6IHN0cmluZywgdmVuZG9ySWQ6IHN0cmluZywgdXBkYXRlczoge1xuICAgIGN1cnJlbnRDb3VudD86IG51bWJlcjtcbiAgICBxdW90YT86IG51bWJlcjtcbiAgfSk6IFByb21pc2U8eyBkYXRhOiBhbnkgfCBudWxsIH0+IHtcbiAgICAvLyBGaXJzdCBmaW5kIHRoZSBQcm9qZWN0VmVuZG9yIHJlY29yZFxuICAgIGNvbnN0IGV4aXN0aW5nUmVzdWx0ID0gYXdhaXQgdGhpcy5saXN0UHJvamVjdFZlbmRvcnMoe1xuICAgICAgYW5kOiBbXG4gICAgICAgIHsgcHJvamVjdElkOiB7IGVxOiBwcm9qZWN0SWQgfSB9LFxuICAgICAgICB7IHZlbmRvcklkOiB7IGVxOiB2ZW5kb3JJZCB9IH1cbiAgICAgIF1cbiAgICB9KTtcblxuICAgIGlmIChleGlzdGluZ1Jlc3VsdC5kYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCB9O1xuICAgIH1cblxuICAgIGNvbnN0IHByb2plY3RWZW5kb3IgPSBleGlzdGluZ1Jlc3VsdC5kYXRhWzBdO1xuXG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBtdXRhdGlvbiBVcGRhdGVQcm9qZWN0VmVuZG9yKCRpbnB1dDogVXBkYXRlUHJvamVjdFZlbmRvcklucHV0ISkge1xuICAgICAgICB1cGRhdGVQcm9qZWN0VmVuZG9yKGlucHV0OiAkaW5wdXQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIHByb2plY3RJZFxuICAgICAgICAgIHZlbmRvcklkXG4gICAgICAgICAgcXVvdGFcbiAgICAgICAgICBjdXJyZW50Q291bnRcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgIGlkOiBwcm9qZWN0VmVuZG9yLmlkLFxuICAgICAgLi4udXBkYXRlc1xuICAgIH07XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IHVwZGF0ZVByb2plY3RWZW5kb3I6IGFueSB9PihxdWVyeSwgeyBpbnB1dCB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8udXBkYXRlUHJvamVjdFZlbmRvciB8fCBudWxsIH07XG4gIH1cbn1cblxuLy8gQ3JlYXRlIGEgc2luZ2xldG9uIGluc3RhbmNlXG5sZXQgc2VydmVyU2VydmljZTogQW1wbGlmeVNlcnZlclNlcnZpY2UgfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFtcGxpZnlTZXJ2ZXJTZXJ2aWNlKCk6IEFtcGxpZnlTZXJ2ZXJTZXJ2aWNlIHtcbiAgaWYgKCFzZXJ2ZXJTZXJ2aWNlKSB7XG4gICAgc2VydmVyU2VydmljZSA9IG5ldyBBbXBsaWZ5U2VydmVyU2VydmljZSgpO1xuICB9XG4gIHJldHVybiBzZXJ2ZXJTZXJ2aWNlO1xufVxuIl0sIm5hbWVzIjpbIkFtcGxpZnkiLCJvdXRwdXRzIiwiY29uZmlndXJlIiwiQW1wbGlmeVNlcnZlclNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImFwaUVuZHBvaW50IiwiZGF0YSIsInVybCIsImFwaUtleSIsImFwaV9rZXkiLCJtYWtlR3JhcGhRTFJlcXVlc3QiLCJxdWVyeSIsInZhcmlhYmxlcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsIkVycm9yIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImdldFByb2plY3QiLCJpZCIsInJlc3VsdCIsImdldFZlbmRvciIsImxpc3RWZW5kb3JzIiwiZmlsdGVyIiwiaXRlbXMiLCJjcmVhdGVWZW5kb3IiLCJpbnB1dCIsImRlbGV0ZVZlbmRvciIsImNyZWF0ZVN1cnZleUxpbmsiLCJsaXN0U3VydmV5TGlua3NCeVByb2plY3QiLCJwcm9qZWN0SWQiLCJlcSIsImxpc3RTdXJ2ZXlMaW5rcyIsImdldFN1cnZleUxpbmtCeVVpZCIsInVpZCIsImxlbmd0aCIsInVwZGF0ZVN1cnZleUxpbmsiLCJ1cGRhdGVJbnB1dCIsImNyZWF0ZVF1ZXN0aW9uIiwibGlzdFF1ZXN0aW9uc0J5UHJvamVjdCIsImxpc3RRdWVzdGlvbnMiLCJkZWxldGVRdWVzdGlvbiIsImNyZWF0ZVJlc3BvbnNlIiwibGlzdFJlc3BvbnNlc0J5U3VydmV5TGluayIsInN1cnZleUxpbmtJZCIsImxpc3RSZXNwb25zZXMiLCJsaXN0UHJvamVjdFZlbmRvcnMiLCJjcmVhdGVQcm9qZWN0VmVuZG9yIiwiY3JlYXRlSW5wdXQiLCJ2ZW5kb3JJZCIsInF1b3RhIiwiY3VycmVudENvdW50IiwidXBkYXRlUHJvamVjdFZlbmRvciIsInVwZGF0ZXMiLCJleGlzdGluZ1Jlc3VsdCIsImFuZCIsInByb2plY3RWZW5kb3IiLCJzZXJ2ZXJTZXJ2aWNlIiwiZ2V0QW1wbGlmeVNlcnZlclNlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/amplify-server-service.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/vendors/list.ts":
/*!***************************************!*\
  !*** ./src/pages/api/vendors/list.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/amplify-server-service */ \"(api)/./src/lib/amplify-server-service.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            success: false,\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        const { projectId } = req.query;\n        if (!projectId || typeof projectId !== \"string\") {\n            return res.status(400).json({\n                success: false,\n                message: \"Project ID is required\"\n            });\n        }\n        const amplifyServerService = (0,_lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_0__.getAmplifyServerService)();\n        // Get vendors through ProjectVendor relationships\n        const projectVendorsResult = await amplifyServerService.listProjectVendors({\n            projectId: {\n                eq: projectId\n            }\n        });\n        if (!projectVendorsResult.data || projectVendorsResult.data.length === 0) {\n            return res.status(200).json({\n                success: true,\n                vendors: []\n            });\n        }\n        // Get vendor details for each ProjectVendor relationship\n        const vendorIds = projectVendorsResult.data.map((pv)=>pv.vendorId).filter((id)=>id !== null && id !== undefined);\n        if (vendorIds.length === 0) {\n            return res.status(200).json({\n                success: true,\n                vendors: []\n            });\n        }\n        const vendorsResult = await amplifyServerService.listVendors({\n            id: {\n                in: vendorIds\n            }\n        });\n        const vendors = vendorsResult.data.map((vendor)=>{\n            // Extract vendor code from settings if it exists\n            let vendorCode = \"\";\n            try {\n                const settings = vendor.settings ? JSON.parse(vendor.settings) : {};\n                vendorCode = settings.code || \"\";\n            } catch (e) {\n                vendorCode = \"\";\n            }\n            return {\n                id: vendor.id,\n                name: vendor.name || \"\",\n                code: vendorCode\n            };\n        });\n        return res.status(200).json({\n            success: true,\n            vendors: vendors\n        });\n    } catch (error) {\n        console.error(\"Error listing vendors:\", error);\n        return res.status(500).json({\n            success: false,\n            message: \"Failed to list vendors\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3ZlbmRvcnMvbGlzdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUN1RTtBQUV4RCxlQUFlQyxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUM3RSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssT0FBTztRQUN4QixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBT0MsU0FBUztRQUFxQjtJQUM5RTtJQUVBLElBQUk7UUFDRixNQUFNLEVBQUVDLFNBQVMsRUFBRSxHQUFHUCxJQUFJUSxLQUFLO1FBRS9CLElBQUksQ0FBQ0QsYUFBYSxPQUFPQSxjQUFjLFVBQVU7WUFDL0MsT0FBT04sSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsU0FBUztnQkFBT0MsU0FBUztZQUF5QjtRQUNsRjtRQUVBLE1BQU1HLHVCQUF1Qlgsb0ZBQXVCQTtRQUVwRCxrREFBa0Q7UUFDbEQsTUFBTVksdUJBQXVCLE1BQU1ELHFCQUFxQkUsa0JBQWtCLENBQUM7WUFDekVKLFdBQVc7Z0JBQUVLLElBQUlMO1lBQVU7UUFDN0I7UUFFQSxJQUFJLENBQUNHLHFCQUFxQkcsSUFBSSxJQUFJSCxxQkFBcUJHLElBQUksQ0FBQ0MsTUFBTSxLQUFLLEdBQUc7WUFDeEUsT0FBT2IsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsU0FBUztnQkFBTVUsU0FBUyxFQUFFO1lBQUM7UUFDM0Q7UUFFQSx5REFBeUQ7UUFDekQsTUFBTUMsWUFBWU4scUJBQXFCRyxJQUFJLENBQ3hDSSxHQUFHLENBQUNDLENBQUFBLEtBQU1BLEdBQUdDLFFBQVEsRUFDckJDLE1BQU0sQ0FBQ0MsQ0FBQUEsS0FBTUEsT0FBTyxRQUFRQSxPQUFPQztRQUV0QyxJQUFJTixVQUFVRixNQUFNLEtBQUssR0FBRztZQUMxQixPQUFPYixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO2dCQUFNVSxTQUFTLEVBQUU7WUFBQztRQUMzRDtRQUVBLE1BQU1RLGdCQUFnQixNQUFNZCxxQkFBcUJlLFdBQVcsQ0FBQztZQUMzREgsSUFBSTtnQkFBRUksSUFBSVQ7WUFBVTtRQUN0QjtRQUVBLE1BQU1ELFVBQVVRLGNBQWNWLElBQUksQ0FBQ0ksR0FBRyxDQUFDUyxDQUFBQTtZQUNyQyxpREFBaUQ7WUFDakQsSUFBSUMsYUFBYTtZQUNqQixJQUFJO2dCQUNGLE1BQU1DLFdBQVdGLE9BQU9FLFFBQVEsR0FBR0MsS0FBS0MsS0FBSyxDQUFDSixPQUFPRSxRQUFRLElBQWMsQ0FBQztnQkFDNUVELGFBQWFDLFNBQVNHLElBQUksSUFBSTtZQUNoQyxFQUFFLE9BQU9DLEdBQUc7Z0JBQ1ZMLGFBQWE7WUFDZjtZQUVBLE9BQU87Z0JBQ0xOLElBQUlLLE9BQU9MLEVBQUU7Z0JBQ2JZLE1BQU1QLE9BQU9PLElBQUksSUFBSTtnQkFDckJGLE1BQU1KO1lBQ1I7UUFDRjtRQUVBLE9BQU8xQixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxTQUFTO1lBQ1RVLFNBQVNBO1FBQ1g7SUFFRixFQUFFLE9BQU9tQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU9qQyxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxTQUFTO1lBQ1RDLFNBQVM7UUFDWDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXJ2ZXktbGluay13cmFwcGVyLy4vc3JjL3BhZ2VzL2FwaS92ZW5kb3JzL2xpc3QudHM/MzI1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBnZXRBbXBsaWZ5U2VydmVyU2VydmljZSB9IGZyb20gJ0AvbGliL2FtcGxpZnktc2VydmVyLXNlcnZpY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBwcm9qZWN0SWQgfSA9IHJlcS5xdWVyeTtcblxuICAgIGlmICghcHJvamVjdElkIHx8IHR5cGVvZiBwcm9qZWN0SWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ1Byb2plY3QgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGFtcGxpZnlTZXJ2ZXJTZXJ2aWNlID0gZ2V0QW1wbGlmeVNlcnZlclNlcnZpY2UoKTtcbiAgICBcbiAgICAvLyBHZXQgdmVuZG9ycyB0aHJvdWdoIFByb2plY3RWZW5kb3IgcmVsYXRpb25zaGlwc1xuICAgIGNvbnN0IHByb2plY3RWZW5kb3JzUmVzdWx0ID0gYXdhaXQgYW1wbGlmeVNlcnZlclNlcnZpY2UubGlzdFByb2plY3RWZW5kb3JzKHtcbiAgICAgIHByb2plY3RJZDogeyBlcTogcHJvamVjdElkIH1cbiAgICB9KTtcblxuICAgIGlmICghcHJvamVjdFZlbmRvcnNSZXN1bHQuZGF0YSB8fCBwcm9qZWN0VmVuZG9yc1Jlc3VsdC5kYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgdmVuZG9yczogW10gfSk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHZlbmRvciBkZXRhaWxzIGZvciBlYWNoIFByb2plY3RWZW5kb3IgcmVsYXRpb25zaGlwXG4gICAgY29uc3QgdmVuZG9ySWRzID0gcHJvamVjdFZlbmRvcnNSZXN1bHQuZGF0YVxuICAgICAgLm1hcChwdiA9PiBwdi52ZW5kb3JJZClcbiAgICAgIC5maWx0ZXIoaWQgPT4gaWQgIT09IG51bGwgJiYgaWQgIT09IHVuZGVmaW5lZCk7XG5cbiAgICBpZiAodmVuZG9ySWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgdmVuZG9yczogW10gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgdmVuZG9yc1Jlc3VsdCA9IGF3YWl0IGFtcGxpZnlTZXJ2ZXJTZXJ2aWNlLmxpc3RWZW5kb3JzKHtcbiAgICAgIGlkOiB7IGluOiB2ZW5kb3JJZHMgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgdmVuZG9ycyA9IHZlbmRvcnNSZXN1bHQuZGF0YS5tYXAodmVuZG9yID0+IHtcbiAgICAgIC8vIEV4dHJhY3QgdmVuZG9yIGNvZGUgZnJvbSBzZXR0aW5ncyBpZiBpdCBleGlzdHNcbiAgICAgIGxldCB2ZW5kb3JDb2RlID0gJyc7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHZlbmRvci5zZXR0aW5ncyA/IEpTT04ucGFyc2UodmVuZG9yLnNldHRpbmdzIGFzIHN0cmluZykgOiB7fTtcbiAgICAgICAgdmVuZG9yQ29kZSA9IHNldHRpbmdzLmNvZGUgfHwgJyc7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHZlbmRvckNvZGUgPSAnJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHZlbmRvci5pZCxcbiAgICAgICAgbmFtZTogdmVuZG9yLm5hbWUgfHwgJycsXG4gICAgICAgIGNvZGU6IHZlbmRvckNvZGVcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHZlbmRvcnM6IHZlbmRvcnNcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxpc3RpbmcgdmVuZG9yczonLCBlcnJvcik7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGxpc3QgdmVuZG9ycycgXG4gICAgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsiZ2V0QW1wbGlmeVNlcnZlclNlcnZpY2UiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwicHJvamVjdElkIiwicXVlcnkiLCJhbXBsaWZ5U2VydmVyU2VydmljZSIsInByb2plY3RWZW5kb3JzUmVzdWx0IiwibGlzdFByb2plY3RWZW5kb3JzIiwiZXEiLCJkYXRhIiwibGVuZ3RoIiwidmVuZG9ycyIsInZlbmRvcklkcyIsIm1hcCIsInB2IiwidmVuZG9ySWQiLCJmaWx0ZXIiLCJpZCIsInVuZGVmaW5lZCIsInZlbmRvcnNSZXN1bHQiLCJsaXN0VmVuZG9ycyIsImluIiwidmVuZG9yIiwidmVuZG9yQ29kZSIsInNldHRpbmdzIiwiSlNPTiIsInBhcnNlIiwiY29kZSIsImUiLCJuYW1lIiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/vendors/list.ts\n");

/***/ }),

/***/ "(api)/./amplify_outputs.json":
/*!******************************!*\
  !*** ./amplify_outputs.json ***!
  \******************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"auth":{"user_pool_id":"us-east-1_Gh00T12dW","aws_region":"us-east-1","user_pool_client_id":"5e5a5drp00jd43tr7ph1ceg412","identity_pool_id":"us-east-1:a0b02f73-93a3-4b52-b1cb-eaa306375a33","mfa_methods":["SMS"],"standard_required_attributes":["email"],"username_attributes":["email"],"user_verification_types":["email"],"groups":[],"mfa_configuration":"OPTIONAL","password_policy":{"min_length":8,"require_lowercase":true,"require_numbers":true,"require_symbols":true,"require_uppercase":true},"unauthenticated_identities_enabled":true},"data":{"url":"https://vth6pntotrhvfpxo2gwn3kzqry.appsync-api.us-east-1.amazonaws.com/graphql","aws_region":"us-east-1","api_key":"da2-ee26yqskvzfpjpquwbi53shbvu","default_authorization_type":"AWS_IAM","authorization_types":["API_KEY","AMAZON_COGNITO_USER_POOLS"],"model_introspection":{"version":1,"models":{"Project":{"name":"Project","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"description":{"name":"description","isArray":false,"type":"String","isRequired":false,"attributes":[]},"status":{"name":"status","isArray":false,"type":{"enum":"ProjectStatus"},"isRequired":false,"attributes":[]},"targetCompletions":{"name":"targetCompletions","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"currentCompletions":{"name":"currentCompletions","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"surveyUrl":{"name":"surveyUrl","isArray":false,"type":"String","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"settings":{"name":"settings","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]}},"syncable":true,"pluralName":"Projects","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"Question":{"name":"Question","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"text":{"name":"text","isArray":false,"type":"String","isRequired":true,"attributes":[]},"type":{"name":"type","isArray":false,"type":{"enum":"QuestionType"},"isRequired":false,"attributes":[]},"options":{"name":"options","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"sequence":{"name":"sequence","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"isRequired":{"name":"isRequired","isArray":false,"type":"Boolean","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"Questions","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"SurveyLink":{"name":"SurveyLink","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"uid":{"name":"uid","isArray":false,"type":"String","isRequired":true,"attributes":[]},"status":{"name":"status","isArray":false,"type":{"enum":"SurveyLinkStatus"},"isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"clickedAt":{"name":"clickedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"completedAt":{"name":"completedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"ipAddress":{"name":"ipAddress","isArray":false,"type":"String","isRequired":false,"attributes":[]},"userAgent":{"name":"userAgent","isArray":false,"type":"String","isRequired":false,"attributes":[]},"geoData":{"name":"geoData","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"metadata":{"name":"metadata","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"vendorId":{"name":"vendorId","isArray":false,"type":"ID","isRequired":false,"attributes":[]}},"syncable":true,"pluralName":"SurveyLinks","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]},{"allow":"public","provider":"iam","operations":["read","update"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"Vendor":{"name":"Vendor","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"contactName":{"name":"contactName","isArray":false,"type":"String","isRequired":false,"attributes":[]},"contactEmail":{"name":"contactEmail","isArray":false,"type":"String","isRequired":false,"attributes":[]},"settings":{"name":"settings","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"Vendors","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"ProjectVendor":{"name":"ProjectVendor","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"vendorId":{"name":"vendorId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"quota":{"name":"quota","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"currentCount":{"name":"currentCount","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"ProjectVendors","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}}},"enums":{"ProjectStatus":{"name":"ProjectStatus","values":["ACTIVE","PAUSED","COMPLETED"]},"QuestionType":{"name":"QuestionType","values":["MULTIPLE_CHOICE","TEXT","COUNTRY","SCALE"]},"SurveyLinkStatus":{"name":"SurveyLinkStatus","values":["UNUSED","CLICKED","COMPLETED","DISQUALIFIED","QUOTA_FULL"]}},"nonModels":{}}},"version":"1.3"}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvendors%2Flist&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fvendors%2Flist.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();