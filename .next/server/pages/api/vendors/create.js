"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/vendors/create";
exports.ids = ["pages/api/vendors/create"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "aws-amplify":
/*!******************************!*\
  !*** external "aws-amplify" ***!
  \******************************/
/***/ ((module) => {

module.exports = import("aws-amplify");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvendors%2Fcreate&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fvendors%2Fcreate.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvendors%2Fcreate&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fvendors%2Fcreate.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_vendors_create_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/vendors/create.ts */ \"(api)/./src/pages/api/vendors/create.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_vendors_create_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_vendors_create_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_vendors_create_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_vendors_create_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/vendors/create\",\n        pathname: \"/api/vendors/create\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_vendors_create_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnZlbmRvcnMlMkZjcmVhdGUmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmFwaSUyRnZlbmRvcnMlMkZjcmVhdGUudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDOEQ7QUFDOUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDZEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyw2REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXJ2ZXktbGluay13cmFwcGVyLz85MzRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmMvcGFnZXMvYXBpL3ZlbmRvcnMvY3JlYXRlLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdmVuZG9ycy9jcmVhdGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS92ZW5kb3JzL2NyZWF0ZVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvendors%2Fcreate&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fvendors%2Fcreate.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/amplify-server-service.ts":
/*!*******************************************!*\
  !*** ./src/lib/amplify-server-service.ts ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAmplifyServerService: () => (/* binding */ getAmplifyServerService)\n/* harmony export */ });\n/* harmony import */ var aws_amplify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-amplify */ \"aws-amplify\");\n/* harmony import */ var _amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../amplify_outputs.json */ \"(api)/./amplify_outputs.json\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([aws_amplify__WEBPACK_IMPORTED_MODULE_0__]);\naws_amplify__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// Initialize Amplify\naws_amplify__WEBPACK_IMPORTED_MODULE_0__.Amplify.configure(_amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__);\nclass AmplifyServerService {\n    constructor(){\n        this.apiEndpoint = _amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__.data.url;\n        this.apiKey = _amplify_outputs_json__WEBPACK_IMPORTED_MODULE_1__.data.api_key;\n    }\n    async makeGraphQLRequest(query, variables = {}) {\n        try {\n            const response = await fetch(this.apiEndpoint, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"x-api-key\": this.apiKey\n                },\n                body: JSON.stringify({\n                    query,\n                    variables\n                })\n            });\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"GraphQL request failed:\", error);\n            throw error;\n        }\n    }\n    // Project operations\n    async getProject(id) {\n        const query = `\n      query GetProject($id: ID!) {\n        getProject(id: $id) {\n          id\n          name\n          description\n          status\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            id\n        });\n        return {\n            data: result.data?.getProject || null\n        };\n    }\n    // Vendor operations\n    async getVendor(id) {\n        const query = `\n      query GetVendor($id: ID!) {\n        getVendor(id: $id) {\n          id\n          name\n          contactName\n          contactEmail\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            id\n        });\n        return {\n            data: result.data?.getVendor || null\n        };\n    }\n    async listVendors(filter) {\n        const query = `\n      query ListVendors($filter: ModelVendorFilterInput) {\n        listVendors(filter: $filter) {\n          items {\n            id\n            name\n            contactName\n            contactEmail\n            settings\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listVendors?.items || []\n        };\n    }\n    async createVendor(input) {\n        const query = `\n      mutation CreateVendor($input: CreateVendorInput!) {\n        createVendor(input: $input) {\n          id\n          name\n          contactName\n          contactEmail\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        console.log(\"CreateVendor GraphQL query:\", query);\n        console.log(\"CreateVendor input:\", input);\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        console.log(\"CreateVendor complete result:\", JSON.stringify(result, null, 2));\n        if (result.errors) {\n            console.error(\"GraphQL errors in createVendor:\", result.errors);\n        }\n        return {\n            data: result.data?.createVendor || null\n        };\n    }\n    async deleteVendor(input) {\n        const query = `\n      mutation DeleteVendor($input: DeleteVendorInput!) {\n        deleteVendor(input: $input) {\n          id\n          name\n          contactName\n          contactEmail\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.deleteVendor || null\n        };\n    }\n    // SurveyLink operations\n    async createSurveyLink(input) {\n        const query = `\n      mutation CreateSurveyLink($input: CreateSurveyLinkInput!) {\n        createSurveyLink(input: $input) {\n          id\n          projectId\n          uid\n          vendorId\n          status\n          metadata\n          createdAt\n          updatedAt\n          clickedAt\n          completedAt\n          ipAddress\n          userAgent\n          geoData\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.createSurveyLink || null\n        };\n    }\n    async listSurveyLinksByProject(projectId) {\n        const query = `\n      query ListSurveyLinks($filter: ModelSurveyLinkFilterInput) {\n        listSurveyLinks(filter: $filter) {\n          items {\n            id\n            projectId\n            uid\n            vendorId\n            status\n            metadata\n            createdAt\n            updatedAt\n            clickedAt\n            completedAt\n            ipAddress\n            userAgent\n            geoData\n          }\n        }\n      }\n    `;\n        const filter = {\n            projectId: {\n                eq: projectId\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listSurveyLinks?.items || []\n        };\n    }\n    async getSurveyLinkByUid(uid) {\n        const query = `\n      query ListSurveyLinks($filter: ModelSurveyLinkFilterInput) {\n        listSurveyLinks(filter: $filter) {\n          items {\n            id\n            projectId\n            uid\n            vendorId\n            status\n            metadata\n            createdAt\n            updatedAt\n            clickedAt\n            completedAt\n            ipAddress\n            userAgent\n            geoData\n          }\n        }\n      }\n    `;\n        const filter = {\n            uid: {\n                eq: uid\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        const items = result.data?.listSurveyLinks?.items || [];\n        return {\n            data: items.length > 0 ? items[0] : null\n        };\n    }\n    async updateSurveyLink(id, input) {\n        const query = `\n      mutation UpdateSurveyLink($input: UpdateSurveyLinkInput!) {\n        updateSurveyLink(input: $input) {\n          id\n          projectId\n          uid\n          vendorId\n          status\n          metadata\n          createdAt\n          updatedAt\n          clickedAt\n          completedAt\n          ipAddress\n          userAgent\n          geoData\n        }\n      }\n    `;\n        const updateInput = {\n            id,\n            ...input\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            input: updateInput\n        });\n        return {\n            data: result.data?.updateSurveyLink || null\n        };\n    }\n    // Question operations\n    async createQuestion(input) {\n        const query = `\n      mutation CreateQuestion($input: CreateQuestionInput!) {\n        createQuestion(input: $input) {\n          id\n          projectId\n          text\n          type\n          options\n          sequence\n          isRequired\n          isTrap\n          settings\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.createQuestion || null\n        };\n    }\n    async listQuestionsByProject(projectId) {\n        const query = `\n      query ListQuestions($filter: ModelQuestionFilterInput) {\n        listQuestions(filter: $filter) {\n          items {\n            id\n            projectId\n            text\n            type\n            options\n            sequence\n            isRequired\n            isTrap\n            settings\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const filter = {\n            projectId: {\n                eq: projectId\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listQuestions?.items || []\n        };\n    }\n    async deleteQuestion(id) {\n        const query = `\n      mutation DeleteQuestion($input: DeleteQuestionInput!) {\n        deleteQuestion(input: $input) {\n          id\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input: {\n                id\n            }\n        });\n        return {\n            data: result.data?.deleteQuestion || null\n        };\n    }\n    // Response operations\n    async createResponse(input) {\n        const query = `\n      mutation CreateResponse($input: CreateResponseInput!) {\n        createResponse(input: $input) {\n          id\n          surveyLinkId\n          questionId\n          answer\n          metadata\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.createResponse || null\n        };\n    }\n    async listResponsesBySurveyLink(surveyLinkId) {\n        const query = `\n      query ListResponses($filter: ModelResponseFilterInput) {\n        listResponses(filter: $filter) {\n          items {\n            id\n            surveyLinkId\n            questionId\n            answer\n            metadata\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const filter = {\n            surveyLinkId: {\n                eq: surveyLinkId\n            }\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listResponses?.items || []\n        };\n    }\n    // ProjectVendor operations\n    async listProjectVendors(filter) {\n        const query = `\n      query ListProjectVendors($filter: ModelProjectVendorFilterInput) {\n        listProjectVendors(filter: $filter) {\n          items {\n            id\n            projectId\n            vendorId\n            quota\n            currentCount\n            createdAt\n            updatedAt\n          }\n        }\n      }\n    `;\n        const result = await this.makeGraphQLRequest(query, {\n            filter\n        });\n        return {\n            data: result.data?.listProjectVendors?.items || []\n        };\n    }\n    async createProjectVendor(input) {\n        const query = `\n      mutation CreateProjectVendor($input: CreateProjectVendorInput!) {\n        createProjectVendor(input: $input) {\n          id\n          projectId\n          vendorId\n          quota\n          currentCount\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const createInput = {\n            projectId: input.projectId,\n            vendorId: input.vendorId,\n            quota: input.quota || 0,\n            currentCount: input.currentCount || 0\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            input: createInput\n        });\n        return {\n            data: result.data?.createProjectVendor || null\n        };\n    }\n    async updateProjectVendor(projectId, vendorId, updates) {\n        // First find the ProjectVendor record\n        const existingResult = await this.listProjectVendors({\n            and: [\n                {\n                    projectId: {\n                        eq: projectId\n                    }\n                },\n                {\n                    vendorId: {\n                        eq: vendorId\n                    }\n                }\n            ]\n        });\n        if (existingResult.data.length === 0) {\n            return {\n                data: null\n            };\n        }\n        const projectVendor = existingResult.data[0];\n        const query = `\n      mutation UpdateProjectVendor($input: UpdateProjectVendorInput!) {\n        updateProjectVendor(input: $input) {\n          id\n          projectId\n          vendorId\n          quota\n          currentCount\n          createdAt\n          updatedAt\n        }\n      }\n    `;\n        const input = {\n            id: projectVendor.id,\n            ...updates\n        };\n        const result = await this.makeGraphQLRequest(query, {\n            input\n        });\n        return {\n            data: result.data?.updateProjectVendor || null\n        };\n    }\n}\n// Create a singleton instance\nlet serverService = null;\nfunction getAmplifyServerService() {\n    if (!serverService) {\n        serverService = new AmplifyServerService();\n    }\n    return serverService;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2FtcGxpZnktc2VydmVyLXNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNDO0FBQ1c7QUFFakQscUJBQXFCO0FBQ3JCQSxnREFBT0EsQ0FBQ0UsU0FBUyxDQUFDRCxrREFBT0E7QUFpRnpCLE1BQU1FO0lBSUpDLGFBQWM7UUFDWixJQUFJLENBQUNDLFdBQVcsR0FBR0osdURBQVksQ0FBQ00sR0FBRztRQUNuQyxJQUFJLENBQUNDLE1BQU0sR0FBR1AsdURBQVksQ0FBQ1EsT0FBTztJQUNwQztJQUVBLE1BQWNDLG1CQUFzQkMsS0FBYSxFQUFFQyxZQUFpQixDQUFDLENBQUMsRUFBK0I7UUFDbkcsSUFBSTtZQUNGLE1BQU1DLFdBQVcsTUFBTUMsTUFBTSxJQUFJLENBQUNULFdBQVcsRUFBRTtnQkFDN0NVLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQ1AsZ0JBQWdCO29CQUNoQixhQUFhLElBQUksQ0FBQ1IsTUFBTTtnQkFDMUI7Z0JBQ0FTLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkJSO29CQUNBQztnQkFDRjtZQUNGO1lBRUEsSUFBSSxDQUFDQyxTQUFTTyxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLG9CQUFvQixFQUFFUixTQUFTUyxNQUFNLENBQUMsQ0FBQztZQUMxRDtZQUVBLE9BQU8sTUFBTVQsU0FBU1UsSUFBSTtRQUM1QixFQUFFLE9BQU9DLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDJCQUEyQkE7WUFDekMsTUFBTUE7UUFDUjtJQUNGO0lBRUEscUJBQXFCO0lBQ3JCLE1BQU1FLFdBQVdDLEVBQVUsRUFBcUM7UUFDOUQsTUFBTWhCLFFBQVEsQ0FBQzs7Ozs7Ozs7Ozs7SUFXZixDQUFDO1FBRUQsTUFBTWlCLFNBQVMsTUFBTSxJQUFJLENBQUNsQixrQkFBa0IsQ0FBMEJDLE9BQU87WUFBRWdCO1FBQUc7UUFDbEYsT0FBTztZQUFFckIsTUFBTXNCLE9BQU90QixJQUFJLEVBQUVvQixj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LElBQUlLLGdCQUE2QztBQUUxQyxTQUFTQztJQUNkLElBQUksQ0FBQ0QsZUFBZTtRQUNsQkEsZ0JBQWdCLElBQUloRTtJQUN0QjtJQUNBLE9BQU9nRTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VydmV5LWxpbmstd3JhcHBlci8uL3NyYy9saWIvYW1wbGlmeS1zZXJ2ZXItc2VydmljZS50cz9lYjk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICdhd3MtYW1wbGlmeSc7XG5pbXBvcnQgb3V0cHV0cyBmcm9tICcuLi8uLi9hbXBsaWZ5X291dHB1dHMuanNvbic7XG5cbi8vIEluaXRpYWxpemUgQW1wbGlmeVxuQW1wbGlmeS5jb25maWd1cmUob3V0cHV0cyk7XG5cbi8vIFR5cGUgZGVmaW5pdGlvbnMgbWF0Y2hpbmcgdGhlIHNjaGVtYVxudHlwZSBQcm9qZWN0U3RhdHVzID0gJ0FDVElWRScgfCAnUEFVU0VEJyB8ICdDT01QTEVURUQnO1xudHlwZSBTdXJ2ZXlMaW5rU3RhdHVzID0gJ1VOVVNFRCcgfCAnQ0xJQ0tFRCcgfCAnQ09NUExFVEVEJyB8ICdESVNRVUFMSUZJRUQnIHwgJ1FVT1RBX0ZVTEwnO1xuXG5pbnRlcmZhY2UgUHJvamVjdCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHN0YXR1czogUHJvamVjdFN0YXR1cztcbiAgdGFyZ2V0Q29tcGxldGlvbnM6IG51bWJlcjtcbiAgY3VycmVudENvbXBsZXRpb25zOiBudW1iZXI7XG4gIHN1cnZleVVybDogc3RyaW5nO1xuICBzZXR0aW5ncz86IGFueTtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVmVuZG9yIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBjb250YWN0TmFtZT86IHN0cmluZztcbiAgY29udGFjdEVtYWlsPzogc3RyaW5nO1xuICBzZXR0aW5ncz86IGFueTtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU3VydmV5TGluayB7XG4gIGlkOiBzdHJpbmc7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICB1aWQ6IHN0cmluZztcbiAgdmVuZG9ySWQ/OiBzdHJpbmc7XG4gIHN0YXR1czogU3VydmV5TGlua1N0YXR1cztcbiAgY2xpY2tlZEF0Pzogc3RyaW5nO1xuICBjb21wbGV0ZWRBdD86IHN0cmluZztcbiAgaXBBZGRyZXNzPzogc3RyaW5nO1xuICB1c2VyQWdlbnQ/OiBzdHJpbmc7XG4gIGdlb0RhdGE/OiBhbnk7XG4gIG1ldGFkYXRhPzogYW55O1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBRdWVzdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG4gIHR5cGU6IHN0cmluZztcbiAgb3B0aW9ucz86IGFueTtcbiAgc2VxdWVuY2U6IG51bWJlcjtcbiAgaXNSZXF1aXJlZDogYm9vbGVhbjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUmVzcG9uc2Uge1xuICBpZDogc3RyaW5nO1xuICBzdXJ2ZXlMaW5rSWQ6IHN0cmluZztcbiAgcXVlc3Rpb25JZDogc3RyaW5nO1xuICBhbnN3ZXI6IHN0cmluZztcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUHJvamVjdFZlbmRvciB7XG4gIGlkOiBzdHJpbmc7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICB2ZW5kb3JJZDogc3RyaW5nO1xuICBxdW90YTogbnVtYmVyO1xuICBjdXJyZW50Q291bnQ6IG51bWJlcjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgR3JhcGhRTFJlc3BvbnNlPFQ+IHtcbiAgZGF0YT86IFQ7XG4gIGVycm9ycz86IEFycmF5PHsgbWVzc2FnZTogc3RyaW5nIH0+O1xufVxuXG5jbGFzcyBBbXBsaWZ5U2VydmVyU2VydmljZSB7XG4gIHByaXZhdGUgYXBpRW5kcG9pbnQ6IHN0cmluZztcbiAgcHJpdmF0ZSBhcGlLZXk6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFwaUVuZHBvaW50ID0gb3V0cHV0cy5kYXRhLnVybDtcbiAgICB0aGlzLmFwaUtleSA9IG91dHB1dHMuZGF0YS5hcGlfa2V5O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBtYWtlR3JhcGhRTFJlcXVlc3Q8VD4ocXVlcnk6IHN0cmluZywgdmFyaWFibGVzOiBhbnkgPSB7fSk6IFByb21pc2U8R3JhcGhRTFJlc3BvbnNlPFQ+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5hcGlFbmRwb2ludCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ3gtYXBpLWtleSc6IHRoaXMuYXBpS2V5LFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcXVlcnksXG4gICAgICAgICAgdmFyaWFibGVzLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignR3JhcGhRTCByZXF1ZXN0IGZhaWxlZDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBQcm9qZWN0IG9wZXJhdGlvbnNcbiAgYXN5bmMgZ2V0UHJvamVjdChpZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IFByb2plY3QgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIHF1ZXJ5IEdldFByb2plY3QoJGlkOiBJRCEpIHtcbiAgICAgICAgZ2V0UHJvamVjdChpZDogJGlkKSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBuYW1lXG4gICAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgICAgICBzdGF0dXNcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGdldFByb2plY3Q6IFByb2plY3QgfT4ocXVlcnksIHsgaWQgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LmdldFByb2plY3QgfHwgbnVsbCB9O1xuICB9XG5cbiAgLy8gVmVuZG9yIG9wZXJhdGlvbnNcbiAgYXN5bmMgZ2V0VmVuZG9yKGlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogVmVuZG9yIHwgbnVsbCB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBxdWVyeSBHZXRWZW5kb3IoJGlkOiBJRCEpIHtcbiAgICAgICAgZ2V0VmVuZG9yKGlkOiAkaWQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgICBjb250YWN0TmFtZVxuICAgICAgICAgIGNvbnRhY3RFbWFpbFxuICAgICAgICAgIHNldHRpbmdzXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBnZXRWZW5kb3I6IFZlbmRvciB9PihxdWVyeSwgeyBpZCB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8uZ2V0VmVuZG9yIHx8IG51bGwgfTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RWZW5kb3JzKGZpbHRlcj86IGFueSk6IFByb21pc2U8eyBkYXRhOiBWZW5kb3JbXSB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBxdWVyeSBMaXN0VmVuZG9ycygkZmlsdGVyOiBNb2RlbFZlbmRvckZpbHRlcklucHV0KSB7XG4gICAgICAgIGxpc3RWZW5kb3JzKGZpbHRlcjogJGZpbHRlcikge1xuICAgICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICBjb250YWN0TmFtZVxuICAgICAgICAgICAgY29udGFjdEVtYWlsXG4gICAgICAgICAgICBzZXR0aW5nc1xuICAgICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBsaXN0VmVuZG9yczogeyBpdGVtczogVmVuZG9yW10gfSB9PihxdWVyeSwgeyBmaWx0ZXIgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/Lmxpc3RWZW5kb3JzPy5pdGVtcyB8fCBbXSB9O1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlVmVuZG9yKGlucHV0OiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGNvbnRhY3ROYW1lPzogc3RyaW5nO1xuICAgIGNvbnRhY3RFbWFpbD86IHN0cmluZztcbiAgICBzZXR0aW5ncz86IHN0cmluZztcbiAgfSk6IFByb21pc2U8eyBkYXRhOiBWZW5kb3IgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIG11dGF0aW9uIENyZWF0ZVZlbmRvcigkaW5wdXQ6IENyZWF0ZVZlbmRvcklucHV0ISkge1xuICAgICAgICBjcmVhdGVWZW5kb3IoaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgbmFtZVxuICAgICAgICAgIGNvbnRhY3ROYW1lXG4gICAgICAgICAgY29udGFjdEVtYWlsXG4gICAgICAgICAgc2V0dGluZ3NcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zb2xlLmxvZygnQ3JlYXRlVmVuZG9yIEdyYXBoUUwgcXVlcnk6JywgcXVlcnkpO1xuICAgIGNvbnNvbGUubG9nKCdDcmVhdGVWZW5kb3IgaW5wdXQ6JywgaW5wdXQpO1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgY3JlYXRlVmVuZG9yOiBWZW5kb3IgfT4ocXVlcnksIHsgaW5wdXQgfSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0NyZWF0ZVZlbmRvciBjb21wbGV0ZSByZXN1bHQ6JywgSlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCAyKSk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5lcnJvcnMpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0dyYXBoUUwgZXJyb3JzIGluIGNyZWF0ZVZlbmRvcjonLCByZXN1bHQuZXJyb3JzKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LmNyZWF0ZVZlbmRvciB8fCBudWxsIH07XG4gIH1cblxuICBhc3luYyBkZWxldGVWZW5kb3IoaW5wdXQ6IHsgaWQ6IHN0cmluZyB9KTogUHJvbWlzZTx7IGRhdGE6IFZlbmRvciB8IG51bGwgfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgbXV0YXRpb24gRGVsZXRlVmVuZG9yKCRpbnB1dDogRGVsZXRlVmVuZG9ySW5wdXQhKSB7XG4gICAgICAgIGRlbGV0ZVZlbmRvcihpbnB1dDogJGlucHV0KSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBuYW1lXG4gICAgICAgICAgY29udGFjdE5hbWVcbiAgICAgICAgICBjb250YWN0RW1haWxcbiAgICAgICAgICBzZXR0aW5nc1xuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgZGVsZXRlVmVuZG9yOiBWZW5kb3IgfT4ocXVlcnksIHsgaW5wdXQgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/LmRlbGV0ZVZlbmRvciB8fCBudWxsIH07XG4gIH1cblxuICAvLyBTdXJ2ZXlMaW5rIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlU3VydmV5TGluayhpbnB1dDoge1xuICAgIHByb2plY3RJZDogc3RyaW5nO1xuICAgIHVpZDogc3RyaW5nO1xuICAgIHZlbmRvcklkPzogc3RyaW5nO1xuICAgIHN0YXR1czogc3RyaW5nO1xuICAgIG1ldGFkYXRhPzogc3RyaW5nO1xuICAgIGdlb0RhdGE/OiBhbnk7XG4gIH0pOiBQcm9taXNlPHsgZGF0YTogU3VydmV5TGluayB8IG51bGwgfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgbXV0YXRpb24gQ3JlYXRlU3VydmV5TGluaygkaW5wdXQ6IENyZWF0ZVN1cnZleUxpbmtJbnB1dCEpIHtcbiAgICAgICAgY3JlYXRlU3VydmV5TGluayhpbnB1dDogJGlucHV0KSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgICB1aWRcbiAgICAgICAgICB2ZW5kb3JJZFxuICAgICAgICAgIHN0YXR1c1xuICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgICAgY2xpY2tlZEF0XG4gICAgICAgICAgY29tcGxldGVkQXRcbiAgICAgICAgICBpcEFkZHJlc3NcbiAgICAgICAgICB1c2VyQWdlbnRcbiAgICAgICAgICBnZW9EYXRhXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBjcmVhdGVTdXJ2ZXlMaW5rOiBTdXJ2ZXlMaW5rIH0+KHF1ZXJ5LCB7IGlucHV0IH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5jcmVhdGVTdXJ2ZXlMaW5rIHx8IG51bGwgfTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RTdXJ2ZXlMaW5rc0J5UHJvamVjdChwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBTdXJ2ZXlMaW5rW10gfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgcXVlcnkgTGlzdFN1cnZleUxpbmtzKCRmaWx0ZXI6IE1vZGVsU3VydmV5TGlua0ZpbHRlcklucHV0KSB7XG4gICAgICAgIGxpc3RTdXJ2ZXlMaW5rcyhmaWx0ZXI6ICRmaWx0ZXIpIHtcbiAgICAgICAgICBpdGVtcyB7XG4gICAgICAgICAgICBpZFxuICAgICAgICAgICAgcHJvamVjdElkXG4gICAgICAgICAgICB1aWRcbiAgICAgICAgICAgIHZlbmRvcklkXG4gICAgICAgICAgICBzdGF0dXNcbiAgICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICAgICAgY2xpY2tlZEF0XG4gICAgICAgICAgICBjb21wbGV0ZWRBdFxuICAgICAgICAgICAgaXBBZGRyZXNzXG4gICAgICAgICAgICB1c2VyQWdlbnRcbiAgICAgICAgICAgIGdlb0RhdGFcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgZmlsdGVyID0ge1xuICAgICAgcHJvamVjdElkOiB7IGVxOiBwcm9qZWN0SWQgfVxuICAgIH07XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGxpc3RTdXJ2ZXlMaW5rczogeyBpdGVtczogU3VydmV5TGlua1tdIH0gfT4ocXVlcnksIHsgZmlsdGVyIH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5saXN0U3VydmV5TGlua3M/Lml0ZW1zIHx8IFtdIH07XG4gIH1cblxuICBhc3luYyBnZXRTdXJ2ZXlMaW5rQnlVaWQodWlkOiBzdHJpbmcpOiBQcm9taXNlPHsgZGF0YTogU3VydmV5TGluayB8IG51bGwgfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgcXVlcnkgTGlzdFN1cnZleUxpbmtzKCRmaWx0ZXI6IE1vZGVsU3VydmV5TGlua0ZpbHRlcklucHV0KSB7XG4gICAgICAgIGxpc3RTdXJ2ZXlMaW5rcyhmaWx0ZXI6ICRmaWx0ZXIpIHtcbiAgICAgICAgICBpdGVtcyB7XG4gICAgICAgICAgICBpZFxuICAgICAgICAgICAgcHJvamVjdElkXG4gICAgICAgICAgICB1aWRcbiAgICAgICAgICAgIHZlbmRvcklkXG4gICAgICAgICAgICBzdGF0dXNcbiAgICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICAgICAgY2xpY2tlZEF0XG4gICAgICAgICAgICBjb21wbGV0ZWRBdFxuICAgICAgICAgICAgaXBBZGRyZXNzXG4gICAgICAgICAgICB1c2VyQWdlbnRcbiAgICAgICAgICAgIGdlb0RhdGFcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgZmlsdGVyID0ge1xuICAgICAgdWlkOiB7IGVxOiB1aWQgfVxuICAgIH07XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGxpc3RTdXJ2ZXlMaW5rczogeyBpdGVtczogU3VydmV5TGlua1tdIH0gfT4ocXVlcnksIHsgZmlsdGVyIH0pO1xuICAgIGNvbnN0IGl0ZW1zID0gcmVzdWx0LmRhdGE/Lmxpc3RTdXJ2ZXlMaW5rcz8uaXRlbXMgfHwgW107XG4gICAgcmV0dXJuIHsgZGF0YTogaXRlbXMubGVuZ3RoID4gMCA/IGl0ZW1zWzBdIDogbnVsbCB9O1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlU3VydmV5TGluayhpZDogc3RyaW5nLCBpbnB1dDoge1xuICAgIHN0YXR1cz86IHN0cmluZztcbiAgICBjbGlja2VkQXQ/OiBzdHJpbmc7XG4gICAgY29tcGxldGVkQXQ/OiBzdHJpbmc7XG4gICAgaXBBZGRyZXNzPzogc3RyaW5nO1xuICAgIHVzZXJBZ2VudD86IHN0cmluZztcbiAgICBnZW9EYXRhPzogYW55O1xuICAgIG1ldGFkYXRhPzogc3RyaW5nO1xuICB9KTogUHJvbWlzZTx7IGRhdGE6IFN1cnZleUxpbmsgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIG11dGF0aW9uIFVwZGF0ZVN1cnZleUxpbmsoJGlucHV0OiBVcGRhdGVTdXJ2ZXlMaW5rSW5wdXQhKSB7XG4gICAgICAgIHVwZGF0ZVN1cnZleUxpbmsoaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgcHJvamVjdElkXG4gICAgICAgICAgdWlkXG4gICAgICAgICAgdmVuZG9ySWRcbiAgICAgICAgICBzdGF0dXNcbiAgICAgICAgICBtZXRhZGF0YVxuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICAgIGNsaWNrZWRBdFxuICAgICAgICAgIGNvbXBsZXRlZEF0XG4gICAgICAgICAgaXBBZGRyZXNzXG4gICAgICAgICAgdXNlckFnZW50XG4gICAgICAgICAgZ2VvRGF0YVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IHVwZGF0ZUlucHV0ID0geyBpZCwgLi4uaW5wdXQgfTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IHVwZGF0ZVN1cnZleUxpbms6IFN1cnZleUxpbmsgfT4ocXVlcnksIHsgaW5wdXQ6IHVwZGF0ZUlucHV0IH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy51cGRhdGVTdXJ2ZXlMaW5rIHx8IG51bGwgfTtcbiAgfVxuXG4gIC8vIFF1ZXN0aW9uIG9wZXJhdGlvbnNcbiAgYXN5bmMgY3JlYXRlUXVlc3Rpb24oaW5wdXQ6IHtcbiAgICBwcm9qZWN0SWQ6IHN0cmluZztcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIG9wdGlvbnM/OiBhbnk7XG4gICAgc2VxdWVuY2U6IG51bWJlcjtcbiAgICBpc1JlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBpc1RyYXA/OiBib29sZWFuO1xuICAgIHNldHRpbmdzPzogYW55O1xuICB9KTogUHJvbWlzZTx7IGRhdGE6IGFueSB8IG51bGwgfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgbXV0YXRpb24gQ3JlYXRlUXVlc3Rpb24oJGlucHV0OiBDcmVhdGVRdWVzdGlvbklucHV0ISkge1xuICAgICAgICBjcmVhdGVRdWVzdGlvbihpbnB1dDogJGlucHV0KSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgICB0ZXh0XG4gICAgICAgICAgdHlwZVxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICBzZXF1ZW5jZVxuICAgICAgICAgIGlzUmVxdWlyZWRcbiAgICAgICAgICBpc1RyYXBcbiAgICAgICAgICBzZXR0aW5nc1xuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgY3JlYXRlUXVlc3Rpb246IGFueSB9PihxdWVyeSwgeyBpbnB1dCB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8uY3JlYXRlUXVlc3Rpb24gfHwgbnVsbCB9O1xuICB9XG5cbiAgYXN5bmMgbGlzdFF1ZXN0aW9uc0J5UHJvamVjdChwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8eyBkYXRhOiBhbnlbXSB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBxdWVyeSBMaXN0UXVlc3Rpb25zKCRmaWx0ZXI6IE1vZGVsUXVlc3Rpb25GaWx0ZXJJbnB1dCkge1xuICAgICAgICBsaXN0UXVlc3Rpb25zKGZpbHRlcjogJGZpbHRlcikge1xuICAgICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgIHNlcXVlbmNlXG4gICAgICAgICAgICBpc1JlcXVpcmVkXG4gICAgICAgICAgICBpc1RyYXBcbiAgICAgICAgICAgIHNldHRpbmdzXG4gICAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCBmaWx0ZXIgPSB7XG4gICAgICBwcm9qZWN0SWQ6IHsgZXE6IHByb2plY3RJZCB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgbGlzdFF1ZXN0aW9uczogeyBpdGVtczogYW55W10gfSB9PihxdWVyeSwgeyBmaWx0ZXIgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogcmVzdWx0LmRhdGE/Lmxpc3RRdWVzdGlvbnM/Lml0ZW1zIHx8IFtdIH07XG4gIH1cblxuICBhc3luYyBkZWxldGVRdWVzdGlvbihpZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IGFueSB8IG51bGwgfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgbXV0YXRpb24gRGVsZXRlUXVlc3Rpb24oJGlucHV0OiBEZWxldGVRdWVzdGlvbklucHV0ISkge1xuICAgICAgICBkZWxldGVRdWVzdGlvbihpbnB1dDogJGlucHV0KSB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGRlbGV0ZVF1ZXN0aW9uOiBhbnkgfT4ocXVlcnksIHsgaW5wdXQ6IHsgaWQgfSB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8uZGVsZXRlUXVlc3Rpb24gfHwgbnVsbCB9O1xuICB9XG5cbiAgLy8gUmVzcG9uc2Ugb3BlcmF0aW9uc1xuICBhc3luYyBjcmVhdGVSZXNwb25zZShpbnB1dDoge1xuICAgIHN1cnZleUxpbmtJZDogc3RyaW5nO1xuICAgIHF1ZXN0aW9uSWQ6IHN0cmluZztcbiAgICBhbnN3ZXI6IHN0cmluZztcbiAgICBtZXRhZGF0YT86IGFueTtcbiAgfSk6IFByb21pc2U8eyBkYXRhOiBhbnkgfCBudWxsIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIG11dGF0aW9uIENyZWF0ZVJlc3BvbnNlKCRpbnB1dDogQ3JlYXRlUmVzcG9uc2VJbnB1dCEpIHtcbiAgICAgICAgY3JlYXRlUmVzcG9uc2UoaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgc3VydmV5TGlua0lkXG4gICAgICAgICAgcXVlc3Rpb25JZFxuICAgICAgICAgIGFuc3dlclxuICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgdXBkYXRlZEF0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBjcmVhdGVSZXNwb25zZTogYW55IH0+KHF1ZXJ5LCB7IGlucHV0IH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5jcmVhdGVSZXNwb25zZSB8fCBudWxsIH07XG4gIH1cblxuICBhc3luYyBsaXN0UmVzcG9uc2VzQnlTdXJ2ZXlMaW5rKHN1cnZleUxpbmtJZDogc3RyaW5nKTogUHJvbWlzZTx7IGRhdGE6IGFueVtdIH0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIHF1ZXJ5IExpc3RSZXNwb25zZXMoJGZpbHRlcjogTW9kZWxSZXNwb25zZUZpbHRlcklucHV0KSB7XG4gICAgICAgIGxpc3RSZXNwb25zZXMoZmlsdGVyOiAkZmlsdGVyKSB7XG4gICAgICAgICAgaXRlbXMge1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIHN1cnZleUxpbmtJZFxuICAgICAgICAgICAgcXVlc3Rpb25JZFxuICAgICAgICAgICAgYW5zd2VyXG4gICAgICAgICAgICBtZXRhZGF0YVxuICAgICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgZmlsdGVyID0ge1xuICAgICAgc3VydmV5TGlua0lkOiB7IGVxOiBzdXJ2ZXlMaW5rSWQgfVxuICAgIH07XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VHcmFwaFFMUmVxdWVzdDx7IGxpc3RSZXNwb25zZXM6IHsgaXRlbXM6IGFueVtdIH0gfT4ocXVlcnksIHsgZmlsdGVyIH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5saXN0UmVzcG9uc2VzPy5pdGVtcyB8fCBbXSB9O1xuICB9XG5cbiAgLy8gUHJvamVjdFZlbmRvciBvcGVyYXRpb25zXG4gIGFzeW5jIGxpc3RQcm9qZWN0VmVuZG9ycyhmaWx0ZXI/OiBhbnkpOiBQcm9taXNlPHsgZGF0YTogYW55W10gfT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgcXVlcnkgTGlzdFByb2plY3RWZW5kb3JzKCRmaWx0ZXI6IE1vZGVsUHJvamVjdFZlbmRvckZpbHRlcklucHV0KSB7XG4gICAgICAgIGxpc3RQcm9qZWN0VmVuZG9ycyhmaWx0ZXI6ICRmaWx0ZXIpIHtcbiAgICAgICAgICBpdGVtcyB7XG4gICAgICAgICAgICBpZFxuICAgICAgICAgICAgcHJvamVjdElkXG4gICAgICAgICAgICB2ZW5kb3JJZFxuICAgICAgICAgICAgcXVvdGFcbiAgICAgICAgICAgIGN1cnJlbnRDb3VudFxuICAgICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5tYWtlR3JhcGhRTFJlcXVlc3Q8eyBsaXN0UHJvamVjdFZlbmRvcnM6IHsgaXRlbXM6IGFueVtdIH0gfT4ocXVlcnksIHsgZmlsdGVyIH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy5saXN0UHJvamVjdFZlbmRvcnM/Lml0ZW1zIHx8IFtdIH07XG4gIH1cblxuICBhc3luYyBjcmVhdGVQcm9qZWN0VmVuZG9yKGlucHV0OiB7XG4gICAgcHJvamVjdElkOiBzdHJpbmc7XG4gICAgdmVuZG9ySWQ6IHN0cmluZztcbiAgICBxdW90YT86IG51bWJlcjtcbiAgICBjdXJyZW50Q291bnQ/OiBudW1iZXI7XG4gIH0pOiBQcm9taXNlPHsgZGF0YTogYW55IHwgbnVsbCB9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICBtdXRhdGlvbiBDcmVhdGVQcm9qZWN0VmVuZG9yKCRpbnB1dDogQ3JlYXRlUHJvamVjdFZlbmRvcklucHV0ISkge1xuICAgICAgICBjcmVhdGVQcm9qZWN0VmVuZG9yKGlucHV0OiAkaW5wdXQpIHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIHByb2plY3RJZFxuICAgICAgICAgIHZlbmRvcklkXG4gICAgICAgICAgcXVvdGFcbiAgICAgICAgICBjdXJyZW50Q291bnRcbiAgICAgICAgICBjcmVhdGVkQXRcbiAgICAgICAgICB1cGRhdGVkQXRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG5cbiAgICBjb25zdCBjcmVhdGVJbnB1dCA9IHtcbiAgICAgIHByb2plY3RJZDogaW5wdXQucHJvamVjdElkLFxuICAgICAgdmVuZG9ySWQ6IGlucHV0LnZlbmRvcklkLFxuICAgICAgcXVvdGE6IGlucHV0LnF1b3RhIHx8IDAsXG4gICAgICBjdXJyZW50Q291bnQ6IGlucHV0LmN1cnJlbnRDb3VudCB8fCAwXG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgY3JlYXRlUHJvamVjdFZlbmRvcjogYW55IH0+KHF1ZXJ5LCB7IGlucHV0OiBjcmVhdGVJbnB1dCB9KTtcbiAgICByZXR1cm4geyBkYXRhOiByZXN1bHQuZGF0YT8uY3JlYXRlUHJvamVjdFZlbmRvciB8fCBudWxsIH07XG4gIH1cblxuICBhc3luYyB1cGRhdGVQcm9qZWN0VmVuZG9yKHByb2plY3RJZDogc3RyaW5nLCB2ZW5kb3JJZDogc3RyaW5nLCB1cGRhdGVzOiB7XG4gICAgY3VycmVudENvdW50PzogbnVtYmVyO1xuICAgIHF1b3RhPzogbnVtYmVyO1xuICB9KTogUHJvbWlzZTx7IGRhdGE6IGFueSB8IG51bGwgfT4ge1xuICAgIC8vIEZpcnN0IGZpbmQgdGhlIFByb2plY3RWZW5kb3IgcmVjb3JkXG4gICAgY29uc3QgZXhpc3RpbmdSZXN1bHQgPSBhd2FpdCB0aGlzLmxpc3RQcm9qZWN0VmVuZG9ycyh7XG4gICAgICBhbmQ6IFtcbiAgICAgICAgeyBwcm9qZWN0SWQ6IHsgZXE6IHByb2plY3RJZCB9IH0sXG4gICAgICAgIHsgdmVuZG9ySWQ6IHsgZXE6IHZlbmRvcklkIH0gfVxuICAgICAgXVxuICAgIH0pO1xuXG4gICAgaWYgKGV4aXN0aW5nUmVzdWx0LmRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsIH07XG4gICAgfVxuXG4gICAgY29uc3QgcHJvamVjdFZlbmRvciA9IGV4aXN0aW5nUmVzdWx0LmRhdGFbMF07XG5cbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIG11dGF0aW9uIFVwZGF0ZVByb2plY3RWZW5kb3IoJGlucHV0OiBVcGRhdGVQcm9qZWN0VmVuZG9ySW5wdXQhKSB7XG4gICAgICAgIHVwZGF0ZVByb2plY3RWZW5kb3IoaW5wdXQ6ICRpbnB1dCkge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgcHJvamVjdElkXG4gICAgICAgICAgdmVuZG9ySWRcbiAgICAgICAgICBxdW90YVxuICAgICAgICAgIGN1cnJlbnRDb3VudFxuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICAgIHVwZGF0ZWRBdFxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcblxuICAgIGNvbnN0IGlucHV0ID0ge1xuICAgICAgaWQ6IHByb2plY3RWZW5kb3IuaWQsXG4gICAgICAuLi51cGRhdGVzXG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubWFrZUdyYXBoUUxSZXF1ZXN0PHsgdXBkYXRlUHJvamVjdFZlbmRvcjogYW55IH0+KHF1ZXJ5LCB7IGlucHV0IH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdC5kYXRhPy51cGRhdGVQcm9qZWN0VmVuZG9yIHx8IG51bGwgfTtcbiAgfVxufVxuXG4vLyBDcmVhdGUgYSBzaW5nbGV0b24gaW5zdGFuY2VcbmxldCBzZXJ2ZXJTZXJ2aWNlOiBBbXBsaWZ5U2VydmVyU2VydmljZSB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW1wbGlmeVNlcnZlclNlcnZpY2UoKTogQW1wbGlmeVNlcnZlclNlcnZpY2Uge1xuICBpZiAoIXNlcnZlclNlcnZpY2UpIHtcbiAgICBzZXJ2ZXJTZXJ2aWNlID0gbmV3IEFtcGxpZnlTZXJ2ZXJTZXJ2aWNlKCk7XG4gIH1cbiAgcmV0dXJuIHNlcnZlclNlcnZpY2U7XG59XG4iXSwibmFtZXMiOlsiQW1wbGlmeSIsIm91dHB1dHMiLCJjb25maWd1cmUiLCJBbXBsaWZ5U2VydmVyU2VydmljZSIsImNvbnN0cnVjdG9yIiwiYXBpRW5kcG9pbnQiLCJkYXRhIiwidXJsIiwiYXBpS2V5IiwiYXBpX2tleSIsIm1ha2VHcmFwaFFMUmVxdWVzdCIsInF1ZXJ5IiwidmFyaWFibGVzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0UHJvamVjdCIsImlkIiwicmVzdWx0IiwiZ2V0VmVuZG9yIiwibGlzdFZlbmRvcnMiLCJmaWx0ZXIiLCJpdGVtcyIsImNyZWF0ZVZlbmRvciIsImlucHV0IiwibG9nIiwiZXJyb3JzIiwiZGVsZXRlVmVuZG9yIiwiY3JlYXRlU3VydmV5TGluayIsImxpc3RTdXJ2ZXlMaW5rc0J5UHJvamVjdCIsInByb2plY3RJZCIsImVxIiwibGlzdFN1cnZleUxpbmtzIiwiZ2V0U3VydmV5TGlua0J5VWlkIiwidWlkIiwibGVuZ3RoIiwidXBkYXRlU3VydmV5TGluayIsInVwZGF0ZUlucHV0IiwiY3JlYXRlUXVlc3Rpb24iLCJsaXN0UXVlc3Rpb25zQnlQcm9qZWN0IiwibGlzdFF1ZXN0aW9ucyIsImRlbGV0ZVF1ZXN0aW9uIiwiY3JlYXRlUmVzcG9uc2UiLCJsaXN0UmVzcG9uc2VzQnlTdXJ2ZXlMaW5rIiwic3VydmV5TGlua0lkIiwibGlzdFJlc3BvbnNlcyIsImxpc3RQcm9qZWN0VmVuZG9ycyIsImNyZWF0ZVByb2plY3RWZW5kb3IiLCJjcmVhdGVJbnB1dCIsInZlbmRvcklkIiwicXVvdGEiLCJjdXJyZW50Q291bnQiLCJ1cGRhdGVQcm9qZWN0VmVuZG9yIiwidXBkYXRlcyIsImV4aXN0aW5nUmVzdWx0IiwiYW5kIiwicHJvamVjdFZlbmRvciIsInNlcnZlclNlcnZpY2UiLCJnZXRBbXBsaWZ5U2VydmVyU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/amplify-server-service.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/vendors/create.ts":
/*!*****************************************!*\
  !*** ./src/pages/api/vendors/create.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/amplify-server-service */ \"(api)/./src/lib/amplify-server-service.ts\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            success: false,\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        const { projectId, name, code } = req.body;\n        console.log(\"Creating vendor with:\", {\n            projectId,\n            name,\n            code\n        });\n        // Log to file for debugging\n        const logData = `${new Date().toISOString()} - Creating vendor: ${JSON.stringify({\n            projectId,\n            name,\n            code\n        })}\\n`;\n        fs__WEBPACK_IMPORTED_MODULE_1___default().appendFileSync(\"/tmp/vendor-debug.log\", logData);\n        if (!projectId || !name || !code) {\n            return res.status(400).json({\n                success: false,\n                message: \"Project ID, name, and code are required\"\n            });\n        }\n        const amplifyServerService = (0,_lib_amplify_server_service__WEBPACK_IMPORTED_MODULE_0__.getAmplifyServerService)();\n        // Create vendor with settings containing the code\n        const vendorSettings = JSON.stringify({\n            code\n        });\n        console.log(\"Creating vendor with settings:\", vendorSettings);\n        const vendorResult = await amplifyServerService.createVendor({\n            name,\n            settings: vendorSettings\n        });\n        console.log(\"Vendor creation result:\", vendorResult);\n        fs__WEBPACK_IMPORTED_MODULE_1___default().appendFileSync(\"/tmp/vendor-debug.log\", `${new Date().toISOString()} - Vendor result: ${JSON.stringify(vendorResult, null, 2)}\\n`);\n        if (!vendorResult.data) {\n            console.error(\"Failed to create vendor. Result:\", vendorResult);\n            return res.status(500).json({\n                success: false,\n                message: \"Failed to create vendor\"\n            });\n        }\n        console.log(\"Vendor created successfully:\", vendorResult.data);\n        // Create ProjectVendor relationship\n        console.log(\"Creating project-vendor relationship...\");\n        const projectVendorResult = await amplifyServerService.createProjectVendor({\n            projectId,\n            vendorId: vendorResult.data.id\n        });\n        console.log(\"Project-vendor creation result:\", projectVendorResult);\n        if (!projectVendorResult.data) {\n            // If ProjectVendor creation fails, try to clean up the vendor\n            await amplifyServerService.deleteVendor({\n                id: vendorResult.data.id\n            });\n            return res.status(500).json({\n                success: false,\n                message: \"Failed to create project-vendor relationship\"\n            });\n        }\n        return res.status(201).json({\n            success: true,\n            vendor: {\n                id: vendorResult.data.id,\n                name: vendorResult.data.name,\n                code: code\n            }\n        });\n    } catch (error) {\n        console.error(\"Error in vendor creation API:\", error);\n        // Log error to file for debugging\n        const errorLog = `${new Date().toISOString()} - ERROR: ${error instanceof Error ? error.message : String(error)}\\n${error instanceof Error && error.stack ? error.stack : \"\"}\\n`;\n        fs__WEBPACK_IMPORTED_MODULE_1___default().appendFileSync(\"/tmp/vendor-debug.log\", errorLog);\n        return res.status(500).json({\n            success: false,\n            message: error instanceof Error ? error.message : \"Internal server error\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVUsRUFBRVUsaUJBQWlCUSxRQUFRUixNQUFNbkIsT0FBTyxHQUFHNEIsT0FBT1QsT0FBTyxFQUFFLEVBQUVBLGlCQUFpQlEsU0FBU1IsTUFBTVUsS0FBSyxHQUFHVixNQUFNVSxLQUFLLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDaExyQyx3REFBaUIsQ0FBQyx5QkFBeUJrQztRQUUzQyxPQUFPL0IsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkMsU0FBUztZQUNUQyxTQUFTbUIsaUJBQWlCUSxRQUFRUixNQUFNbkIsT0FBTyxHQUFHO1FBQ3BEO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cnZleS1saW5rLXdyYXBwZXIvLi9zcmMvcGFnZXMvYXBpL3ZlbmRvcnMvY3JlYXRlLnRzPzljYTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHsgZ2V0QW1wbGlmeVNlcnZlclNlcnZpY2UgfSBmcm9tICdAL2xpYi9hbXBsaWZ5LXNlcnZlci1zZXJ2aWNlJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBwcm9qZWN0SWQsIG5hbWUsIGNvZGUgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyB2ZW5kb3Igd2l0aDonLCB7IHByb2plY3RJZCwgbmFtZSwgY29kZSB9KTtcbiAgICBcbiAgICAvLyBMb2cgdG8gZmlsZSBmb3IgZGVidWdnaW5nXG4gICAgY29uc3QgbG9nRGF0YSA9IGAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX0gLSBDcmVhdGluZyB2ZW5kb3I6ICR7SlNPTi5zdHJpbmdpZnkoeyBwcm9qZWN0SWQsIG5hbWUsIGNvZGUgfSl9XFxuYDtcbiAgICBmcy5hcHBlbmRGaWxlU3luYygnL3RtcC92ZW5kb3ItZGVidWcubG9nJywgbG9nRGF0YSk7XG5cbiAgICBpZiAoIXByb2plY3RJZCB8fCAhbmFtZSB8fCAhY29kZSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgbWVzc2FnZTogJ1Byb2plY3QgSUQsIG5hbWUsIGFuZCBjb2RlIGFyZSByZXF1aXJlZCcgXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBhbXBsaWZ5U2VydmVyU2VydmljZSA9IGdldEFtcGxpZnlTZXJ2ZXJTZXJ2aWNlKCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIHZlbmRvciB3aXRoIHNldHRpbmdzIGNvbnRhaW5pbmcgdGhlIGNvZGVcbiAgICBjb25zdCB2ZW5kb3JTZXR0aW5ncyA9IEpTT04uc3RyaW5naWZ5KHsgY29kZSB9KTtcbiAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgdmVuZG9yIHdpdGggc2V0dGluZ3M6JywgdmVuZG9yU2V0dGluZ3MpO1xuICAgIFxuICAgIGNvbnN0IHZlbmRvclJlc3VsdCA9IGF3YWl0IGFtcGxpZnlTZXJ2ZXJTZXJ2aWNlLmNyZWF0ZVZlbmRvcih7XG4gICAgICBuYW1lLFxuICAgICAgc2V0dGluZ3M6IHZlbmRvclNldHRpbmdzXG4gICAgfSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1ZlbmRvciBjcmVhdGlvbiByZXN1bHQ6JywgdmVuZG9yUmVzdWx0KTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYygnL3RtcC92ZW5kb3ItZGVidWcubG9nJywgYCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSAtIFZlbmRvciByZXN1bHQ6ICR7SlNPTi5zdHJpbmdpZnkodmVuZG9yUmVzdWx0LCBudWxsLCAyKX1cXG5gKTtcblxuICAgIGlmICghdmVuZG9yUmVzdWx0LmRhdGEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgdmVuZG9yLiBSZXN1bHQ6JywgdmVuZG9yUmVzdWx0KTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gY3JlYXRlIHZlbmRvcicgXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnVmVuZG9yIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5OicsIHZlbmRvclJlc3VsdC5kYXRhKTtcblxuICAgIC8vIENyZWF0ZSBQcm9qZWN0VmVuZG9yIHJlbGF0aW9uc2hpcFxuICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBwcm9qZWN0LXZlbmRvciByZWxhdGlvbnNoaXAuLi4nKTtcbiAgICBjb25zdCBwcm9qZWN0VmVuZG9yUmVzdWx0ID0gYXdhaXQgYW1wbGlmeVNlcnZlclNlcnZpY2UuY3JlYXRlUHJvamVjdFZlbmRvcih7XG4gICAgICBwcm9qZWN0SWQsXG4gICAgICB2ZW5kb3JJZDogdmVuZG9yUmVzdWx0LmRhdGEuaWRcbiAgICB9KTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnUHJvamVjdC12ZW5kb3IgY3JlYXRpb24gcmVzdWx0OicsIHByb2plY3RWZW5kb3JSZXN1bHQpO1xuXG4gICAgaWYgKCFwcm9qZWN0VmVuZG9yUmVzdWx0LmRhdGEpIHtcbiAgICAgIC8vIElmIFByb2plY3RWZW5kb3IgY3JlYXRpb24gZmFpbHMsIHRyeSB0byBjbGVhbiB1cCB0aGUgdmVuZG9yXG4gICAgICBhd2FpdCBhbXBsaWZ5U2VydmVyU2VydmljZS5kZWxldGVWZW5kb3IoeyBpZDogdmVuZG9yUmVzdWx0LmRhdGEuaWQgfSk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGNyZWF0ZSBwcm9qZWN0LXZlbmRvciByZWxhdGlvbnNoaXAnIFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB2ZW5kb3I6IHtcbiAgICAgICAgaWQ6IHZlbmRvclJlc3VsdC5kYXRhLmlkLFxuICAgICAgICBuYW1lOiB2ZW5kb3JSZXN1bHQuZGF0YS5uYW1lLFxuICAgICAgICBjb2RlOiBjb2RlXG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiB2ZW5kb3IgY3JlYXRpb24gQVBJOicsIGVycm9yKTtcbiAgICBcbiAgICAvLyBMb2cgZXJyb3IgdG8gZmlsZSBmb3IgZGVidWdnaW5nXG4gICAgY29uc3QgZXJyb3JMb2cgPSBgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9IC0gRVJST1I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfVxcbiR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5zdGFjayA/IGVycm9yLnN0YWNrIDogJyd9XFxuYDtcbiAgICBmcy5hcHBlbmRGaWxlU3luYygnL3RtcC92ZW5kb3ItZGVidWcubG9nJywgZXJyb3JMb2cpO1xuICAgIFxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJ1xuICAgIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbImdldEFtcGxpZnlTZXJ2ZXJTZXJ2aWNlIiwiZnMiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwicHJvamVjdElkIiwibmFtZSIsImNvZGUiLCJib2R5IiwiY29uc29sZSIsImxvZyIsImxvZ0RhdGEiLCJEYXRlIiwidG9JU09TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiYXBwZW5kRmlsZVN5bmMiLCJhbXBsaWZ5U2VydmVyU2VydmljZSIsInZlbmRvclNldHRpbmdzIiwidmVuZG9yUmVzdWx0IiwiY3JlYXRlVmVuZG9yIiwic2V0dGluZ3MiLCJkYXRhIiwiZXJyb3IiLCJwcm9qZWN0VmVuZG9yUmVzdWx0IiwiY3JlYXRlUHJvamVjdFZlbmRvciIsInZlbmRvcklkIiwiaWQiLCJkZWxldGVWZW5kb3IiLCJ2ZW5kb3IiLCJlcnJvckxvZyIsIkVycm9yIiwiU3RyaW5nIiwic3RhY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/vendors/create.ts\n");

/***/ }),

/***/ "(api)/./amplify_outputs.json":
/*!******************************!*\
  !*** ./amplify_outputs.json ***!
  \******************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"auth":{"user_pool_id":"us-east-1_Gh00T12dW","aws_region":"us-east-1","user_pool_client_id":"5e5a5drp00jd43tr7ph1ceg412","identity_pool_id":"us-east-1:a0b02f73-93a3-4b52-b1cb-eaa306375a33","mfa_methods":["SMS"],"standard_required_attributes":["email"],"username_attributes":["email"],"user_verification_types":["email"],"groups":[],"mfa_configuration":"OPTIONAL","password_policy":{"min_length":8,"require_lowercase":true,"require_numbers":true,"require_symbols":true,"require_uppercase":true},"unauthenticated_identities_enabled":true},"data":{"url":"https://vth6pntotrhvfpxo2gwn3kzqry.appsync-api.us-east-1.amazonaws.com/graphql","aws_region":"us-east-1","api_key":"da2-ee26yqskvzfpjpquwbi53shbvu","default_authorization_type":"AWS_IAM","authorization_types":["API_KEY","AMAZON_COGNITO_USER_POOLS"],"model_introspection":{"version":1,"models":{"Project":{"name":"Project","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"description":{"name":"description","isArray":false,"type":"String","isRequired":false,"attributes":[]},"status":{"name":"status","isArray":false,"type":{"enum":"ProjectStatus"},"isRequired":false,"attributes":[]},"targetCompletions":{"name":"targetCompletions","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"currentCompletions":{"name":"currentCompletions","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"surveyUrl":{"name":"surveyUrl","isArray":false,"type":"String","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"settings":{"name":"settings","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]}},"syncable":true,"pluralName":"Projects","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"Question":{"name":"Question","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"text":{"name":"text","isArray":false,"type":"String","isRequired":true,"attributes":[]},"type":{"name":"type","isArray":false,"type":{"enum":"QuestionType"},"isRequired":false,"attributes":[]},"options":{"name":"options","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"sequence":{"name":"sequence","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"isRequired":{"name":"isRequired","isArray":false,"type":"Boolean","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"Questions","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"SurveyLink":{"name":"SurveyLink","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"uid":{"name":"uid","isArray":false,"type":"String","isRequired":true,"attributes":[]},"status":{"name":"status","isArray":false,"type":{"enum":"SurveyLinkStatus"},"isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"clickedAt":{"name":"clickedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"completedAt":{"name":"completedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"ipAddress":{"name":"ipAddress","isArray":false,"type":"String","isRequired":false,"attributes":[]},"userAgent":{"name":"userAgent","isArray":false,"type":"String","isRequired":false,"attributes":[]},"geoData":{"name":"geoData","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"metadata":{"name":"metadata","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"vendorId":{"name":"vendorId","isArray":false,"type":"ID","isRequired":false,"attributes":[]}},"syncable":true,"pluralName":"SurveyLinks","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]},{"allow":"public","provider":"iam","operations":["read","update"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"Vendor":{"name":"Vendor","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"contactName":{"name":"contactName","isArray":false,"type":"String","isRequired":false,"attributes":[]},"contactEmail":{"name":"contactEmail","isArray":false,"type":"String","isRequired":false,"attributes":[]},"settings":{"name":"settings","isArray":false,"type":"AWSJSON","isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"Vendors","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"ProjectVendor":{"name":"ProjectVendor","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"projectId":{"name":"projectId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"vendorId":{"name":"vendorId","isArray":false,"type":"ID","isRequired":false,"attributes":[]},"quota":{"name":"quota","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"currentCount":{"name":"currentCount","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]}},"syncable":true,"pluralName":"ProjectVendors","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"allow":"private","operations":["create","read","update","delete"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}}},"enums":{"ProjectStatus":{"name":"ProjectStatus","values":["ACTIVE","PAUSED","COMPLETED"]},"QuestionType":{"name":"QuestionType","values":["MULTIPLE_CHOICE","TEXT","COUNTRY","SCALE"]},"SurveyLinkStatus":{"name":"SurveyLinkStatus","values":["UNUSED","CLICKED","COMPLETED","DISQUALIFIED","QUOTA_FULL"]}},"nonModels":{}}},"version":"1.3"}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fvendors%2Fcreate&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fvendors%2Fcreate.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();